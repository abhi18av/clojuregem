s(:class,
  s(:const, nil, :String), nil,
  s(:begin,
    s(:def, :unicode_normalize,
      s(:args,
        s(:optarg, :form,
          s(:sym, :nfc))),
      s(:begin,
        s(:if,
          s(:defined?,
            s(:const, nil, :UnicodeNormalize)), nil,
          s(:send, nil, :require,
            s(:str, "unicode_normalize/normalize.rb"))),
        s(:send,
          s(:const, nil, :UnicodeNormalize), :normalize,
          s(:self),
          s(:lvar, :form)))),
    s(:def, :unicode_normalize!,
      s(:args,
        s(:optarg, :form,
          s(:sym, :nfc))),
      s(:begin,
        s(:if,
          s(:defined?,
            s(:const, nil, :UnicodeNormalize)), nil,
          s(:send, nil, :require,
            s(:str, "unicode_normalize/normalize.rb"))),
        s(:send, nil, :replace,
          s(:send, nil, :unicode_normalize,
            s(:lvar, :form))))),
    s(:def, :unicode_normalized?,
      s(:args,
        s(:optarg, :form,
          s(:sym, :nfc))),
      s(:begin,
        s(:if,
          s(:defined?,
            s(:const, nil, :UnicodeNormalize)), nil,
          s(:send, nil, :require,
            s(:str, "unicode_normalize/normalize.rb"))),
        s(:send,
          s(:const, nil, :UnicodeNormalize), :normalized?,
          s(:self),
          s(:lvar, :form))))))
