s(:begin,
  s(:send, nil, :require,
    s(:str, "rubygems")),
  s(:if,
    s(:defined?,
      s(:const, nil, :RDoc)), nil,
    s(:kwbegin,
      s(:rescue,
        s(:send, nil, :gem,
          s(:str, "rdoc")),
        s(:resbody,
          s(:array,
            s(:const,
              s(:const, nil, :Gem), :LoadError)), nil, nil), nil))),
  s(:send, nil, :require,
    s(:str, "rdoc/task")),
  s(:class,
    s(:const,
      s(:const,
        s(:const, nil, :RDoc), :RI), :Task),
    s(:const,
      s(:const, nil, :RDoc), :Task),
    s(:begin,
      s(:casgn, nil, :DEFAULT_NAMES,
        s(:hash,
          s(:pair,
            s(:sym, :clobber_rdoc),
            s(:sym, :clobber_ri)),
          s(:pair,
            s(:sym, :rdoc),
            s(:sym, :ri)),
          s(:pair,
            s(:sym, :rerdoc),
            s(:sym, :reri)))),
      s(:def, :initialize,
        s(:args,
          s(:optarg, :name,
            s(:const, nil, :DEFAULT_NAMES))),
        s(:zsuper)),
      s(:def, :clobber_task_description,
        s(:args),
        s(:str, "Remove RI data files")),
      s(:def, :defaults,
        s(:args),
        s(:begin,
          s(:zsuper),
          s(:ivasgn, :@rdoc_dir,
            s(:str, ".rdoc")))),
      s(:def, :rdoc_task_description,
        s(:args),
        s(:str, "Build RI data files")),
      s(:def, :rerdoc_task_description,
        s(:args),
        s(:str, "Rebuild RI data files")))))
