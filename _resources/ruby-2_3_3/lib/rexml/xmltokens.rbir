s(:module,
  s(:const, nil, :REXML),
  s(:module,
    s(:const, nil, :XMLTokens),
    s(:begin,
      s(:lvasgn, :name_start_chars,
        s(:array,
          s(:str, ":"),
          s(:str, "A-Z"),
          s(:str, "_"),
          s(:str, "a-z"),
          s(:str, "\\u00C0-\\u00D6"),
          s(:str, "\\u00D8-\\u00F6"),
          s(:str, "\\u00F8-\\u02FF"),
          s(:str, "\\u0370-\\u037D"),
          s(:str, "\\u037F-\\u1FFF"),
          s(:str, "\\u200C-\\u200D"),
          s(:str, "\\u2070-\\u218F"),
          s(:str, "\\u2C00-\\u2FEF"),
          s(:str, "\\u3001-\\uD7FF"),
          s(:str, "\\uF900-\\uFDCF"),
          s(:str, "\\uFDF0-\\uFFFD"),
          s(:str, "\\u{10000}-\\u{EFFFF}"))),
      s(:lvasgn, :name_chars,
        s(:send,
          s(:lvar, :name_start_chars), :+,
          s(:array,
            s(:str, "\\-"),
            s(:str, "\\."),
            s(:str, "0-9"),
            s(:str, "\\u00B7"),
            s(:str, "\\u0300-\\u036F"),
            s(:str, "\\u203F-\\u2040")))),
      s(:casgn, nil, :NAME_START_CHAR,
        s(:dstr,
          s(:str, "["),
          s(:begin,
            s(:send,
              s(:lvar, :name_start_chars), :join,
              s(:str, ""))),
          s(:str, "]"))),
      s(:casgn, nil, :NAME_CHAR,
        s(:dstr,
          s(:str, "["),
          s(:begin,
            s(:send,
              s(:lvar, :name_chars), :join,
              s(:str, ""))),
          s(:str, "]"))),
      s(:casgn, nil, :NAMECHAR,
        s(:const, nil, :NAME_CHAR)),
      s(:lvasgn, :ncname_start_chars,
        s(:send,
          s(:lvar, :name_start_chars), :-,
          s(:array,
            s(:str, ":")))),
      s(:lvasgn, :ncname_chars,
        s(:send,
          s(:lvar, :name_chars), :-,
          s(:array,
            s(:str, ":")))),
      s(:casgn, nil, :NCNAME_STR,
        s(:dstr,
          s(:str, "["),
          s(:begin,
            s(:send,
              s(:lvar, :ncname_start_chars), :join,
              s(:str, ""))),
          s(:str, "]["),
          s(:begin,
            s(:send,
              s(:lvar, :ncname_chars), :join,
              s(:str, ""))),
          s(:str, "]*"))),
      s(:casgn, nil, :NAME_STR,
        s(:dstr,
          s(:str, "(?:"),
          s(:begin,
            s(:const, nil, :NCNAME_STR)),
          s(:str, ":)?"),
          s(:begin,
            s(:const, nil, :NCNAME_STR)))),
      s(:casgn, nil, :NAME,
        s(:dstr,
          s(:str, "("),
          s(:begin,
            s(:const, nil, :NAME_START_CHAR)),
          s(:begin,
            s(:const, nil, :NAME_CHAR)),
          s(:str, "*)"))),
      s(:casgn, nil, :NMTOKEN,
        s(:dstr,
          s(:str, "(?:"),
          s(:begin,
            s(:const, nil, :NAME_CHAR)),
          s(:str, ")+"))),
      s(:casgn, nil, :NMTOKENS,
        s(:dstr,
          s(:begin,
            s(:const, nil, :NMTOKEN)),
          s(:str, "(\\s+"),
          s(:begin,
            s(:const, nil, :NMTOKEN)),
          s(:str, ")*"))),
      s(:casgn, nil, :REFERENCE,
        s(:dstr,
          s(:str, "(?:&"),
          s(:begin,
            s(:const, nil, :NAME)),
          s(:str, ";|&#\\d+;|&#x[0-9a-fA-F]+;)"))))))
