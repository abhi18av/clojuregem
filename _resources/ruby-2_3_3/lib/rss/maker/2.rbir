s(:begin,
  s(:send, nil, :require,
    s(:str, "rss/2.0")),
  s(:send, nil, :require,
    s(:str, "rss/maker/0.9")),
  s(:module,
    s(:const, nil, :RSS),
    s(:module,
      s(:const, nil, :Maker),
      s(:begin,
        s(:class,
          s(:const, nil, :RSS20),
          s(:const, nil, :RSS09),
          s(:begin,
            s(:def, :initialize,
              s(:args,
                s(:optarg, :feed_version,
                  s(:str, "2.0"))),
              s(:zsuper)),
            s(:class,
              s(:const, nil, :Channel),
              s(:const,
                s(:const, nil, :RSS09), :Channel),
              s(:begin,
                s(:send, nil, :private),
                s(:def, :required_variable_names,
                  s(:args),
                  s(:array,
                    s(:str, "link"))),
                s(:class,
                  s(:const, nil, :SkipDays),
                  s(:const,
                    s(:const,
                      s(:const, nil, :RSS09), :Channel), :SkipDays),
                  s(:class,
                    s(:const, nil, :Day),
                    s(:const,
                      s(:const,
                        s(:const,
                          s(:const, nil, :RSS09), :Channel), :SkipDays), :Day), nil)),
                s(:class,
                  s(:const, nil, :SkipHours),
                  s(:const,
                    s(:const,
                      s(:const, nil, :RSS09), :Channel), :SkipHours),
                  s(:class,
                    s(:const, nil, :Hour),
                    s(:const,
                      s(:const,
                        s(:const,
                          s(:const, nil, :RSS09), :Channel), :SkipHours), :Hour), nil)),
                s(:class,
                  s(:const, nil, :Cloud),
                  s(:const,
                    s(:const,
                      s(:const, nil, :RSS09), :Channel), :Cloud),
                  s(:begin,
                    s(:def, :to_feed,
                      s(:args,
                        s(:arg, :rss),
                        s(:arg, :channel)),
                      s(:begin,
                        s(:lvasgn, :cloud,
                          s(:send,
                            s(:const,
                              s(:const,
                                s(:const, nil, :Rss), :Channel), :Cloud), :new)),
                        s(:lvasgn, :set,
                          s(:send, nil, :setup_values,
                            s(:lvar, :cloud))),
                        s(:if,
                          s(:lvar, :set),
                          s(:begin,
                            s(:send,
                              s(:lvar, :channel), :cloud=,
                              s(:lvar, :cloud)),
                            s(:send, nil, :set_parent,
                              s(:lvar, :cloud),
                              s(:lvar, :channel)),
                            s(:send, nil, :setup_other_elements,
                              s(:lvar, :rss),
                              s(:lvar, :cloud))), nil))),
                    s(:send, nil, :private),
                    s(:def, :required_variable_names,
                      s(:args),
                      s(:array,
                        s(:str, "domain"),
                        s(:str, "port"),
                        s(:str, "path"),
                        s(:str, "registerProcedure"),
                        s(:str, "protocol"))))),
                s(:class,
                  s(:const, nil, :Categories),
                  s(:const,
                    s(:const,
                      s(:const, nil, :RSS09), :Channel), :Categories),
                  s(:begin,
                    s(:def, :to_feed,
                      s(:args,
                        s(:arg, :rss),
                        s(:arg, :channel)),
                      s(:block,
                        s(:send,
                          s(:ivar, :@categories), :each),
                        s(:args,
                          s(:arg, :category)),
                        s(:send,
                          s(:lvar, :category), :to_feed,
                          s(:lvar, :rss),
                          s(:lvar, :channel)))),
                    s(:class,
                      s(:const, nil, :Category),
                      s(:const,
                        s(:const,
                          s(:const,
                            s(:const, nil, :RSS09), :Channel), :Categories), :Category),
                      s(:begin,
                        s(:def, :to_feed,
                          s(:args,
                            s(:arg, :rss),
                            s(:arg, :channel)),
                          s(:begin,
                            s(:lvasgn, :category,
                              s(:send,
                                s(:const,
                                  s(:const,
                                    s(:const, nil, :Rss), :Channel), :Category), :new)),
                            s(:lvasgn, :set,
                              s(:send, nil, :setup_values,
                                s(:lvar, :category))),
                            s(:if,
                              s(:lvar, :set),
                              s(:begin,
                                s(:send,
                                  s(:send,
                                    s(:lvar, :channel), :categories), :<<,
                                  s(:lvar, :category)),
                                s(:send, nil, :set_parent,
                                  s(:lvar, :category),
                                  s(:lvar, :channel)),
                                s(:send, nil, :setup_other_elements,
                                  s(:lvar, :rss),
                                  s(:lvar, :category))), nil))),
                        s(:send, nil, :private),
                        s(:def, :required_variable_names,
                          s(:args),
                          s(:array,
                            s(:str, "content"))))))),
                s(:class,
                  s(:const, nil, :Generator),
                  s(:const, nil, :GeneratorBase),
                  s(:begin,
                    s(:def, :to_feed,
                      s(:args,
                        s(:arg, :rss),
                        s(:arg, :channel)),
                      s(:send,
                        s(:lvar, :channel), :generator=,
                        s(:send, nil, :content))),
                    s(:send, nil, :private),
                    s(:def, :required_variable_names,
                      s(:args),
                      s(:array,
                        s(:str, "content"))))))),
            s(:class,
              s(:const, nil, :Image),
              s(:const,
                s(:const, nil, :RSS09), :Image),
              s(:begin,
                s(:send, nil, :private),
                s(:def, :required_element?,
                  s(:args),
                  s(:false)))),
            s(:class,
              s(:const, nil, :Items),
              s(:const,
                s(:const, nil, :RSS09), :Items),
              s(:class,
                s(:const, nil, :Item),
                s(:const,
                  s(:const,
                    s(:const, nil, :RSS09), :Items), :Item),
                s(:begin,
                  s(:send, nil, :private),
                  s(:def, :required_variable_names,
                    s(:args),
                    s(:array)),
                  s(:def, :not_set_required_variables,
                    s(:args),
                    s(:begin,
                      s(:lvasgn, :vars,
                        s(:zsuper)),
                      s(:if,
                        s(:and,
                          s(:send,
                            s(:block,
                              s(:send, nil, :title),
                              s(:args,
                                s(:arg, :t)),
                              s(:send,
                                s(:lvar, :t), :have_required_values?)), :!),
                          s(:send,
                            s(:block,
                              s(:send, nil, :description),
                              s(:args,
                                s(:arg, :d)),
                              s(:send,
                                s(:lvar, :d), :have_required_values?)), :!)),
                        s(:send,
                          s(:lvar, :vars), :<<,
                          s(:str, "title or description")), nil),
                      s(:lvar, :vars))),
                  s(:def, :variables,
                    s(:args),
                    s(:send,
                      s(:zsuper), :+,
                      s(:array,
                        s(:str, "pubDate")))),
                  s(:class,
                    s(:const, nil, :Guid),
                    s(:const,
                      s(:const,
                        s(:const,
                          s(:const, nil, :RSS09), :Items), :Item), :Guid),
                    s(:begin,
                      s(:def, :to_feed,
                        s(:args,
                          s(:arg, :rss),
                          s(:arg, :item)),
                        s(:begin,
                          s(:lvasgn, :guid,
                            s(:send,
                              s(:const,
                                s(:const,
                                  s(:const,
                                    s(:const, nil, :Rss), :Channel), :Item), :Guid), :new)),
                          s(:lvasgn, :set,
                            s(:send, nil, :setup_values,
                              s(:lvar, :guid))),
                          s(:if,
                            s(:lvar, :set),
                            s(:begin,
                              s(:send,
                                s(:lvar, :item), :guid=,
                                s(:lvar, :guid)),
                              s(:send, nil, :set_parent,
                                s(:lvar, :guid),
                                s(:lvar, :item)),
                              s(:send, nil, :setup_other_elements,
                                s(:lvar, :rss),
                                s(:lvar, :guid))), nil))),
                      s(:send, nil, :private),
                      s(:def, :required_variable_names,
                        s(:args),
                        s(:array,
                          s(:str, "content"))))),
                  s(:class,
                    s(:const, nil, :Enclosure),
                    s(:const,
                      s(:const,
                        s(:const,
                          s(:const, nil, :RSS09), :Items), :Item), :Enclosure),
                    s(:begin,
                      s(:def, :to_feed,
                        s(:args,
                          s(:arg, :rss),
                          s(:arg, :item)),
                        s(:begin,
                          s(:lvasgn, :enclosure,
                            s(:send,
                              s(:const,
                                s(:const,
                                  s(:const,
                                    s(:const, nil, :Rss), :Channel), :Item), :Enclosure), :new)),
                          s(:lvasgn, :set,
                            s(:send, nil, :setup_values,
                              s(:lvar, :enclosure))),
                          s(:if,
                            s(:lvar, :set),
                            s(:begin,
                              s(:send,
                                s(:lvar, :item), :enclosure=,
                                s(:lvar, :enclosure)),
                              s(:send, nil, :set_parent,
                                s(:lvar, :enclosure),
                                s(:lvar, :item)),
                              s(:send, nil, :setup_other_elements,
                                s(:lvar, :rss),
                                s(:lvar, :enclosure))), nil))),
                      s(:send, nil, :private),
                      s(:def, :required_variable_names,
                        s(:args),
                        s(:array,
                          s(:str, "url"),
                          s(:str, "length"),
                          s(:str, "type"))))),
                  s(:class,
                    s(:const, nil, :Source),
                    s(:const,
                      s(:const,
                        s(:const,
                          s(:const, nil, :RSS09), :Items), :Item), :Source),
                    s(:begin,
                      s(:def, :to_feed,
                        s(:args,
                          s(:arg, :rss),
                          s(:arg, :item)),
                        s(:begin,
                          s(:lvasgn, :source,
                            s(:send,
                              s(:const,
                                s(:const,
                                  s(:const,
                                    s(:const, nil, :Rss), :Channel), :Item), :Source), :new)),
                          s(:lvasgn, :set,
                            s(:send, nil, :setup_values,
                              s(:lvar, :source))),
                          s(:if,
                            s(:lvar, :set),
                            s(:begin,
                              s(:send,
                                s(:lvar, :item), :source=,
                                s(:lvar, :source)),
                              s(:send, nil, :set_parent,
                                s(:lvar, :source),
                                s(:lvar, :item)),
                              s(:send, nil, :setup_other_elements,
                                s(:lvar, :rss),
                                s(:lvar, :source))), nil))),
                      s(:send, nil, :private),
                      s(:def, :required_variable_names,
                        s(:args),
                        s(:array,
                          s(:str, "url"),
                          s(:str, "content"))),
                      s(:class,
                        s(:const, nil, :Links),
                        s(:const,
                          s(:const,
                            s(:const,
                              s(:const,
                                s(:const, nil, :RSS09), :Items), :Item), :Source), :Links),
                        s(:begin,
                          s(:def, :to_feed,
                            s(:args,
                              s(:arg, :rss),
                              s(:arg, :source)),
                            s(:begin,
                              s(:if,
                                s(:send,
                                  s(:ivar, :@links), :empty?),
                                s(:return), nil),
                              s(:send,
                                s(:send,
                                  s(:ivar, :@links), :first), :to_feed,
                                s(:lvar, :rss),
                                s(:lvar, :source)))),
                          s(:class,
                            s(:const, nil, :Link),
                            s(:const,
                              s(:const,
                                s(:const,
                                  s(:const,
                                    s(:const,
                                      s(:const, nil, :RSS09), :Items), :Item), :Source), :Links), :Link),
                            s(:def, :to_feed,
                              s(:args,
                                s(:arg, :rss),
                                s(:arg, :source)),
                              s(:send,
                                s(:lvar, :source), :url=,
                                s(:send, nil, :href)))))))),
                  s(:class,
                    s(:const, nil, :Categories),
                    s(:const,
                      s(:const,
                        s(:const,
                          s(:const, nil, :RSS09), :Items), :Item), :Categories),
                    s(:begin,
                      s(:def, :to_feed,
                        s(:args,
                          s(:arg, :rss),
                          s(:arg, :item)),
                        s(:block,
                          s(:send,
                            s(:ivar, :@categories), :each),
                          s(:args,
                            s(:arg, :category)),
                          s(:send,
                            s(:lvar, :category), :to_feed,
                            s(:lvar, :rss),
                            s(:lvar, :item)))),
                      s(:class,
                        s(:const, nil, :Category),
                        s(:const,
                          s(:const,
                            s(:const,
                              s(:const,
                                s(:const, nil, :RSS09), :Items), :Item), :Categories), :Category),
                        s(:begin,
                          s(:def, :to_feed,
                            s(:args,
                              s(:arg, :rss),
                              s(:arg, :item)),
                            s(:begin,
                              s(:lvasgn, :category,
                                s(:send,
                                  s(:const,
                                    s(:const,
                                      s(:const,
                                        s(:const, nil, :Rss), :Channel), :Item), :Category), :new)),
                              s(:lvasgn, :set,
                                s(:send, nil, :setup_values,
                                  s(:lvar, :category))),
                              s(:if,
                                s(:lvar, :set),
                                s(:begin,
                                  s(:send,
                                    s(:send,
                                      s(:lvar, :item), :categories), :<<,
                                    s(:lvar, :category)),
                                  s(:send, nil, :set_parent,
                                    s(:lvar, :category),
                                    s(:lvar, :item)),
                                  s(:send, nil, :setup_other_elements,
                                    s(:lvar, :rss))), nil))),
                          s(:send, nil, :private),
                          s(:def, :required_variable_names,
                            s(:args),
                            s(:array,
                              s(:str, "content"))))))),
                  s(:class,
                    s(:const, nil, :Authors),
                    s(:const,
                      s(:const,
                        s(:const,
                          s(:const, nil, :RSS09), :Items), :Item), :Authors),
                    s(:begin,
                      s(:def, :to_feed,
                        s(:args,
                          s(:arg, :rss),
                          s(:arg, :item)),
                        s(:begin,
                          s(:if,
                            s(:send,
                              s(:ivar, :@authors), :empty?),
                            s(:return), nil),
                          s(:send,
                            s(:send,
                              s(:ivar, :@authors), :first), :to_feed,
                            s(:lvar, :rss),
                            s(:lvar, :item)))),
                      s(:class,
                        s(:const, nil, :Author),
                        s(:const,
                          s(:const,
                            s(:const,
                              s(:const,
                                s(:const, nil, :RSS09), :Items), :Item), :Authors), :Author),
                        s(:def, :to_feed,
                          s(:args,
                            s(:arg, :rss),
                            s(:arg, :item)),
                          s(:send,
                            s(:lvar, :item), :author=,
                            s(:send, nil, :name))))))))),
            s(:class,
              s(:const, nil, :Textinput),
              s(:const,
                s(:const, nil, :RSS09), :Textinput), nil))),
        s(:send, nil, :add_maker,
          s(:str, "2.0"),
          s(:str, "2.0"),
          s(:const, nil, :RSS20)),
        s(:send, nil, :add_maker,
          s(:str, "rss2.0"),
          s(:str, "2.0"),
          s(:const, nil, :RSS20))))))
