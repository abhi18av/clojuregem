s(:begin,
  s(:send, nil, :require,
    s(:str, "rss/parser")),
  s(:module,
    s(:const, nil, :RSS),
    s(:begin,
      s(:module,
        s(:const, nil, :Atom),
        s(:begin,
          s(:casgn, nil, :URI,
            s(:str, "http://www.w3.org/2005/Atom")),
          s(:casgn, nil, :XHTML_URI,
            s(:str, "http://www.w3.org/1999/xhtml")),
          s(:module,
            s(:const, nil, :CommonModel),
            s(:begin,
              s(:casgn, nil, :NSPOOL,
                s(:hash)),
              s(:casgn, nil, :ELEMENTS,
                s(:array)),
              s(:defs,
                s(:self), :append_features,
                s(:args,
                  s(:arg, :klass)),
                s(:begin,
                  s(:zsuper),
                  s(:send,
                    s(:lvar, :klass), :install_must_call_validator,
                    s(:str, "atom"),
                    s(:const, nil, :URI)),
                  s(:block,
                    s(:send,
                      s(:array,
                        s(:array,
                          s(:str, "lang"),
                          s(:sym, :xml)),
                        s(:array,
                          s(:str, "base"),
                          s(:sym, :xml))), :each),
                    s(:args,
                      s(:arg, :name),
                      s(:arg, :uri),
                      s(:arg, :required)),
                    s(:send,
                      s(:lvar, :klass), :install_get_attribute,
                      s(:lvar, :name),
                      s(:lvar, :uri),
                      s(:lvar, :required),
                      s(:array,
                        s(:nil),
                        s(:sym, :inherit)))),
                  s(:block,
                    s(:send,
                      s(:lvar, :klass), :class_eval),
                    s(:args),
                    s(:sclass,
                      s(:self),
                      s(:begin,
                        s(:def, :required_uri,
                          s(:args),
                          s(:const, nil, :URI)),
                        s(:def, :need_parent?,
                          s(:args),
                          s(:true))))))))),
          s(:module,
            s(:const, nil, :ContentModel),
            s(:begin,
              s(:module,
                s(:const, nil, :ClassMethods),
                s(:def, :content_type,
                  s(:args),
                  s(:or_asgn,
                    s(:ivasgn, :@content_type),
                    s(:nil)))),
              s(:sclass,
                s(:self),
                s(:def, :append_features,
                  s(:args,
                    s(:arg, :klass)),
                  s(:begin,
                    s(:zsuper),
                    s(:send,
                      s(:lvar, :klass), :extend,
                      s(:const, nil, :ClassMethods)),
                    s(:send,
                      s(:lvar, :klass), :content_setup,
                      s(:send,
                        s(:lvar, :klass), :content_type),
                      s(:send,
                        s(:lvar, :klass), :tag_name))))),
              s(:def, :maker_target,
                s(:args,
                  s(:arg, :target)),
                s(:lvar, :target)),
              s(:send, nil, :private),
              s(:def, :setup_maker_element_writer,
                s(:args),
                s(:dstr,
                  s(:begin,
                    s(:send,
                      s(:send,
                        s(:send,
                          s(:send,
                            s(:send,
                              s(:self), :class), :name), :split,
                          s(:regexp,
                            s(:str, "::"),
                            s(:regopt))), :last), :downcase)),
                  s(:str, "="))),
              s(:def, :setup_maker_element,
                s(:args,
                  s(:arg, :target)),
                s(:begin,
                  s(:send,
                    s(:lvar, :target), :__send__,
                    s(:send, nil, :setup_maker_element_writer),
                    s(:send, nil, :content)),
                  s(:zsuper))))),
          s(:module,
            s(:const, nil, :URIContentModel),
            s(:sclass,
              s(:self),
              s(:def, :append_features,
                s(:args,
                  s(:arg, :klass)),
                s(:begin,
                  s(:zsuper),
                  s(:block,
                    s(:send,
                      s(:lvar, :klass), :class_eval),
                    s(:args),
                    s(:begin,
                      s(:ivasgn, :@content_type,
                        s(:array,
                          s(:nil),
                          s(:sym, :uri))),
                      s(:send, nil, :include,
                        s(:const, nil, :ContentModel)))))))),
          s(:module,
            s(:const, nil, :TextConstruct),
            s(:begin,
              s(:defs,
                s(:self), :append_features,
                s(:args,
                  s(:arg, :klass)),
                s(:begin,
                  s(:zsuper),
                  s(:block,
                    s(:send,
                      s(:lvar, :klass), :class_eval),
                    s(:args),
                    s(:begin,
                      s(:block,
                        s(:send,
                          s(:array,
                            s(:array,
                              s(:str, "type"),
                              s(:str, ""))), :each),
                        s(:args,
                          s(:arg, :name),
                          s(:arg, :uri),
                          s(:arg, :required)),
                        s(:send, nil, :install_get_attribute,
                          s(:lvar, :name),
                          s(:lvar, :uri),
                          s(:lvar, :required),
                          s(:sym, :text_type))),
                      s(:send, nil, :content_setup),
                      s(:send, nil, :add_need_initialize_variable,
                        s(:str, "xhtml")),
                      s(:sclass,
                        s(:self),
                        s(:begin,
                          s(:def, :xml_getter,
                            s(:args),
                            s(:str, "xhtml")),
                          s(:def, :xml_setter,
                            s(:args),
                            s(:str, "xhtml=")))))))),
              s(:send, nil, :attr_writer,
                s(:sym, :xhtml)),
              s(:def, :xhtml,
                s(:args),
                s(:begin,
                  s(:if,
                    s(:send,
                      s(:ivar, :@xhtml), :nil?),
                    s(:return,
                      s(:ivar, :@xhtml)), nil),
                  s(:if,
                    s(:and,
                      s(:send,
                        s(:ivar, :@xhtml), :is_a?,
                        s(:const,
                          s(:const, nil, :XML), :Element)),
                      s(:send,
                        s(:array,
                          s(:send,
                            s(:ivar, :@xhtml), :name),
                          s(:send,
                            s(:ivar, :@xhtml), :uri)), :==,
                        s(:array,
                          s(:str, "div"),
                          s(:const, nil, :XHTML_URI)))),
                    s(:return,
                      s(:ivar, :@xhtml)), nil),
                  s(:lvasgn, :children,
                    s(:ivar, :@xhtml)),
                  s(:if,
                    s(:send,
                      s(:lvar, :children), :is_a?,
                      s(:const, nil, :Array)), nil,
                    s(:lvasgn, :children,
                      s(:array,
                        s(:lvar, :children)))),
                  s(:send,
                    s(:const,
                      s(:const, nil, :XML), :Element), :new,
                    s(:str, "div"),
                    s(:nil),
                    s(:const, nil, :XHTML_URI),
                    s(:hash,
                      s(:pair,
                        s(:str, "xmlns"),
                        s(:const, nil, :XHTML_URI))),
                    s(:lvar, :children)))),
              s(:def, :have_xml_content?,
                s(:args),
                s(:send,
                  s(:ivar, :@type), :==,
                  s(:str, "xhtml"))),
              s(:def, :atom_validate,
                s(:args,
                  s(:arg, :ignore_unknown_element),
                  s(:arg, :tags),
                  s(:arg, :uri)),
                s(:if,
                  s(:send, nil, :have_xml_content?),
                  s(:begin,
                    s(:if,
                      s(:send,
                        s(:ivar, :@xhtml), :nil?),
                      s(:send, nil, :raise,
                        s(:send,
                          s(:const, nil, :MissingTagError), :new,
                          s(:str, "div"),
                          s(:send, nil, :tag_name))), nil),
                    s(:if,
                      s(:send,
                        s(:array,
                          s(:send,
                            s(:ivar, :@xhtml), :name),
                          s(:send,
                            s(:ivar, :@xhtml), :uri)), :==,
                        s(:array,
                          s(:str, "div"),
                          s(:const, nil, :XHTML_URI))), nil,
                      s(:send, nil, :raise,
                        s(:send,
                          s(:const, nil, :NotExpectedTagError), :new,
                          s(:send,
                            s(:ivar, :@xhtml), :name),
                          s(:send,
                            s(:ivar, :@xhtml), :uri),
                          s(:send, nil, :tag_name))))), nil)),
              s(:send, nil, :private),
              s(:def, :maker_target,
                s(:args,
                  s(:arg, :target)),
                s(:block,
                  s(:send,
                    s(:lvar, :target), :__send__,
                    s(:send,
                      s(:send,
                        s(:send,
                          s(:send,
                            s(:send,
                              s(:self), :class), :name), :split,
                          s(:regexp,
                            s(:str, "::"),
                            s(:regopt))), :last), :downcase)),
                  s(:args,
                    s(:arg, :x)),
                  s(:lvar, :x))),
              s(:def, :setup_maker_attributes,
                s(:args,
                  s(:arg, :target)),
                s(:begin,
                  s(:send,
                    s(:lvar, :target), :type=,
                    s(:send, nil, :type)),
                  s(:send,
                    s(:lvar, :target), :content=,
                    s(:send, nil, :content)),
                  s(:send,
                    s(:lvar, :target), :xml_content=,
                    s(:ivar, :@xhtml)))))),
          s(:module,
            s(:const, nil, :PersonConstruct),
            s(:begin,
              s(:defs,
                s(:self), :append_features,
                s(:args,
                  s(:arg, :klass)),
                s(:begin,
                  s(:zsuper),
                  s(:block,
                    s(:send,
                      s(:lvar, :klass), :class_eval),
                    s(:args),
                    s(:block,
                      s(:send,
                        s(:array,
                          s(:array,
                            s(:str, "name"),
                            s(:nil)),
                          s(:array,
                            s(:str, "uri"),
                            s(:str, "?")),
                          s(:array,
                            s(:str, "email"),
                            s(:str, "?"))), :each),
                      s(:args,
                        s(:arg, :tag),
                        s(:arg, :occurs)),
                      s(:send, nil, :install_have_attribute_element,
                        s(:lvar, :tag),
                        s(:const, nil, :URI),
                        s(:lvar, :occurs),
                        s(:nil),
                        s(:sym, :content)))))),
              s(:def, :maker_target,
                s(:args,
                  s(:arg, :target)),
                s(:send,
                  s(:lvar, :target), :__send__,
                  s(:dstr,
                    s(:str, "new_"),
                    s(:begin,
                      s(:send,
                        s(:send,
                          s(:send,
                            s(:send,
                              s(:send,
                                s(:self), :class), :name), :split,
                            s(:regexp,
                              s(:str, "::"),
                              s(:regopt))), :last), :downcase))))),
              s(:class,
                s(:const, nil, :Name),
                s(:const,
                  s(:const, nil, :RSS), :Element),
                s(:begin,
                  s(:send, nil, :include,
                    s(:const, nil, :CommonModel)),
                  s(:send, nil, :include,
                    s(:const, nil, :ContentModel)))),
              s(:class,
                s(:const, nil, :Uri),
                s(:const,
                  s(:const, nil, :RSS), :Element),
                s(:begin,
                  s(:send, nil, :include,
                    s(:const, nil, :CommonModel)),
                  s(:send, nil, :include,
                    s(:const, nil, :URIContentModel)))),
              s(:class,
                s(:const, nil, :Email),
                s(:const,
                  s(:const, nil, :RSS), :Element),
                s(:begin,
                  s(:send, nil, :include,
                    s(:const, nil, :CommonModel)),
                  s(:send, nil, :include,
                    s(:const, nil, :ContentModel)))))),
          s(:module,
            s(:const, nil, :DateConstruct),
            s(:begin,
              s(:defs,
                s(:self), :append_features,
                s(:args,
                  s(:arg, :klass)),
                s(:begin,
                  s(:zsuper),
                  s(:block,
                    s(:send,
                      s(:lvar, :klass), :class_eval),
                    s(:args),
                    s(:begin,
                      s(:ivasgn, :@content_type,
                        s(:sym, :w3cdtf)),
                      s(:send, nil, :include,
                        s(:const, nil, :ContentModel)))))),
              s(:def, :atom_validate,
                s(:args,
                  s(:arg, :ignore_unknown_element),
                  s(:arg, :tags),
                  s(:arg, :uri)),
                s(:if,
                  s(:send,
                    s(:send, nil, :content), :nil?),
                  s(:send, nil, :raise,
                    s(:send,
                      s(:const, nil, :NotAvailableValueError), :new,
                      s(:send, nil, :tag_name),
                      s(:str, ""))), nil)))),
          s(:module,
            s(:const, nil, :DuplicateLinkChecker),
            s(:def, :validate_duplicate_links,
              s(:args,
                s(:arg, :links)),
              s(:begin,
                s(:lvasgn, :link_infos,
                  s(:hash)),
                s(:block,
                  s(:send,
                    s(:lvar, :links), :each),
                  s(:args,
                    s(:arg, :link)),
                  s(:begin,
                    s(:lvasgn, :rel,
                      s(:or,
                        s(:send,
                          s(:lvar, :link), :rel),
                        s(:str, "alternate"))),
                    s(:if,
                      s(:send,
                        s(:lvar, :rel), :==,
                        s(:str, "alternate")), nil,
                      s(:next)),
                    s(:lvasgn, :key,
                      s(:array,
                        s(:send,
                          s(:lvar, :link), :hreflang),
                        s(:send,
                          s(:lvar, :link), :type))),
                    s(:if,
                      s(:send,
                        s(:lvar, :link_infos), :has_key?,
                        s(:lvar, :key)),
                      s(:send, nil, :raise,
                        s(:send,
                          s(:const, nil, :TooMuchTagError), :new,
                          s(:str, "link"),
                          s(:send, nil, :tag_name))), nil),
                    s(:send,
                      s(:lvar, :link_infos), :[]=,
                      s(:lvar, :key),
                      s(:true))))))),
          s(:class,
            s(:const, nil, :Feed),
            s(:const,
              s(:const, nil, :RSS), :Element),
            s(:begin,
              s(:send, nil, :include,
                s(:const, nil, :RootElementMixin)),
              s(:send, nil, :include,
                s(:const, nil, :CommonModel)),
              s(:send, nil, :include,
                s(:const, nil, :DuplicateLinkChecker)),
              s(:send, nil, :install_ns,
                s(:str, ""),
                s(:const, nil, :URI)),
              s(:block,
                s(:send,
                  s(:array,
                    s(:array,
                      s(:str, "author"),
                      s(:str, "*"),
                      s(:sym, :children)),
                    s(:array,
                      s(:str, "category"),
                      s(:str, "*"),
                      s(:sym, :children),
                      s(:str, "categories")),
                    s(:array,
                      s(:str, "contributor"),
                      s(:str, "*"),
                      s(:sym, :children)),
                    s(:array,
                      s(:str, "generator"),
                      s(:str, "?")),
                    s(:array,
                      s(:str, "icon"),
                      s(:str, "?"),
                      s(:nil),
                      s(:sym, :content)),
                    s(:array,
                      s(:str, "id"),
                      s(:nil),
                      s(:nil),
                      s(:sym, :content)),
                    s(:array,
                      s(:str, "link"),
                      s(:str, "*"),
                      s(:sym, :children)),
                    s(:array,
                      s(:str, "logo"),
                      s(:str, "?")),
                    s(:array,
                      s(:str, "rights"),
                      s(:str, "?")),
                    s(:array,
                      s(:str, "subtitle"),
                      s(:str, "?"),
                      s(:nil),
                      s(:sym, :content)),
                    s(:array,
                      s(:str, "title"),
                      s(:nil),
                      s(:nil),
                      s(:sym, :content)),
                    s(:array,
                      s(:str, "updated"),
                      s(:nil),
                      s(:nil),
                      s(:sym, :content)),
                    s(:array,
                      s(:str, "entry"),
                      s(:str, "*"),
                      s(:sym, :children),
                      s(:str, "entries"))), :each),
                s(:args,
                  s(:arg, :tag),
                  s(:arg, :occurs),
                  s(:arg, :type),
                  s(:restarg, :args)),
                s(:begin,
                  s(:or_asgn,
                    s(:lvasgn, :type),
                    s(:sym, :child)),
                  s(:send, nil, :__send__,
                    s(:dstr,
                      s(:str, "install_have_"),
                      s(:begin,
                        s(:lvar, :type)),
                      s(:str, "_element")),
                    s(:lvar, :tag),
                    s(:const, nil, :URI),
                    s(:lvar, :occurs),
                    s(:lvar, :tag),
                    s(:splat,
                      s(:lvar, :args))))),
              s(:def, :initialize,
                s(:args,
                  s(:optarg, :version,
                    s(:nil)),
                  s(:optarg, :encoding,
                    s(:nil)),
                  s(:optarg, :standalone,
                    s(:nil))),
                s(:begin,
                  s(:super,
                    s(:str, "1.0"),
                    s(:lvar, :version),
                    s(:lvar, :encoding),
                    s(:lvar, :standalone)),
                  s(:ivasgn, :@feed_type,
                    s(:str, "atom")),
                  s(:ivasgn, :@feed_subtype,
                    s(:str, "feed")))),
              s(:send, nil, :alias_method,
                s(:sym, :items),
                s(:sym, :entries)),
              s(:def, :have_author?,
                s(:args),
                s(:or,
                  s(:block,
                    s(:send,
                      s(:send, nil, :authors), :any?),
                    s(:args,
                      s(:arg, :author)),
                    s(:send,
                      s(:send,
                        s(:send,
                          s(:lvar, :author), :to_s), :empty?), :!)),
                  s(:block,
                    s(:send,
                      s(:send, nil, :entries), :any?),
                    s(:args,
                      s(:arg, :entry)),
                    s(:send,
                      s(:lvar, :entry), :have_author?,
                      s(:false))))),
              s(:send, nil, :private),
              s(:def, :atom_validate,
                s(:args,
                  s(:arg, :ignore_unknown_element),
                  s(:arg, :tags),
                  s(:arg, :uri)),
                s(:begin,
                  s(:if,
                    s(:send, nil, :have_author?), nil,
                    s(:send, nil, :raise,
                      s(:send,
                        s(:const, nil, :MissingTagError), :new,
                        s(:str, "author"),
                        s(:send, nil, :tag_name)))),
                  s(:send, nil, :validate_duplicate_links,
                    s(:send, nil, :links)))),
              s(:def, :have_required_elements?,
                s(:args),
                s(:and,
                  s(:zsuper),
                  s(:send, nil, :have_author?))),
              s(:def, :maker_target,
                s(:args,
                  s(:arg, :maker)),
                s(:send,
                  s(:lvar, :maker), :channel)),
              s(:def, :setup_maker_element,
                s(:args,
                  s(:arg, :channel)),
                s(:begin,
                  s(:lvasgn, :prev_dc_dates,
                    s(:send,
                      s(:send,
                        s(:send,
                          s(:lvar, :channel), :dc_dates), :to_a), :dup)),
                  s(:zsuper),
                  s(:if,
                    s(:send, nil, :id),
                    s(:send,
                      s(:lvar, :channel), :about=,
                      s(:send,
                        s(:send, nil, :id), :content)), nil),
                  s(:send,
                    s(:send,
                      s(:lvar, :channel), :dc_dates), :replace,
                    s(:lvar, :prev_dc_dates)))),
              s(:def, :setup_maker_elements,
                s(:args,
                  s(:arg, :channel)),
                s(:begin,
                  s(:zsuper),
                  s(:lvasgn, :items,
                    s(:send,
                      s(:send,
                        s(:lvar, :channel), :maker), :items)),
                  s(:block,
                    s(:send,
                      s(:send, nil, :entries), :each),
                    s(:args,
                      s(:arg, :entry)),
                    s(:send,
                      s(:lvar, :entry), :setup_maker,
                      s(:lvar, :items))))),
              s(:class,
                s(:const, nil, :Author),
                s(:const,
                  s(:const, nil, :RSS), :Element),
                s(:begin,
                  s(:send, nil, :include,
                    s(:const, nil, :CommonModel)),
                  s(:send, nil, :include,
                    s(:const, nil, :PersonConstruct)))),
              s(:class,
                s(:const, nil, :Category),
                s(:const,
                  s(:const, nil, :RSS), :Element),
                s(:begin,
                  s(:send, nil, :include,
                    s(:const, nil, :CommonModel)),
                  s(:block,
                    s(:send,
                      s(:array,
                        s(:array,
                          s(:str, "term"),
                          s(:str, ""),
                          s(:true)),
                        s(:array,
                          s(:str, "scheme"),
                          s(:str, ""),
                          s(:false),
                          s(:array,
                            s(:nil),
                            s(:sym, :uri))),
                        s(:array,
                          s(:str, "label"),
                          s(:str, ""))), :each),
                    s(:args,
                      s(:arg, :name),
                      s(:arg, :uri),
                      s(:arg, :required),
                      s(:arg, :type)),
                    s(:send, nil, :install_get_attribute,
                      s(:lvar, :name),
                      s(:lvar, :uri),
                      s(:lvar, :required),
                      s(:lvar, :type))),
                  s(:send, nil, :private),
                  s(:def, :maker_target,
                    s(:args,
                      s(:arg, :target)),
                    s(:send,
                      s(:lvar, :target), :new_category)))),
              s(:class,
                s(:const, nil, :Contributor),
                s(:const,
                  s(:const, nil, :RSS), :Element),
                s(:begin,
                  s(:send, nil, :include,
                    s(:const, nil, :CommonModel)),
                  s(:send, nil, :include,
                    s(:const, nil, :PersonConstruct)))),
              s(:class,
                s(:const, nil, :Generator),
                s(:const,
                  s(:const, nil, :RSS), :Element),
                s(:begin,
                  s(:send, nil, :include,
                    s(:const, nil, :CommonModel)),
                  s(:send, nil, :include,
                    s(:const, nil, :ContentModel)),
                  s(:block,
                    s(:send,
                      s(:array,
                        s(:array,
                          s(:str, "uri"),
                          s(:str, ""),
                          s(:false),
                          s(:array,
                            s(:nil),
                            s(:sym, :uri))),
                        s(:array,
                          s(:str, "version"),
                          s(:str, ""))), :each),
                    s(:args,
                      s(:arg, :name),
                      s(:arg, :uri),
                      s(:arg, :required),
                      s(:arg, :type)),
                    s(:send, nil, :install_get_attribute,
                      s(:lvar, :name),
                      s(:lvar, :uri),
                      s(:lvar, :required),
                      s(:lvar, :type))),
                  s(:send, nil, :private),
                  s(:def, :setup_maker_attributes,
                    s(:args,
                      s(:arg, :target)),
                    s(:block,
                      s(:send,
                        s(:lvar, :target), :generator),
                      s(:args,
                        s(:arg, :generator)),
                      s(:begin,
                        s(:if,
                          s(:send, nil, :uri),
                          s(:send,
                            s(:lvar, :generator), :uri=,
                            s(:send, nil, :uri)), nil),
                        s(:if,
                          s(:send, nil, :version),
                          s(:send,
                            s(:lvar, :generator), :version=,
                            s(:send, nil, :version)), nil)))))),
              s(:class,
                s(:const, nil, :Icon),
                s(:const,
                  s(:const, nil, :RSS), :Element),
                s(:begin,
                  s(:send, nil, :include,
                    s(:const, nil, :CommonModel)),
                  s(:send, nil, :include,
                    s(:const, nil, :URIContentModel)))),
              s(:class,
                s(:const, nil, :Id),
                s(:const,
                  s(:const, nil, :RSS), :Element),
                s(:begin,
                  s(:send, nil, :include,
                    s(:const, nil, :CommonModel)),
                  s(:send, nil, :include,
                    s(:const, nil, :URIContentModel)))),
              s(:class,
                s(:const, nil, :Link),
                s(:const,
                  s(:const, nil, :RSS), :Element),
                s(:begin,
                  s(:send, nil, :include,
                    s(:const, nil, :CommonModel)),
                  s(:block,
                    s(:send,
                      s(:array,
                        s(:array,
                          s(:str, "href"),
                          s(:str, ""),
                          s(:true),
                          s(:array,
                            s(:nil),
                            s(:sym, :uri))),
                        s(:array,
                          s(:str, "rel"),
                          s(:str, "")),
                        s(:array,
                          s(:str, "type"),
                          s(:str, "")),
                        s(:array,
                          s(:str, "hreflang"),
                          s(:str, "")),
                        s(:array,
                          s(:str, "title"),
                          s(:str, "")),
                        s(:array,
                          s(:str, "length"),
                          s(:str, ""))), :each),
                    s(:args,
                      s(:arg, :name),
                      s(:arg, :uri),
                      s(:arg, :required),
                      s(:arg, :type)),
                    s(:send, nil, :install_get_attribute,
                      s(:lvar, :name),
                      s(:lvar, :uri),
                      s(:lvar, :required),
                      s(:lvar, :type))),
                  s(:send, nil, :private),
                  s(:def, :maker_target,
                    s(:args,
                      s(:arg, :target)),
                    s(:send,
                      s(:lvar, :target), :new_link)))),
              s(:class,
                s(:const, nil, :Logo),
                s(:const,
                  s(:const, nil, :RSS), :Element),
                s(:begin,
                  s(:send, nil, :include,
                    s(:const, nil, :CommonModel)),
                  s(:send, nil, :include,
                    s(:const, nil, :URIContentModel)),
                  s(:def, :maker_target,
                    s(:args,
                      s(:arg, :target)),
                    s(:send,
                      s(:send,
                        s(:lvar, :target), :maker), :image)),
                  s(:send, nil, :private),
                  s(:def, :setup_maker_element_writer,
                    s(:args),
                    s(:str, "url=")))),
              s(:class,
                s(:const, nil, :Rights),
                s(:const,
                  s(:const, nil, :RSS), :Element),
                s(:begin,
                  s(:send, nil, :include,
                    s(:const, nil, :CommonModel)),
                  s(:send, nil, :include,
                    s(:const, nil, :TextConstruct)))),
              s(:class,
                s(:const, nil, :Subtitle),
                s(:const,
                  s(:const, nil, :RSS), :Element),
                s(:begin,
                  s(:send, nil, :include,
                    s(:const, nil, :CommonModel)),
                  s(:send, nil, :include,
                    s(:const, nil, :TextConstruct)))),
              s(:class,
                s(:const, nil, :Title),
                s(:const,
                  s(:const, nil, :RSS), :Element),
                s(:begin,
                  s(:send, nil, :include,
                    s(:const, nil, :CommonModel)),
                  s(:send, nil, :include,
                    s(:const, nil, :TextConstruct)))),
              s(:class,
                s(:const, nil, :Updated),
                s(:const,
                  s(:const, nil, :RSS), :Element),
                s(:begin,
                  s(:send, nil, :include,
                    s(:const, nil, :CommonModel)),
                  s(:send, nil, :include,
                    s(:const, nil, :DateConstruct)))),
              s(:class,
                s(:const, nil, :Entry),
                s(:const,
                  s(:const, nil, :RSS), :Element),
                s(:begin,
                  s(:send, nil, :include,
                    s(:const, nil, :CommonModel)),
                  s(:send, nil, :include,
                    s(:const, nil, :DuplicateLinkChecker)),
                  s(:block,
                    s(:send,
                      s(:array,
                        s(:array,
                          s(:str, "author"),
                          s(:str, "*"),
                          s(:sym, :children)),
                        s(:array,
                          s(:str, "category"),
                          s(:str, "*"),
                          s(:sym, :children),
                          s(:str, "categories")),
                        s(:array,
                          s(:str, "content"),
                          s(:str, "?"),
                          s(:sym, :child)),
                        s(:array,
                          s(:str, "contributor"),
                          s(:str, "*"),
                          s(:sym, :children)),
                        s(:array,
                          s(:str, "id"),
                          s(:nil),
                          s(:nil),
                          s(:sym, :content)),
                        s(:array,
                          s(:str, "link"),
                          s(:str, "*"),
                          s(:sym, :children)),
                        s(:array,
                          s(:str, "published"),
                          s(:str, "?"),
                          s(:sym, :child),
                          s(:sym, :content)),
                        s(:array,
                          s(:str, "rights"),
                          s(:str, "?"),
                          s(:sym, :child)),
                        s(:array,
                          s(:str, "source"),
                          s(:str, "?")),
                        s(:array,
                          s(:str, "summary"),
                          s(:str, "?"),
                          s(:sym, :child)),
                        s(:array,
                          s(:str, "title"),
                          s(:nil)),
                        s(:array,
                          s(:str, "updated"),
                          s(:nil),
                          s(:sym, :child),
                          s(:sym, :content))), :each),
                    s(:args,
                      s(:arg, :tag),
                      s(:arg, :occurs),
                      s(:arg, :type),
                      s(:restarg, :args)),
                    s(:begin,
                      s(:or_asgn,
                        s(:lvasgn, :type),
                        s(:sym, :attribute)),
                      s(:send, nil, :__send__,
                        s(:dstr,
                          s(:str, "install_have_"),
                          s(:begin,
                            s(:lvar, :type)),
                          s(:str, "_element")),
                        s(:lvar, :tag),
                        s(:const, nil, :URI),
                        s(:lvar, :occurs),
                        s(:lvar, :tag),
                        s(:splat,
                          s(:lvar, :args))))),
                  s(:def, :have_author?,
                    s(:args,
                      s(:optarg, :check_parent,
                        s(:true))),
                    s(:or,
                      s(:or,
                        s(:block,
                          s(:send,
                            s(:send, nil, :authors), :any?),
                          s(:args,
                            s(:arg, :author)),
                          s(:send,
                            s(:send,
                              s(:send,
                                s(:lvar, :author), :to_s), :empty?), :!)),
                        s(:begin,
                          s(:and,
                            s(:and,
                              s(:lvar, :check_parent),
                              s(:ivar, :@parent)),
                            s(:send,
                              s(:ivar, :@parent), :have_author?)))),
                      s(:begin,
                        s(:and,
                          s(:send, nil, :source),
                          s(:send,
                            s(:send, nil, :source), :have_author?))))),
                  s(:send, nil, :private),
                  s(:def, :atom_validate,
                    s(:args,
                      s(:arg, :ignore_unknown_element),
                      s(:arg, :tags),
                      s(:arg, :uri)),
                    s(:begin,
                      s(:if,
                        s(:send, nil, :have_author?), nil,
                        s(:send, nil, :raise,
                          s(:send,
                            s(:const, nil, :MissingTagError), :new,
                            s(:str, "author"),
                            s(:send, nil, :tag_name)))),
                      s(:send, nil, :validate_duplicate_links,
                        s(:send, nil, :links)))),
                  s(:def, :have_required_elements?,
                    s(:args),
                    s(:and,
                      s(:zsuper),
                      s(:send, nil, :have_author?))),
                  s(:def, :maker_target,
                    s(:args,
                      s(:arg, :items)),
                    s(:begin,
                      s(:if,
                        s(:send,
                          s(:lvar, :items), :respond_to?,
                          s(:str, "items")),
                        s(:lvasgn, :items,
                          s(:send,
                            s(:lvar, :items), :items)), nil),
                      s(:send,
                        s(:lvar, :items), :new_item))),
                  s(:casgn, nil, :Author,
                    s(:const,
                      s(:const, nil, :Feed), :Author)),
                  s(:casgn, nil, :Category,
                    s(:const,
                      s(:const, nil, :Feed), :Category)),
                  s(:class,
                    s(:const, nil, :Content),
                    s(:const,
                      s(:const, nil, :RSS), :Element),
                    s(:begin,
                      s(:send, nil, :include,
                        s(:const, nil, :CommonModel)),
                      s(:sclass,
                        s(:self),
                        s(:begin,
                          s(:def, :xml_setter,
                            s(:args),
                            s(:str, "xml=")),
                          s(:def, :xml_getter,
                            s(:args),
                            s(:str, "xml")))),
                      s(:block,
                        s(:send,
                          s(:array,
                            s(:array,
                              s(:str, "type"),
                              s(:str, "")),
                            s(:array,
                              s(:str, "src"),
                              s(:str, ""),
                              s(:false),
                              s(:array,
                                s(:nil),
                                s(:sym, :uri)))), :each),
                        s(:args,
                          s(:arg, :name),
                          s(:arg, :uri),
                          s(:arg, :required),
                          s(:arg, :type)),
                        s(:send, nil, :install_get_attribute,
                          s(:lvar, :name),
                          s(:lvar, :uri),
                          s(:lvar, :required),
                          s(:lvar, :type))),
                      s(:send, nil, :content_setup),
                      s(:send, nil, :add_need_initialize_variable,
                        s(:str, "xml")),
                      s(:send, nil, :attr_writer,
                        s(:sym, :xml)),
                      s(:def, :have_xml_content?,
                        s(:args),
                        s(:or,
                          s(:send, nil, :inline_xhtml?),
                          s(:send, nil, :inline_other_xml?))),
                      s(:def, :xml,
                        s(:args),
                        s(:begin,
                          s(:if,
                            s(:send, nil, :inline_xhtml?), nil,
                            s(:return,
                              s(:ivar, :@xml))),
                          s(:if,
                            s(:send,
                              s(:ivar, :@xml), :nil?),
                            s(:return,
                              s(:ivar, :@xml)), nil),
                          s(:if,
                            s(:and,
                              s(:send,
                                s(:ivar, :@xml), :is_a?,
                                s(:const,
                                  s(:const, nil, :XML), :Element)),
                              s(:send,
                                s(:array,
                                  s(:send,
                                    s(:ivar, :@xml), :name),
                                  s(:send,
                                    s(:ivar, :@xml), :uri)), :==,
                                s(:array,
                                  s(:str, "div"),
                                  s(:const, nil, :XHTML_URI)))),
                            s(:return,
                              s(:ivar, :@xml)), nil),
                          s(:lvasgn, :children,
                            s(:ivar, :@xml)),
                          s(:if,
                            s(:send,
                              s(:lvar, :children), :is_a?,
                              s(:const, nil, :Array)), nil,
                            s(:lvasgn, :children,
                              s(:array,
                                s(:lvar, :children)))),
                          s(:send,
                            s(:const,
                              s(:const, nil, :XML), :Element), :new,
                            s(:str, "div"),
                            s(:nil),
                            s(:const, nil, :XHTML_URI),
                            s(:hash,
                              s(:pair,
                                s(:str, "xmlns"),
                                s(:const, nil, :XHTML_URI))),
                            s(:lvar, :children)))),
                      s(:def, :xhtml,
                        s(:args),
                        s(:if,
                          s(:send, nil, :inline_xhtml?),
                          s(:send, nil, :xml),
                          s(:nil))),
                      s(:def, :atom_validate,
                        s(:args,
                          s(:arg, :ignore_unknown_element),
                          s(:arg, :tags),
                          s(:arg, :uri)),
                        s(:if,
                          s(:send, nil, :out_of_line?),
                          s(:begin,
                            s(:if,
                              s(:send,
                                s(:ivar, :@type), :nil?),
                              s(:send, nil, :raise,
                                s(:send,
                                  s(:const, nil, :MissingAttributeError), :new,
                                  s(:send, nil, :tag_name),
                                  s(:str, "type"))), nil),
                            s(:if,
                              s(:begin,
                                s(:or,
                                  s(:send,
                                    s(:send, nil, :content), :nil?),
                                  s(:send,
                                    s(:send, nil, :content), :empty?))), nil,
                              s(:send, nil, :raise,
                                s(:send,
                                  s(:const, nil, :NotAvailableValueError), :new,
                                  s(:send, nil, :tag_name),
                                  s(:send, nil, :content))))),
                          s(:if,
                            s(:send, nil, :inline_xhtml?),
                            s(:begin,
                              s(:if,
                                s(:send,
                                  s(:ivar, :@xml), :nil?),
                                s(:send, nil, :raise,
                                  s(:send,
                                    s(:const, nil, :MissingTagError), :new,
                                    s(:str, "div"),
                                    s(:send, nil, :tag_name))), nil),
                              s(:if,
                                s(:and,
                                  s(:send,
                                    s(:send,
                                      s(:ivar, :@xml), :name), :==,
                                    s(:str, "div")),
                                  s(:send,
                                    s(:send,
                                      s(:ivar, :@xml), :uri), :==,
                                    s(:const, nil, :XHTML_URI))), nil,
                                s(:send, nil, :raise,
                                  s(:send,
                                    s(:const, nil, :NotExpectedTagError), :new,
                                    s(:send,
                                      s(:ivar, :@xml), :name),
                                    s(:send,
                                      s(:ivar, :@xml), :uri),
                                    s(:send, nil, :tag_name))))), nil))),
                      s(:def, :inline_text?,
                        s(:args),
                        s(:and,
                          s(:send,
                            s(:send, nil, :out_of_line?), :!),
                          s(:send,
                            s(:array,
                              s(:nil),
                              s(:str, "text"),
                              s(:str, "html")), :include?,
                            s(:ivar, :@type)))),
                      s(:def, :inline_html?,
                        s(:args),
                        s(:begin,
                          s(:if,
                            s(:send, nil, :out_of_line?),
                            s(:return,
                              s(:false)), nil),
                          s(:or,
                            s(:send,
                              s(:ivar, :@type), :==,
                              s(:str, "html")),
                            s(:send,
                              s(:send, nil, :mime_split), :==,
                              s(:array,
                                s(:str, "text"),
                                s(:str, "html")))))),
                      s(:def, :inline_xhtml?,
                        s(:args),
                        s(:and,
                          s(:send,
                            s(:send, nil, :out_of_line?), :!),
                          s(:send,
                            s(:ivar, :@type), :==,
                            s(:str, "xhtml")))),
                      s(:def, :inline_other?,
                        s(:args),
                        s(:begin,
                          s(:if,
                            s(:send, nil, :out_of_line?),
                            s(:return,
                              s(:false)), nil),
                          s(:masgn,
                            s(:mlhs,
                              s(:lvasgn, :media_type),
                              s(:lvasgn, :subtype)),
                            s(:send, nil, :mime_split)),
                          s(:if,
                            s(:or,
                              s(:send,
                                s(:lvar, :media_type), :nil?),
                              s(:send,
                                s(:lvar, :subtype), :nil?)),
                            s(:return,
                              s(:false)), nil),
                          s(:true))),
                      s(:def, :inline_other_text?,
                        s(:args),
                        s(:begin,
                          s(:if,
                            s(:send, nil, :inline_other?), nil,
                            s(:return,
                              s(:false))),
                          s(:if,
                            s(:send, nil, :inline_other_xml?),
                            s(:return,
                              s(:false)), nil),
                          s(:masgn,
                            s(:mlhs,
                              s(:lvasgn, :media_type)),
                            s(:send, nil, :mime_split)),
                          s(:if,
                            s(:send,
                              s(:str, "text"), :==,
                              s(:send,
                                s(:lvar, :media_type), :downcase)),
                            s(:return,
                              s(:true)), nil),
                          s(:false))),
                      s(:def, :inline_other_xml?,
                        s(:args),
                        s(:begin,
                          s(:if,
                            s(:send, nil, :inline_other?), nil,
                            s(:return,
                              s(:false))),
                          s(:masgn,
                            s(:mlhs,
                              s(:lvasgn, :media_type),
                              s(:lvasgn, :subtype)),
                            s(:send, nil, :mime_split)),
                          s(:lvasgn, :normalized_mime_type,
                            s(:send,
                              s(:dstr,
                                s(:begin,
                                  s(:lvar, :media_type)),
                                s(:str, "/"),
                                s(:begin,
                                  s(:lvar, :subtype))), :downcase)),
                          s(:if,
                            s(:or,
                              s(:match_with_lvasgn,
                                s(:regexp,
                                  s(:str, "(?:\\+xml|^xml)$"),
                                  s(:regopt)),
                                s(:lvar, :subtype)),
                              s(:block,
                                s(:send,
                                  s(:array,
                                    s(:str, "text/xml-external-parsed-entity"),
                                    s(:str, "application/xml-external-parsed-entity"),
                                    s(:str, "application/xml-dtd")), :find),
                                s(:args,
                                  s(:arg, :x)),
                                s(:send,
                                  s(:lvar, :x), :==,
                                  s(:lvar, :normalized_mime_type)))),
                            s(:return,
                              s(:true)), nil),
                          s(:false))),
                      s(:def, :inline_other_base64?,
                        s(:args),
                        s(:and,
                          s(:and,
                            s(:send, nil, :inline_other?),
                            s(:send,
                              s(:send, nil, :inline_other_text?), :!)),
                          s(:send,
                            s(:send, nil, :inline_other_xml?), :!))),
                      s(:def, :out_of_line?,
                        s(:args),
                        s(:send,
                          s(:send,
                            s(:ivar, :@src), :nil?), :!)),
                      s(:def, :mime_split,
                        s(:args),
                        s(:begin,
                          s(:lvasgn, :media_type,
                            s(:lvasgn, :subtype,
                              s(:nil))),
                          s(:if,
                            s(:match_with_lvasgn,
                              s(:regexp,
                                s(:str, "\\A\\s*([a-z]+)/([a-z\\+]+)\\s*(?:;.*)?\\z"),
                                s(:regopt, :i)),
                              s(:send,
                                s(:ivar, :@type), :to_s)),
                            s(:begin,
                              s(:lvasgn, :media_type,
                                s(:send,
                                  s(:nth_ref, 1), :downcase)),
                              s(:lvasgn, :subtype,
                                s(:send,
                                  s(:nth_ref, 2), :downcase))), nil),
                          s(:array,
                            s(:lvar, :media_type),
                            s(:lvar, :subtype)))),
                      s(:def, :need_base64_encode?,
                        s(:args),
                        s(:send, nil, :inline_other_base64?)),
                      s(:send, nil, :private),
                      s(:def, :empty_content?,
                        s(:args),
                        s(:or,
                          s(:send, nil, :out_of_line?),
                          s(:zsuper))))),
                  s(:casgn, nil, :Contributor,
                    s(:const,
                      s(:const, nil, :Feed), :Contributor)),
                  s(:casgn, nil, :Id,
                    s(:const,
                      s(:const, nil, :Feed), :Id)),
                  s(:casgn, nil, :Link,
                    s(:const,
                      s(:const, nil, :Feed), :Link)),
                  s(:class,
                    s(:const, nil, :Published),
                    s(:const,
                      s(:const, nil, :RSS), :Element),
                    s(:begin,
                      s(:send, nil, :include,
                        s(:const, nil, :CommonModel)),
                      s(:send, nil, :include,
                        s(:const, nil, :DateConstruct)))),
                  s(:casgn, nil, :Rights,
                    s(:const,
                      s(:const, nil, :Feed), :Rights)),
                  s(:class,
                    s(:const, nil, :Source),
                    s(:const,
                      s(:const, nil, :RSS), :Element),
                    s(:begin,
                      s(:send, nil, :include,
                        s(:const, nil, :CommonModel)),
                      s(:block,
                        s(:send,
                          s(:array,
                            s(:array,
                              s(:str, "author"),
                              s(:str, "*"),
                              s(:sym, :children)),
                            s(:array,
                              s(:str, "category"),
                              s(:str, "*"),
                              s(:sym, :children),
                              s(:str, "categories")),
                            s(:array,
                              s(:str, "contributor"),
                              s(:str, "*"),
                              s(:sym, :children)),
                            s(:array,
                              s(:str, "generator"),
                              s(:str, "?")),
                            s(:array,
                              s(:str, "icon"),
                              s(:str, "?")),
                            s(:array,
                              s(:str, "id"),
                              s(:str, "?"),
                              s(:nil),
                              s(:sym, :content)),
                            s(:array,
                              s(:str, "link"),
                              s(:str, "*"),
                              s(:sym, :children)),
                            s(:array,
                              s(:str, "logo"),
                              s(:str, "?")),
                            s(:array,
                              s(:str, "rights"),
                              s(:str, "?")),
                            s(:array,
                              s(:str, "subtitle"),
                              s(:str, "?")),
                            s(:array,
                              s(:str, "title"),
                              s(:str, "?")),
                            s(:array,
                              s(:str, "updated"),
                              s(:str, "?"),
                              s(:nil),
                              s(:sym, :content))), :each),
                        s(:args,
                          s(:arg, :tag),
                          s(:arg, :occurs),
                          s(:arg, :type),
                          s(:restarg, :args)),
                        s(:begin,
                          s(:or_asgn,
                            s(:lvasgn, :type),
                            s(:sym, :attribute)),
                          s(:send, nil, :__send__,
                            s(:dstr,
                              s(:str, "install_have_"),
                              s(:begin,
                                s(:lvar, :type)),
                              s(:str, "_element")),
                            s(:lvar, :tag),
                            s(:const, nil, :URI),
                            s(:lvar, :occurs),
                            s(:lvar, :tag),
                            s(:splat,
                              s(:lvar, :args))))),
                      s(:def, :have_author?,
                        s(:args),
                        s(:send,
                          s(:send,
                            s(:send,
                              s(:send, nil, :author), :to_s), :empty?), :!)),
                      s(:casgn, nil, :Author,
                        s(:const,
                          s(:const, nil, :Feed), :Author)),
                      s(:casgn, nil, :Category,
                        s(:const,
                          s(:const, nil, :Feed), :Category)),
                      s(:casgn, nil, :Contributor,
                        s(:const,
                          s(:const, nil, :Feed), :Contributor)),
                      s(:casgn, nil, :Generator,
                        s(:const,
                          s(:const, nil, :Feed), :Generator)),
                      s(:casgn, nil, :Icon,
                        s(:const,
                          s(:const, nil, :Feed), :Icon)),
                      s(:casgn, nil, :Id,
                        s(:const,
                          s(:const, nil, :Feed), :Id)),
                      s(:casgn, nil, :Link,
                        s(:const,
                          s(:const, nil, :Feed), :Link)),
                      s(:casgn, nil, :Logo,
                        s(:const,
                          s(:const, nil, :Feed), :Logo)),
                      s(:casgn, nil, :Rights,
                        s(:const,
                          s(:const, nil, :Feed), :Rights)),
                      s(:casgn, nil, :Subtitle,
                        s(:const,
                          s(:const, nil, :Feed), :Subtitle)),
                      s(:casgn, nil, :Title,
                        s(:const,
                          s(:const, nil, :Feed), :Title)),
                      s(:casgn, nil, :Updated,
                        s(:const,
                          s(:const, nil, :Feed), :Updated)))),
                  s(:class,
                    s(:const, nil, :Summary),
                    s(:const,
                      s(:const, nil, :RSS), :Element),
                    s(:begin,
                      s(:send, nil, :include,
                        s(:const, nil, :CommonModel)),
                      s(:send, nil, :include,
                        s(:const, nil, :TextConstruct)))),
                  s(:casgn, nil, :Title,
                    s(:const,
                      s(:const, nil, :Feed), :Title)),
                  s(:casgn, nil, :Updated,
                    s(:const,
                      s(:const, nil, :Feed), :Updated)))))),
          s(:class,
            s(:const, nil, :Entry),
            s(:const,
              s(:const, nil, :RSS), :Element),
            s(:begin,
              s(:send, nil, :include,
                s(:const, nil, :RootElementMixin)),
              s(:send, nil, :include,
                s(:const, nil, :CommonModel)),
              s(:send, nil, :include,
                s(:const, nil, :DuplicateLinkChecker)),
              s(:block,
                s(:send,
                  s(:array,
                    s(:array,
                      s(:str, "author"),
                      s(:str, "*"),
                      s(:sym, :children)),
                    s(:array,
                      s(:str, "category"),
                      s(:str, "*"),
                      s(:sym, :children),
                      s(:str, "categories")),
                    s(:array,
                      s(:str, "content"),
                      s(:str, "?")),
                    s(:array,
                      s(:str, "contributor"),
                      s(:str, "*"),
                      s(:sym, :children)),
                    s(:array,
                      s(:str, "id"),
                      s(:nil),
                      s(:nil),
                      s(:sym, :content)),
                    s(:array,
                      s(:str, "link"),
                      s(:str, "*"),
                      s(:sym, :children)),
                    s(:array,
                      s(:str, "published"),
                      s(:str, "?"),
                      s(:sym, :child),
                      s(:sym, :content)),
                    s(:array,
                      s(:str, "rights"),
                      s(:str, "?")),
                    s(:array,
                      s(:str, "source"),
                      s(:str, "?")),
                    s(:array,
                      s(:str, "summary"),
                      s(:str, "?")),
                    s(:array,
                      s(:str, "title"),
                      s(:nil)),
                    s(:array,
                      s(:str, "updated"),
                      s(:nil),
                      s(:nil),
                      s(:sym, :content))), :each),
                s(:args,
                  s(:arg, :tag),
                  s(:arg, :occurs),
                  s(:arg, :type),
                  s(:restarg, :args)),
                s(:begin,
                  s(:or_asgn,
                    s(:lvasgn, :type),
                    s(:sym, :attribute)),
                  s(:send, nil, :__send__,
                    s(:dstr,
                      s(:str, "install_have_"),
                      s(:begin,
                        s(:lvar, :type)),
                      s(:str, "_element")),
                    s(:lvar, :tag),
                    s(:const, nil, :URI),
                    s(:lvar, :occurs),
                    s(:lvar, :tag),
                    s(:splat,
                      s(:lvar, :args))))),
              s(:def, :initialize,
                s(:args,
                  s(:optarg, :version,
                    s(:nil)),
                  s(:optarg, :encoding,
                    s(:nil)),
                  s(:optarg, :standalone,
                    s(:nil))),
                s(:begin,
                  s(:super,
                    s(:str, "1.0"),
                    s(:lvar, :version),
                    s(:lvar, :encoding),
                    s(:lvar, :standalone)),
                  s(:ivasgn, :@feed_type,
                    s(:str, "atom")),
                  s(:ivasgn, :@feed_subtype,
                    s(:str, "entry")))),
              s(:def, :items,
                s(:args),
                s(:array,
                  s(:self))),
              s(:def, :setup_maker,
                s(:args,
                  s(:arg, :maker)),
                s(:begin,
                  s(:if,
                    s(:send,
                      s(:lvar, :maker), :respond_to?,
                      s(:str, "maker")),
                    s(:lvasgn, :maker,
                      s(:send,
                        s(:lvar, :maker), :maker)), nil),
                  s(:super,
                    s(:lvar, :maker)))),
              s(:def, :have_author?,
                s(:args),
                s(:or,
                  s(:block,
                    s(:send,
                      s(:send, nil, :authors), :any?),
                    s(:args,
                      s(:arg, :author)),
                    s(:send,
                      s(:send,
                        s(:send,
                          s(:lvar, :author), :to_s), :empty?), :!)),
                  s(:begin,
                    s(:and,
                      s(:send, nil, :source),
                      s(:send,
                        s(:send, nil, :source), :have_author?))))),
              s(:send, nil, :private),
              s(:def, :atom_validate,
                s(:args,
                  s(:arg, :ignore_unknown_element),
                  s(:arg, :tags),
                  s(:arg, :uri)),
                s(:begin,
                  s(:if,
                    s(:send, nil, :have_author?), nil,
                    s(:send, nil, :raise,
                      s(:send,
                        s(:const, nil, :MissingTagError), :new,
                        s(:str, "author"),
                        s(:send, nil, :tag_name)))),
                  s(:send, nil, :validate_duplicate_links,
                    s(:send, nil, :links)))),
              s(:def, :have_required_elements?,
                s(:args),
                s(:and,
                  s(:zsuper),
                  s(:send, nil, :have_author?))),
              s(:def, :maker_target,
                s(:args,
                  s(:arg, :maker)),
                s(:send,
                  s(:send,
                    s(:lvar, :maker), :items), :new_item)),
              s(:casgn, nil, :Author,
                s(:const,
                  s(:const,
                    s(:const, nil, :Feed), :Entry), :Author)),
              s(:casgn, nil, :Category,
                s(:const,
                  s(:const,
                    s(:const, nil, :Feed), :Entry), :Category)),
              s(:casgn, nil, :Content,
                s(:const,
                  s(:const,
                    s(:const, nil, :Feed), :Entry), :Content)),
              s(:casgn, nil, :Contributor,
                s(:const,
                  s(:const,
                    s(:const, nil, :Feed), :Entry), :Contributor)),
              s(:casgn, nil, :Id,
                s(:const,
                  s(:const,
                    s(:const, nil, :Feed), :Entry), :Id)),
              s(:casgn, nil, :Link,
                s(:const,
                  s(:const,
                    s(:const, nil, :Feed), :Entry), :Link)),
              s(:casgn, nil, :Published,
                s(:const,
                  s(:const,
                    s(:const, nil, :Feed), :Entry), :Published)),
              s(:casgn, nil, :Rights,
                s(:const,
                  s(:const,
                    s(:const, nil, :Feed), :Entry), :Rights)),
              s(:casgn, nil, :Source,
                s(:const,
                  s(:const,
                    s(:const, nil, :Feed), :Entry), :Source)),
              s(:casgn, nil, :Summary,
                s(:const,
                  s(:const,
                    s(:const, nil, :Feed), :Entry), :Summary)),
              s(:casgn, nil, :Title,
                s(:const,
                  s(:const,
                    s(:const, nil, :Feed), :Entry), :Title)),
              s(:casgn, nil, :Updated,
                s(:const,
                  s(:const,
                    s(:const, nil, :Feed), :Entry), :Updated)))))),
      s(:block,
        s(:send,
          s(:const,
            s(:const,
              s(:const, nil, :Atom), :CommonModel), :ELEMENTS), :each),
        s(:args,
          s(:arg, :name)),
        s(:send,
          s(:const, nil, :BaseListener), :install_get_text_element,
          s(:const,
            s(:const, nil, :Atom), :URI),
          s(:lvar, :name),
          s(:dstr,
            s(:begin,
              s(:lvar, :name)),
            s(:str, "=")))),
      s(:module,
        s(:const, nil, :ListenerMixin),
        s(:begin,
          s(:send, nil, :private),
          s(:def, :initial_start_feed,
            s(:args,
              s(:arg, :tag_name),
              s(:arg, :prefix),
              s(:arg, :attrs),
              s(:arg, :ns)),
            s(:begin,
              s(:send, nil, :check_ns,
                s(:lvar, :tag_name),
                s(:lvar, :prefix),
                s(:lvar, :ns),
                s(:const,
                  s(:const, nil, :Atom), :URI),
                s(:false)),
              s(:ivasgn, :@rss,
                s(:send,
                  s(:const,
                    s(:const, nil, :Atom), :Feed), :new,
                  s(:ivar, :@version),
                  s(:ivar, :@encoding),
                  s(:ivar, :@standalone))),
              s(:send,
                s(:ivar, :@rss), :do_validate=,
                s(:ivar, :@do_validate)),
              s(:send,
                s(:ivar, :@rss), :xml_stylesheets=,
                s(:ivar, :@xml_stylesheets)),
              s(:send,
                s(:ivar, :@rss), :lang=,
                s(:send,
                  s(:lvar, :attrs), :[],
                  s(:str, "xml:lang"))),
              s(:send,
                s(:ivar, :@rss), :base=,
                s(:send,
                  s(:lvar, :attrs), :[],
                  s(:str, "xml:base"))),
              s(:ivasgn, :@last_element,
                s(:ivar, :@rss)),
              s(:lvasgn, :pr,
                s(:block,
                  s(:send,
                    s(:const, nil, :Proc), :new),
                  s(:args,
                    s(:arg, :text),
                    s(:arg, :tags)),
                  s(:if,
                    s(:ivar, :@do_validate),
                    s(:send,
                      s(:ivar, :@rss), :validate_for_stream,
                      s(:lvar, :tags)), nil))),
              s(:send,
                s(:ivar, :@proc_stack), :push,
                s(:lvar, :pr)))),
          s(:def, :initial_start_entry,
            s(:args,
              s(:arg, :tag_name),
              s(:arg, :prefix),
              s(:arg, :attrs),
              s(:arg, :ns)),
            s(:begin,
              s(:send, nil, :check_ns,
                s(:lvar, :tag_name),
                s(:lvar, :prefix),
                s(:lvar, :ns),
                s(:const,
                  s(:const, nil, :Atom), :URI),
                s(:false)),
              s(:ivasgn, :@rss,
                s(:send,
                  s(:const,
                    s(:const, nil, :Atom), :Entry), :new,
                  s(:ivar, :@version),
                  s(:ivar, :@encoding),
                  s(:ivar, :@standalone))),
              s(:send,
                s(:ivar, :@rss), :do_validate=,
                s(:ivar, :@do_validate)),
              s(:send,
                s(:ivar, :@rss), :xml_stylesheets=,
                s(:ivar, :@xml_stylesheets)),
              s(:send,
                s(:ivar, :@rss), :lang=,
                s(:send,
                  s(:lvar, :attrs), :[],
                  s(:str, "xml:lang"))),
              s(:send,
                s(:ivar, :@rss), :base=,
                s(:send,
                  s(:lvar, :attrs), :[],
                  s(:str, "xml:base"))),
              s(:ivasgn, :@last_element,
                s(:ivar, :@rss)),
              s(:lvasgn, :pr,
                s(:block,
                  s(:send,
                    s(:const, nil, :Proc), :new),
                  s(:args,
                    s(:arg, :text),
                    s(:arg, :tags)),
                  s(:if,
                    s(:ivar, :@do_validate),
                    s(:send,
                      s(:ivar, :@rss), :validate_for_stream,
                      s(:lvar, :tags)), nil))),
              s(:send,
                s(:ivar, :@proc_stack), :push,
                s(:lvar, :pr)))))))))
