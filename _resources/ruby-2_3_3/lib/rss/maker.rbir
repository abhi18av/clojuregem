s(:begin,
  s(:send, nil, :require,
    s(:str, "rss/rss")),
  s(:module,
    s(:const, nil, :RSS),
    s(:module,
      s(:const, nil, :Maker),
      s(:begin,
        s(:casgn, nil, :MAKERS,
          s(:hash)),
        s(:sclass,
          s(:self),
          s(:begin,
            s(:def, :make,
              s(:args,
                s(:arg, :version),
                s(:blockarg, :block)),
              s(:send,
                s(:send,
                  s(:self), :[],
                  s(:lvar, :version)), :make,
                s(:block_pass,
                  s(:lvar, :block)))),
            s(:def, :[],
              s(:args,
                s(:arg, :version)),
              s(:begin,
                s(:lvasgn, :maker_info,
                  s(:send, nil, :maker,
                    s(:lvar, :version))),
                s(:if,
                  s(:send,
                    s(:lvar, :maker_info), :nil?),
                  s(:send, nil, :raise,
                    s(:send,
                      s(:const, nil, :UnsupportedMakerVersionError), :new,
                      s(:lvar, :version))), nil),
                s(:send,
                  s(:lvar, :maker_info), :[],
                  s(:sym, :maker)))),
            s(:def, :add_maker,
              s(:args,
                s(:arg, :version),
                s(:arg, :normalized_version),
                s(:arg, :maker)),
              s(:send,
                s(:const, nil, :MAKERS), :[]=,
                s(:lvar, :version),
                s(:hash,
                  s(:pair,
                    s(:sym, :maker),
                    s(:lvar, :maker)),
                  s(:pair,
                    s(:sym, :version),
                    s(:lvar, :normalized_version))))),
            s(:def, :versions,
              s(:args),
              s(:send,
                s(:send,
                  s(:send,
                    s(:const, nil, :MAKERS), :keys), :uniq), :sort)),
            s(:def, :makers,
              s(:args),
              s(:send,
                s(:block,
                  s(:send,
                    s(:send,
                      s(:const, nil, :MAKERS), :values), :collect),
                  s(:args,
                    s(:arg, :info)),
                  s(:send,
                    s(:lvar, :info), :[],
                    s(:sym, :maker))), :uniq)),
            s(:def, :supported?,
              s(:args,
                s(:arg, :version)),
              s(:send,
                s(:send, nil, :versions), :include?,
                s(:lvar, :version))),
            s(:send, nil, :private),
            s(:def, :maker,
              s(:args,
                s(:arg, :version)),
              s(:send,
                s(:const, nil, :MAKERS), :[],
                s(:lvar, :version)))))))),
  s(:send, nil, :require,
    s(:str, "rss/maker/1.0")),
  s(:send, nil, :require,
    s(:str, "rss/maker/2.0")),
  s(:send, nil, :require,
    s(:str, "rss/maker/feed")),
  s(:send, nil, :require,
    s(:str, "rss/maker/entry")),
  s(:send, nil, :require,
    s(:str, "rss/maker/content")),
  s(:send, nil, :require,
    s(:str, "rss/maker/dublincore")),
  s(:send, nil, :require,
    s(:str, "rss/maker/slash")),
  s(:send, nil, :require,
    s(:str, "rss/maker/syndication")),
  s(:send, nil, :require,
    s(:str, "rss/maker/taxonomy")),
  s(:send, nil, :require,
    s(:str, "rss/maker/trackback")),
  s(:send, nil, :require,
    s(:str, "rss/maker/image")),
  s(:send, nil, :require,
    s(:str, "rss/maker/itunes")))
