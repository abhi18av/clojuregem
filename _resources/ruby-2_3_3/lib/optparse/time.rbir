s(:begin,
  s(:send, nil, :require,
    s(:str, "optparse")),
  s(:send, nil, :require,
    s(:str, "time")),
  s(:block,
    s(:send,
      s(:const, nil, :OptionParser), :accept,
      s(:const, nil, :Time)),
    s(:args,
      s(:arg, :s)),
    s(:kwbegin,
      s(:rescue,
        s(:if,
          s(:lvar, :s),
          s(:begin,
            s(:rescue,
              s(:send,
                s(:const, nil, :Time), :httpdate,
                s(:lvar, :s)),
              s(:resbody, nil, nil,
                s(:send,
                  s(:const, nil, :Time), :parse,
                  s(:lvar, :s))), nil)), nil),
        s(:resbody, nil, nil,
          s(:send, nil, :raise,
            s(:const,
              s(:const, nil, :OptionParser), :InvalidArgument),
            s(:lvar, :s))), nil))))
