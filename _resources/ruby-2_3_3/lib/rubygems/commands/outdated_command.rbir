s(:begin,
  s(:send, nil, :require,
    s(:str, "rubygems/command")),
  s(:send, nil, :require,
    s(:str, "rubygems/local_remote_options")),
  s(:send, nil, :require,
    s(:str, "rubygems/spec_fetcher")),
  s(:send, nil, :require,
    s(:str, "rubygems/version_option")),
  s(:class,
    s(:const,
      s(:const,
        s(:const, nil, :Gem), :Commands), :OutdatedCommand),
    s(:const,
      s(:const, nil, :Gem), :Command),
    s(:begin,
      s(:send, nil, :include,
        s(:const,
          s(:const, nil, :Gem), :LocalRemoteOptions)),
      s(:send, nil, :include,
        s(:const,
          s(:const, nil, :Gem), :VersionOption)),
      s(:def, :initialize,
        s(:args),
        s(:begin,
          s(:super,
            s(:str, "outdated"),
            s(:str, "Display all gems that need updates")),
          s(:send, nil, :add_local_remote_options),
          s(:send, nil, :add_platform_option))),
      s(:def, :description,
        s(:args),
        s(:dstr,
          s(:str, "The outdated command lists gems you may wish to upgrade to a newer version.\n"),
          s(:str, "\n"),
          s(:str, "You can check for dependency mismatches using the dependency command and\n"),
          s(:str, "update the gems with the update or install commands.\n"))),
      s(:def, :execute,
        s(:args),
        s(:block,
          s(:send,
            s(:send,
              s(:const,
                s(:const, nil, :Gem), :Specification), :outdated_and_latest_version), :each),
          s(:args,
            s(:arg, :spec),
            s(:arg, :remote_version)),
          s(:send, nil, :say,
            s(:dstr,
              s(:begin,
                s(:send,
                  s(:lvar, :spec), :name)),
              s(:str, " ("),
              s(:begin,
                s(:send,
                  s(:lvar, :spec), :version)),
              s(:str, " < "),
              s(:begin,
                s(:lvar, :remote_version)),
              s(:str, ")"))))))))
