s(:class,
  s(:const,
    s(:const,
      s(:const, nil, :Gem), :Resolver), :VendorSpecification),
  s(:const,
    s(:const,
      s(:const, nil, :Gem), :Resolver), :SpecSpecification),
  s(:begin,
    s(:def, :==,
      s(:args,
        s(:arg, :other)),
      s(:and,
        s(:and,
          s(:and,
            s(:send,
              s(:send,
                s(:self), :class), :===,
              s(:lvar, :other)),
            s(:send,
              s(:ivar, :@set), :==,
              s(:send,
                s(:lvar, :other), :set))),
          s(:send,
            s(:ivar, :@spec), :==,
            s(:send,
              s(:lvar, :other), :spec))),
        s(:send,
          s(:ivar, :@source), :==,
          s(:send,
            s(:lvar, :other), :source)))),
    s(:def, :install,
      s(:args,
        s(:optarg, :options,
          s(:hash))),
      s(:yield,
        s(:nil)))))
