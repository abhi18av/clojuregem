s(:begin,
  s(:lvasgn, :tmax,
    s(:send,
      s(:begin,
        s(:or,
          s(:send,
            s(:const, nil, :ARGV), :shift),
          s(:int, 2))), :to_i)),
  s(:lvasgn, :lmax,
    s(:send,
      s(:int, 200000), :/,
      s(:lvar, :tmax))),
  s(:block,
    s(:send,
      s(:block,
        s(:send,
          s(:begin,
            s(:irange,
              s(:int, 1),
              s(:lvar, :tmax))), :map),
        s(:args),
        s(:block,
          s(:send,
            s(:const, nil, :Thread), :new),
          s(:args),
          s(:block,
            s(:send,
              s(:lvar, :lmax), :times),
            s(:args),
            s(:send,
              s(:const, nil, :Thread), :pass)))), :each),
    s(:args,
      s(:arg, :t)),
    s(:send,
      s(:lvar, :t), :join)))
