s(:begin,
  s(:casgn, nil, :Bench,
    s(:array,
      s(:str, "loop"),
      s(:str, "ack"),
      s(:str, "fib"),
      s(:str, "tak"),
      s(:str, "fact"))),
  s(:casgn, nil, :Lang,
    s(:block,
      s(:send,
        s(:dstr,
          s(:str, "  ruby-cyg\n"),
          s(:str, "  ../../../test6/miniruby\n"),
          s(:str, "  perl\n"),
          s(:str, "  python\n"),
          s(:str, "  gosh\n")), :map),
      s(:args,
        s(:arg, :l)),
      s(:send,
        s(:lvar, :l), :strip))),
  s(:send,
    s(:const, nil, :Bench), :replace,
    s(:array,
      s(:str, "loop2"))),
  s(:send,
    s(:const, nil, :Lang), :replace,
    s(:array,
      s(:str, "ruby-cyg"))),
  s(:casgn, nil, :Ext,
    s(:array,
      s(:str, ".rb"),
      s(:str, ".rb"),
      s(:str, ".pl"),
      s(:str, ".py"),
      s(:str, ".scm"))),
  s(:send, nil, :p,
    s(:const, nil, :Bench)),
  s(:send, nil, :p,
    s(:const, nil, :Lang)),
  s(:send, nil, :require,
    s(:str, "benchmark")),
  s(:def, :bench,
    s(:args,
      s(:arg, :cmd)),
    s(:begin,
      s(:lvasgn, :m,
        s(:block,
          s(:send,
            s(:const, nil, :Benchmark), :measure),
          s(:args),
          s(:send, nil, :system,
            s(:lvar, :cmd)))),
      s(:array,
        s(:send,
          s(:lvar, :m), :utime),
        s(:send,
          s(:lvar, :m), :real)))),
  s(:casgn, nil, :Result,
    s(:array)),
  s(:block,
    s(:send,
      s(:const, nil, :Bench), :each),
    s(:args,
      s(:arg, :b)),
    s(:begin,
      s(:lvasgn, :r,
        s(:array)),
      s(:block,
        s(:send,
          s(:const, nil, :Lang), :each_with_index),
        s(:args,
          s(:arg, :l),
          s(:arg, :idx)),
        s(:begin,
          s(:lvasgn, :cmd,
            s(:dstr,
              s(:begin,
                s(:lvar, :l)),
              s(:str, " "),
              s(:begin,
                s(:lvar, :b)),
              s(:begin,
                s(:send,
                  s(:const, nil, :Ext), :[],
                  s(:lvar, :idx))))),
          s(:send,
            s(:lvar, :r), :<<,
            s(:send, nil, :bench,
              s(:lvar, :cmd))))),
      s(:send,
        s(:const, nil, :Result), :<<,
        s(:lvar, :r)))),
  s(:send, nil, :require,
    s(:str, "pp")),
  s(:send, nil, :puts,
    s(:send,
      s(:const, nil, :Lang), :join,
      s(:str, "\t"))),
  s(:block,
    s(:send,
      s(:const, nil, :Bench), :each_with_index),
    s(:args,
      s(:arg, :b),
      s(:arg, :bi)),
    s(:begin,
      s(:send, nil, :print,
        s(:lvar, :b),
        s(:str, "\t")),
      s(:send, nil, :puts,
        s(:send,
          s(:block,
            s(:send,
              s(:send,
                s(:const, nil, :Result), :[],
                s(:lvar, :bi)), :map),
            s(:args,
              s(:arg, :e)),
            s(:send,
              s(:lvar, :e), :[],
              s(:int, 0))), :join,
          s(:str, "\t"))))),
  s(:send, nil, :puts,
    s(:send,
      s(:const, nil, :Lang), :join,
      s(:str, "\t"))),
  s(:block,
    s(:send,
      s(:const, nil, :Bench), :each_with_index),
    s(:args,
      s(:arg, :b),
      s(:arg, :bi)),
    s(:begin,
      s(:send, nil, :print,
        s(:lvar, :b),
        s(:str, "\t")),
      s(:send, nil, :puts,
        s(:send,
          s(:block,
            s(:send,
              s(:send,
                s(:const, nil, :Result), :[],
                s(:lvar, :bi)), :map),
            s(:args,
              s(:arg, :e)),
            s(:send,
              s(:lvar, :e), :[],
              s(:int, 1))), :join,
          s(:str, "\t"))))))
