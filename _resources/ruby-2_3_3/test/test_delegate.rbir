s(:begin,
  s(:send, nil, :require,
    s(:str, "test/unit")),
  s(:send, nil, :require,
    s(:str, "delegate")),
  s(:class,
    s(:const, nil, :TestDelegateClass),
    s(:const,
      s(:const,
        s(:const, nil, :Test), :Unit), :TestCase),
    s(:begin,
      s(:module,
        s(:const, nil, :M),
        s(:send, nil, :attr_reader,
          s(:sym, :m))),
      s(:def, :test_extend,
        s(:args),
        s(:begin,
          s(:lvasgn, :obj,
            s(:send,
              s(:send, nil, :DelegateClass,
                s(:const, nil, :Array)), :new,
              s(:array))),
          s(:block,
            s(:send,
              s(:lvar, :obj), :instance_eval),
            s(:args),
            s(:ivasgn, :@m,
              s(:sym, :m))),
          s(:send,
            s(:lvar, :obj), :extend,
            s(:const, nil, :M)),
          s(:send, nil, :assert_equal,
            s(:sym, :m),
            s(:send,
              s(:lvar, :obj), :m),
            s(:str, "[ruby-dev:33116]")))),
      s(:def, :test_systemcallerror_eq,
        s(:args),
        s(:begin,
          s(:lvasgn, :e,
            s(:send,
              s(:const, nil, :SystemCallError), :new,
              s(:int, 0))),
          s(:send, nil, :assert,
            s(:send,
              s(:begin,
                s(:send,
                  s(:send,
                    s(:const, nil, :SimpleDelegator), :new,
                    s(:lvar, :e)), :==,
                  s(:lvar, :e))), :==,
              s(:begin,
                s(:send,
                  s(:lvar, :e), :==,
                  s(:send,
                    s(:const, nil, :SimpleDelegator), :new,
                    s(:lvar, :e))))),
            s(:str, "[ruby-dev:34808]")))),
      s(:class,
        s(:const, nil, :Myclass),
        s(:send, nil, :DelegateClass,
          s(:const, nil, :Array)), nil),
      s(:def, :test_delegateclass_class,
        s(:args),
        s(:begin,
          s(:lvasgn, :myclass,
            s(:send,
              s(:const, nil, :Myclass), :new,
              s(:array))),
          s(:send, nil, :assert_equal,
            s(:const, nil, :Myclass),
            s(:send,
              s(:lvar, :myclass), :class)),
          s(:send, nil, :assert_equal,
            s(:const, nil, :Myclass),
            s(:send,
              s(:send,
                s(:lvar, :myclass), :dup), :class),
            s(:str, "[ruby-dev:40313]")),
          s(:send, nil, :assert_equal,
            s(:const, nil, :Myclass),
            s(:send,
              s(:send,
                s(:lvar, :myclass), :clone), :class),
            s(:str, "[ruby-dev:40313]")))),
      s(:def, :test_simpledelegator_class,
        s(:args),
        s(:begin,
          s(:lvasgn, :simple,
            s(:send,
              s(:const, nil, :SimpleDelegator), :new,
              s(:array))),
          s(:send, nil, :assert_equal,
            s(:const, nil, :SimpleDelegator),
            s(:send,
              s(:lvar, :simple), :class)),
          s(:send, nil, :assert_equal,
            s(:const, nil, :SimpleDelegator),
            s(:send,
              s(:send,
                s(:lvar, :simple), :dup), :class)),
          s(:send, nil, :assert_equal,
            s(:const, nil, :SimpleDelegator),
            s(:send,
              s(:send,
                s(:lvar, :simple), :clone), :class)))),
      s(:class,
        s(:const, nil, :Object), nil,
        s(:begin,
          s(:def, :m,
            s(:args),
            s(:sym, :o)),
          s(:send, nil, :private),
          s(:def, :delegate_test_m,
            s(:args),
            s(:sym, :o)))),
      s(:class,
        s(:const, nil, :Foo), nil,
        s(:begin,
          s(:def, :m,
            s(:args),
            s(:sym, :m)),
          s(:def, :delegate_test_m,
            s(:args),
            s(:sym, :m)))),
      s(:class,
        s(:const, nil, :Bar),
        s(:send, nil, :DelegateClass,
          s(:const, nil, :Foo)), nil),
      s(:def, :test_override,
        s(:args),
        s(:begin,
          s(:lvasgn, :foo,
            s(:send,
              s(:const, nil, :Foo), :new)),
          s(:lvasgn, :foo2,
            s(:send,
              s(:const, nil, :SimpleDelegator), :new,
              s(:lvar, :foo))),
          s(:lvasgn, :bar,
            s(:send,
              s(:const, nil, :Bar), :new,
              s(:lvar, :foo))),
          s(:send, nil, :assert_equal,
            s(:sym, :o),
            s(:send,
              s(:send,
                s(:const, nil, :Object), :new), :m)),
          s(:send, nil, :assert_equal,
            s(:sym, :m),
            s(:send,
              s(:lvar, :foo), :m)),
          s(:send, nil, :assert_equal,
            s(:sym, :m),
            s(:send,
              s(:lvar, :foo2), :m)),
          s(:send, nil, :assert_equal,
            s(:sym, :m),
            s(:send,
              s(:lvar, :bar), :m)),
          s(:lvasgn, :bug,
            s(:str, "[ruby-dev:39154]")),
          s(:send, nil, :assert_equal,
            s(:sym, :m),
            s(:send,
              s(:lvar, :foo2), :send,
              s(:sym, :delegate_test_m)),
            s(:lvar, :bug)),
          s(:send, nil, :assert_equal,
            s(:sym, :m),
            s(:send,
              s(:lvar, :bar), :send,
              s(:sym, :delegate_test_m)),
            s(:lvar, :bug)))),
      s(:class,
        s(:const, nil, :IV),
        s(:send, nil, :DelegateClass,
          s(:const, nil, :Integer)),
        s(:begin,
          s(:send, nil, :attr_accessor,
            s(:sym, :var)),
          s(:def, :initialize,
            s(:args),
            s(:begin,
              s(:ivasgn, :@var,
                s(:int, 1)),
              s(:super,
                s(:int, 0)))))),
      s(:def, :test_marshal,
        s(:args),
        s(:begin,
          s(:lvasgn, :bug1744,
            s(:str, "[ruby-core:24211]")),
          s(:lvasgn, :c,
            s(:send,
              s(:const, nil, :IV), :new)),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:send,
              s(:lvar, :c), :var)),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Marshal), :load,
              s(:send,
                s(:const, nil, :Marshal), :dump,
                s(:lvar, :c)))),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:send,
              s(:lvar, :d), :var),
            s(:lvar, :bug1744)))),
      s(:def, :test_copy_frozen,
        s(:args),
        s(:begin,
          s(:lvasgn, :bug2679,
            s(:str, "[ruby-dev:40242]")),
          s(:lvasgn, :a,
            s(:send,
              s(:array,
                s(:int, 42),
                s(:sym, :hello)), :freeze)),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :SimpleDelegator), :new,
              s(:lvar, :a))),
          s(:block,
            s(:send, nil, :assert_nothing_raised,
              s(:lvar, :bug2679)),
            s(:args),
            s(:op_asgn,
              s(:send,
                s(:send,
                  s(:lvar, :d), :dup), :[],
                s(:int, 0)), :+,
              s(:int, 1))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :RuntimeError)),
            s(:args),
            s(:op_asgn,
              s(:send,
                s(:send,
                  s(:lvar, :d), :clone), :[],
                s(:int, 0)), :+,
              s(:int, 1))),
          s(:send,
            s(:lvar, :d), :freeze),
          s(:send, nil, :assert,
            s(:send,
              s(:send,
                s(:lvar, :d), :clone), :frozen?)),
          s(:send, nil, :assert,
            s(:send,
              s(:send,
                s(:send,
                  s(:lvar, :d), :dup), :frozen?), :!)))),
      s(:def, :test_frozen,
        s(:args),
        s(:begin,
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :SimpleDelegator), :new,
              s(:array,
                s(:int, 1),
                s(:sym, :foo)))),
          s(:send,
            s(:lvar, :d), :freeze),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :RuntimeError),
              s(:str, "[ruby-dev:40314]#1")),
            s(:args),
            s(:send,
              s(:lvar, :d), :__setobj__,
              s(:str, "foo"))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :foo)),
            s(:lvar, :d)))),
      s(:def, :test_instance_method,
        s(:args),
        s(:begin,
          s(:lvasgn, :s,
            s(:send,
              s(:const, nil, :SimpleDelegator), :new,
              s(:str, "foo"))),
          s(:lvasgn, :m,
            s(:send,
              s(:lvar, :s), :method,
              s(:str, "upcase"))),
          s(:send,
            s(:lvar, :s), :__setobj__,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :NoMethodError),
              s(:str, "[ruby-dev:40314]#3")),
            s(:args),
            s(:send,
              s(:lvar, :m), :call)))),
      s(:def, :test_methods,
        s(:args),
        s(:begin,
          s(:lvasgn, :s,
            s(:send,
              s(:const, nil, :SimpleDelegator), :new,
              s(:str, "foo"))),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:send,
              s(:lvar, :s), :methods,
              s(:false))),
          s(:defs,
            s(:lvar, :s), :bar,
            s(:args), nil),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :bar)),
            s(:send,
              s(:lvar, :s), :methods,
              s(:false))))),
      s(:class,
        s(:const, nil, :Foo), nil,
        s(:begin,
          s(:send, nil, :private),
          s(:def, :delegate_test_private,
            s(:args),
            s(:sym, :m)))),
      s(:def, :test_private_method,
        s(:args),
        s(:begin,
          s(:lvasgn, :foo,
            s(:send,
              s(:const, nil, :Foo), :new)),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :SimpleDelegator), :new,
              s(:lvar, :foo))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :NoMethodError)),
            s(:args),
            s(:send,
              s(:lvar, :foo), :delegate_test_private)),
          s(:send, nil, :assert_equal,
            s(:sym, :m),
            s(:send,
              s(:lvar, :foo), :send,
              s(:sym, :delegate_test_private))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :NoMethodError),
              s(:str, "[ruby-dev:40314]#4")),
            s(:args),
            s(:send,
              s(:lvar, :d), :delegate_test_private)),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :NoMethodError),
              s(:str, "[ruby-dev:40314]#5")),
            s(:args),
            s(:send,
              s(:lvar, :d), :send,
              s(:sym, :delegate_test_private))))),
      s(:def, :test_global_function,
        s(:args),
        s(:begin,
          s(:lvasgn, :klass,
            s(:block,
              s(:send,
                s(:const, nil, :Class), :new),
              s(:args),
              s(:def, :open,
                s(:args), nil))),
          s(:lvasgn, :obj,
            s(:send,
              s(:lvar, :klass), :new)),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :SimpleDelegator), :new,
              s(:lvar, :obj))),
          s(:block,
            s(:send, nil, :assert_nothing_raised,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:lvar, :obj), :open)),
          s(:block,
            s(:send, nil, :assert_nothing_raised,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:lvar, :d), :open)),
          s(:block,
            s(:send, nil, :assert_nothing_raised,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:lvar, :d), :send,
              s(:sym, :open))))),
      s(:def, :test_send_method_in_delegator,
        s(:args),
        s(:begin,
          s(:lvasgn, :d,
            s(:send,
              s(:block,
                s(:send,
                  s(:const, nil, :Class), :new,
                  s(:const, nil, :SimpleDelegator)),
                s(:args),
                s(:def, :foo,
                  s(:args),
                  s(:str, "foo"))), :new,
              s(:send,
                s(:const, nil, :Object), :new))),
          s(:send, nil, :assert_equal,
            s(:str, "foo"),
            s(:send,
              s(:lvar, :d), :send,
              s(:sym, :foo))))),
      s(:def, :test_unset_simple_delegator,
        s(:args),
        s(:begin,
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :SimpleDelegator), :allocate)),
          s(:block,
            s(:send, nil, :assert_raise_with_message,
              s(:const, nil, :ArgumentError),
              s(:regexp,
                s(:str, "not delegated"),
                s(:regopt))),
            s(:args),
            s(:send,
              s(:lvar, :d), :__getobj__)))),
      s(:def, :test_unset_delegate_class,
        s(:args),
        s(:begin,
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :IV), :allocate)),
          s(:block,
            s(:send, nil, :assert_raise_with_message,
              s(:const, nil, :ArgumentError),
              s(:regexp,
                s(:str, "not delegated"),
                s(:regopt))),
            s(:args),
            s(:send,
              s(:lvar, :d), :__getobj__)))),
      s(:class,
        s(:const, nil, :Bug9155),
        s(:send, nil, :DelegateClass,
          s(:const, nil, :Integer)),
        s(:def, :initialize,
          s(:args,
            s(:arg, :value)),
          s(:super,
            s(:send, nil, :Integer,
              s(:lvar, :value))))),
      s(:def, :test_global_method_if_no_target,
        s(:args),
        s(:begin,
          s(:lvasgn, :bug9155,
            s(:str, "[ruby-core:58572] [Bug #9155]")),
          s(:lvasgn, :x,
            s(:block,
              s(:send, nil, :assert_nothing_raised,
                s(:const, nil, :ArgumentError),
                s(:lvar, :bug9155)),
              s(:args),
              s(:break,
                s(:send,
                  s(:const, nil, :Bug9155), :new,
                  s(:int, 1))))),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:send,
              s(:lvar, :x), :to_i),
            s(:lvar, :bug9155)))),
      s(:class,
        s(:const, nil, :Bug9403), nil,
        s(:begin,
          s(:casgn, nil, :Name,
            s(:str, "[ruby-core:59718] [Bug #9403]")),
          s(:casgn, nil, :SD,
            s(:send,
              s(:const, nil, :SimpleDelegator), :new,
              s(:send, nil, :new))),
          s(:sclass,
            s(:const, nil, :SD),
            s(:begin,
              s(:def, :method_name,
                s(:args),
                s(:send, nil, :__method__)),
              s(:def, :callee_name,
                s(:args),
                s(:send, nil, :__callee__)),
              s(:alias,
                s(:sym, :aliased_name),
                s(:sym, :callee_name)),
              s(:def, :dir_name,
                s(:args),
                s(:send, nil, :__dir__)))),
          s(:lvasgn, :dc,
            s(:send, nil, :DelegateClass,
              s(:self))),
          s(:block,
            s(:send,
              s(:lvar, :dc), :class_eval),
            s(:args),
            s(:begin,
              s(:def, :method_name,
                s(:args),
                s(:send, nil, :__method__)),
              s(:def, :callee_name,
                s(:args),
                s(:send, nil, :__callee__)),
              s(:alias,
                s(:sym, :aliased_name),
                s(:sym, :callee_name)),
              s(:def, :dir_name,
                s(:args),
                s(:send, nil, :__dir__)))),
          s(:casgn, nil, :DC,
            s(:send,
              s(:lvar, :dc), :new,
              s(:send, nil, :new))))),
      s(:def, :test_method_in_simple_delegator,
        s(:args),
        s(:send, nil, :assert_equal,
          s(:sym, :method_name),
          s(:send,
            s(:const,
              s(:const, nil, :Bug9403), :SD), :method_name),
          s(:const,
            s(:const, nil, :Bug9403), :Name))),
      s(:def, :test_callee_in_simple_delegator,
        s(:args),
        s(:begin,
          s(:send, nil, :assert_equal,
            s(:sym, :callee_name),
            s(:send,
              s(:const,
                s(:const, nil, :Bug9403), :SD), :callee_name),
            s(:const,
              s(:const, nil, :Bug9403), :Name)),
          s(:send, nil, :assert_equal,
            s(:sym, :aliased_name),
            s(:send,
              s(:const,
                s(:const, nil, :Bug9403), :SD), :aliased_name),
            s(:const,
              s(:const, nil, :Bug9403), :Name)))),
      s(:def, :test_dir_in_simple_delegator,
        s(:args),
        s(:send, nil, :assert_equal,
          s(:send, nil, :__dir__),
          s(:send,
            s(:const,
              s(:const, nil, :Bug9403), :SD), :dir_name),
          s(:const,
            s(:const, nil, :Bug9403), :Name))),
      s(:def, :test_method_in_delegator_class,
        s(:args),
        s(:send, nil, :assert_equal,
          s(:sym, :method_name),
          s(:send,
            s(:const,
              s(:const, nil, :Bug9403), :DC), :method_name),
          s(:const,
            s(:const, nil, :Bug9403), :Name))),
      s(:def, :test_callee_in_delegator_class,
        s(:args),
        s(:begin,
          s(:send, nil, :assert_equal,
            s(:sym, :callee_name),
            s(:send,
              s(:const,
                s(:const, nil, :Bug9403), :DC), :callee_name),
            s(:const,
              s(:const, nil, :Bug9403), :Name)),
          s(:send, nil, :assert_equal,
            s(:sym, :aliased_name),
            s(:send,
              s(:const,
                s(:const, nil, :Bug9403), :DC), :aliased_name),
            s(:const,
              s(:const, nil, :Bug9403), :Name)))),
      s(:def, :test_dir_in_delegator_class,
        s(:args),
        s(:send, nil, :assert_equal,
          s(:send, nil, :__dir__),
          s(:send,
            s(:const,
              s(:const, nil, :Bug9403), :DC), :dir_name),
          s(:const,
            s(:const, nil, :Bug9403), :Name))))))
