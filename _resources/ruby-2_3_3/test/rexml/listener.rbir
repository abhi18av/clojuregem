s(:class,
  s(:const, nil, :Listener), nil,
  s(:begin,
    s(:send, nil, :attr_reader,
      s(:sym, :ts),
      s(:sym, :te)),
    s(:send, nil, :attr_reader,
      s(:sym, :normalize)),
    s(:def, :initialize,
      s(:args),
      s(:begin,
        s(:ivasgn, :@ts,
          s(:false)),
        s(:ivasgn, :@te,
          s(:false)))),
    s(:def, :tag_start,
      s(:args,
        s(:arg, :name),
        s(:arg, :attrs)),
      s(:if,
        s(:and,
          s(:send,
            s(:lvar, :name), :==,
            s(:str, "subsection")),
          s(:send,
            s(:send,
              s(:lvar, :attrs), :[],
              s(:str, "title")), :==,
            s(:str, "Namespaces"))),
        s(:ivasgn, :@ts,
          s(:true)), nil)),
    s(:def, :tag_end,
      s(:args,
        s(:arg, :name)),
      s(:if,
        s(:send,
          s(:lvar, :name), :==,
          s(:str, "documentation")),
        s(:ivasgn, :@te,
          s(:true)), nil)),
    s(:def, :text,
      s(:args,
        s(:arg, :text)),
      s(:ivasgn, :@normalize,
        s(:lvar, :text))),
    s(:def, :instruction,
      s(:args,
        s(:arg, :name),
        s(:arg, :instruction)), nil),
    s(:def, :comment,
      s(:args,
        s(:arg, :comment)), nil),
    s(:def, :doctype,
      s(:args,
        s(:arg, :name),
        s(:arg, :pub_sys),
        s(:arg, :long_name),
        s(:arg, :uri)), nil),
    s(:def, :attlistdecl,
      s(:args,
        s(:arg, :content)), nil),
    s(:def, :elementdecl,
      s(:args,
        s(:arg, :content)), nil),
    s(:def, :entitydecl,
      s(:args,
        s(:arg, :content)), nil),
    s(:def, :notationdecl,
      s(:args,
        s(:arg, :content)), nil),
    s(:def, :entity,
      s(:args,
        s(:arg, :content)), nil),
    s(:def, :cdata,
      s(:args,
        s(:arg, :content)), nil),
    s(:def, :xmldecl,
      s(:args,
        s(:arg, :version),
        s(:arg, :encoding),
        s(:arg, :standalone)), nil)))
