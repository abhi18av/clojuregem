s(:begin,
  s(:send, nil, :require,
    s(:str, "test/unit/testcase")),
  s(:send, nil, :require,
    s(:str, "rexml/document")),
  s(:module,
    s(:const, nil, :REXMLTests),
    s(:class,
      s(:const, nil, :CommentTester),
      s(:const,
        s(:const,
          s(:const, nil, :Test), :Unit), :TestCase),
      s(:def, :test_hyphen_end_line_in_doctype,
        s(:args),
        s(:begin,
          s(:lvasgn, :xml,
            s(:dstr,
              s(:str, "<?xml version=\"1.0\"?>\n"),
              s(:str, "<!DOCTYPE root [\n"),
              s(:str, "<!-- comment end with hyphen -\n"),
              s(:str, "     here -->\n"),
              s(:str, "]>\n"),
              s(:str, "<root/>\n"))),
          s(:lvasgn, :document,
            s(:send,
              s(:const,
                s(:const, nil, :REXML), :Document), :new,
              s(:lvar, :xml))),
          s(:lvasgn, :comments,
            s(:block,
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :document), :doctype), :children), :find_all),
              s(:args,
                s(:arg, :child)),
              s(:send,
                s(:lvar, :child), :is_a?,
                s(:const,
                  s(:const, nil, :REXML), :Comment)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:str, " comment end with hyphen -\n     here ")),
            s(:send,
              s(:lvar, :comments), :collect,
              s(:block_pass,
                s(:sym, :to_s)))))))))
