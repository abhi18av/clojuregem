s(:begin,
  s(:send, nil, :require,
    s(:str, "test/unit")),
  s(:send, nil, :require,
    s(:str, "-test-/file")),
  s(:class,
    s(:const, nil, :Test_FileStat),
    s(:const,
      s(:const,
        s(:const, nil, :Test), :Unit), :TestCase),
    s(:begin,
      s(:def, :test_stat_for_fd,
        s(:args),
        s(:begin,
          s(:lvasgn, :st,
            s(:block,
              s(:send, nil, :open,
                s(:str, "(string)")),
              s(:args,
                s(:arg, :f)),
              s(:send,
                s(:const,
                  s(:const,
                    s(:const, nil, :Bug), :File), :Stat), :for_fd,
                s(:send,
                  s(:lvar, :f), :fileno)))),
          s(:send, nil, :assert_equal,
            s(:send,
              s(:const, nil, :File), :stat,
              s(:str, "(string)")),
            s(:lvar, :st)))),
      s(:def, :test_stat_for_path,
        s(:args),
        s(:begin,
          s(:lvasgn, :st,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Bug), :File), :Stat), :for_path,
              s(:str, "(string)"))),
          s(:send, nil, :assert_equal,
            s(:send,
              s(:const, nil, :File), :stat,
              s(:str, "(string)")),
            s(:lvar, :st)))))))
