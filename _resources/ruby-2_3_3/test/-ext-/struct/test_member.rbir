s(:begin,
  s(:send, nil, :require,
    s(:str, "test/unit")),
  s(:send, nil, :require,
    s(:str, "-test-/struct")),
  s(:class,
    s(:const,
      s(:const,
        s(:const, nil, :Bug), :Struct), :Test_Member),
    s(:const,
      s(:const,
        s(:const, nil, :Test), :Unit), :TestCase),
    s(:begin,
      s(:casgn, nil, :S,
        s(:send,
          s(:const,
            s(:const, nil, :Bug), :Struct), :new,
          s(:sym, :a))),
      s(:def, :test_member_get,
        s(:args),
        s(:begin,
          s(:lvasgn, :s,
            s(:send,
              s(:const, nil, :S), :new,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:send,
              s(:lvar, :s), :get,
              s(:sym, :a))),
          s(:block,
            s(:send, nil, :assert_raise_with_message,
              s(:const, nil, :NameError),
              s(:regexp,
                s(:str, "is not a struct member"),
                s(:regopt))),
            s(:args),
            s(:send,
              s(:lvar, :s), :get,
              s(:sym, :b))),
          s(:block,
            s(:send,
              s(:const, nil, :EnvUtil), :with_default_external,
              s(:const,
                s(:const, nil, :Encoding), :UTF_8)),
            s(:args),
            s(:block,
              s(:send, nil, :assert_raise_with_message,
                s(:const, nil, :NameError),
                s(:regexp,
                  s(:str, "\\u{3042}"),
                  s(:regopt))),
              s(:args),
              s(:send,
                s(:lvar, :s), :get,
                s(:sym, :„ÅÇ)))))))))
