s(:begin,
  s(:send, nil, :require,
    s(:str, "test/unit")),
  s(:send, nil, :require,
    s(:str, "-test-/time")),
  s(:class,
    s(:const,
      s(:const,
        s(:const, nil, :Bug), :Time), :Test_New),
    s(:const,
      s(:const,
        s(:const, nil, :Test), :Unit), :TestCase),
    s(:begin,
      s(:def, :test_nano_new,
        s(:args),
        s(:begin,
          s(:send, nil, :assert_equal,
            s(:send,
              s(:const, nil, :Time), :at,
              s(:int, 1447087832),
              s(:float, 476451.125)),
            s(:send,
              s(:const,
                s(:const, nil, :Bug), :Time), :nano_new,
              s(:int, 1447087832),
              s(:int, 476451125))),
          s(:send, nil, :assert_not_equal,
            s(:send,
              s(:const, nil, :Time), :at,
              s(:int, 1447087832),
              s(:float, 476451.325)),
            s(:send,
              s(:const,
                s(:const, nil, :Bug), :Time), :nano_new,
              s(:int, 1447087832),
              s(:int, 476451125))),
          s(:send, nil, :assert_equal,
            s(:false),
            s(:send,
              s(:send,
                s(:const,
                  s(:const, nil, :Bug), :Time), :nano_new,
                s(:int, 1447087832),
                s(:int, 476451125)), :utc?)))),
      s(:def, :assert_time_equal,
        s(:args,
          s(:arg, :a),
          s(:arg, :b),
          s(:optarg, :msg,
            s(:nil))),
        s(:begin,
          s(:send, nil, :assert_equal,
            s(:lvar, :a),
            s(:lvar, :b),
            s(:lvar, :msg)),
          s(:send, nil, :assert_equal,
            s(:send,
              s(:lvar, :a), :gmtoff),
            s(:send,
              s(:lvar, :b), :gmtoff),
            s(:lvar, :msg)),
          s(:send, nil, :assert_equal,
            s(:send,
              s(:lvar, :a), :utc?),
            s(:send,
              s(:lvar, :b), :utc?),
            s(:lvar, :msg)))),
      s(:def, :test_timespec_new,
        s(:args),
        s(:begin,
          s(:send, nil, :assert_time_equal,
            s(:send,
              s(:send,
                s(:const, nil, :Time), :at,
                s(:int, 1447087832),
                s(:float, 476451.125)), :localtime,
              s(:int, 32400)),
            s(:send,
              s(:const,
                s(:const, nil, :Bug), :Time), :timespec_new,
              s(:int, 1447087832),
              s(:int, 476451125),
              s(:int, 32400))),
          s(:send, nil, :assert_not_equal,
            s(:send,
              s(:send,
                s(:const, nil, :Time), :at,
                s(:int, 1447087832),
                s(:float, 476451.128)), :localtime,
              s(:int, 32400)),
            s(:send,
              s(:const,
                s(:const, nil, :Bug), :Time), :timespec_new,
              s(:int, 1447087832),
              s(:int, 476451125),
              s(:int, 32400))),
          s(:send, nil, :assert_equal,
            s(:false),
            s(:send,
              s(:send,
                s(:const,
                  s(:const, nil, :Bug), :Time), :timespec_new,
                s(:int, 1447087832),
                s(:int, 476451125),
                s(:int, 0)), :utc?)),
          s(:send, nil, :assert_equal,
            s(:true),
            s(:send,
              s(:send,
                s(:const,
                  s(:const, nil, :Bug), :Time), :timespec_new,
                s(:int, 1447087832),
                s(:int, 476451125),
                s(:int, 2147483646)), :utc?)),
          s(:send, nil, :assert_equal,
            s(:false),
            s(:send,
              s(:send,
                s(:const,
                  s(:const, nil, :Bug), :Time), :timespec_new,
                s(:int, 1447087832),
                s(:int, 476451125),
                s(:int, 2147483647)), :utc?)),
          s(:lvasgn, :t,
            s(:send,
              s(:const, nil, :Time), :now)),
          s(:send, nil, :assert_equal,
            s(:send,
              s(:lvar, :t), :gmtoff),
            s(:send,
              s(:send,
                s(:const,
                  s(:const, nil, :Bug), :Time), :timespec_new,
                s(:send,
                  s(:lvar, :t), :tv_sec),
                s(:send,
                  s(:lvar, :t), :tv_nsec),
                s(:int, 2147483647)), :gmtoff)),
          s(:send, nil, :assert_time_equal,
            s(:send,
              s(:send,
                s(:const, nil, :Time), :at,
                s(:int, 1447087832),
                s(:float, 476451.125)), :localtime,
              s(:int, 86399)),
            s(:send,
              s(:const,
                s(:const, nil, :Bug), :Time), :timespec_new,
              s(:int, 1447087832),
              s(:int, 476451125),
              s(:int, 86399))),
          s(:send, nil, :assert_time_equal,
            s(:send,
              s(:send,
                s(:const, nil, :Time), :at,
                s(:int, 1447087832),
                s(:float, 476451.125)), :localtime,
              s(:int, -86399)),
            s(:send,
              s(:const,
                s(:const, nil, :Bug), :Time), :timespec_new,
              s(:int, 1447087832),
              s(:int, 476451125),
              s(:int, -86399))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:const,
                s(:const, nil, :Bug), :Time), :timespec_new,
              s(:int, 1447087832),
              s(:int, 476451125),
              s(:int, 86400))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:const,
                s(:const, nil, :Bug), :Time), :timespec_new,
              s(:int, 1447087832),
              s(:int, 476451125),
              s(:int, -86400))))),
      s(:def, :test_timespec_now,
        s(:args),
        s(:begin,
          s(:lvasgn, :t0,
            s(:send,
              s(:send,
                s(:const, nil, :Time), :now), :to_r)),
          s(:lvasgn, :t,
            s(:send,
              s(:const,
                s(:const, nil, :Bug), :Time), :timespec_now)),
          s(:send, nil, :assert_in_delta,
            s(:int, 3),
            s(:lvar, :t0),
            s(:lvar, :t)))))))
