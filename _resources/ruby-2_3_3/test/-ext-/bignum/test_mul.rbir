s(:begin,
  s(:send, nil, :require,
    s(:str, "test/unit")),
  s(:send, nil, :require,
    s(:str, "-test-/bignum")),
  s(:class,
    s(:const, nil, :TestBignum),
    s(:const,
      s(:const,
        s(:const, nil, :Test), :Unit), :TestCase),
    s(:class,
      s(:const, nil, :TestMul),
      s(:const,
        s(:const,
          s(:const, nil, :Test), :Unit), :TestCase),
      s(:begin,
        s(:casgn, nil, :SIZEOF_BDIGIT,
          s(:const,
            s(:const, nil, :Bignum), :SIZEOF_BDIGIT)),
        s(:casgn, nil, :BITSPERDIG,
          s(:const,
            s(:const, nil, :Bignum), :BITSPERDIG)),
        s(:casgn, nil, :BDIGMAX,
          s(:send,
            s(:begin,
              s(:send,
                s(:int, 1), :<<,
                s(:const, nil, :BITSPERDIG))), :-,
            s(:int, 1))),
        s(:def, :test_mul_normal,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:int, 1))),
            s(:lvasgn, :y,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:int, 1))),
            s(:lvasgn, :z,
              s(:send,
                s(:send,
                  s(:begin,
                    s(:send,
                      s(:int, 1), :<<,
                      s(:begin,
                        s(:send,
                          s(:const, nil, :BITSPERDIG), :*,
                          s(:int, 2))))), :|,
                  s(:begin,
                    s(:send,
                      s(:int, 2), :<<,
                      s(:const, nil, :BITSPERDIG)))), :|,
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:lvar, :z),
              s(:send,
                s(:lvar, :x), :big_mul_normal,
                s(:lvar, :y))))),
        s(:def, :test_mul_normal_zero_in_x,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:begin,
                      s(:send,
                        s(:int, 2), :*,
                        s(:const, nil, :BITSPERDIG))))), :|,
                s(:int, 1))),
            s(:lvasgn, :y,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:int, 1))),
            s(:lvasgn, :z,
              s(:send,
                s(:send,
                  s(:send,
                    s(:begin,
                      s(:send,
                        s(:int, 1), :<<,
                        s(:begin,
                          s(:send,
                            s(:const, nil, :BITSPERDIG), :*,
                            s(:int, 3))))), :|,
                    s(:begin,
                      s(:send,
                        s(:int, 1), :<<,
                        s(:begin,
                          s(:send,
                            s(:const, nil, :BITSPERDIG), :*,
                            s(:int, 2)))))), :|,
                  s(:begin,
                    s(:send,
                      s(:int, 1), :<<,
                      s(:const, nil, :BITSPERDIG)))), :|,
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:lvar, :z),
              s(:send,
                s(:lvar, :x), :big_mul_normal,
                s(:lvar, :y))))),
        s(:def, :test_mul_normal_zero_in_y,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:int, 1))),
            s(:lvasgn, :y,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:begin,
                      s(:send,
                        s(:int, 2), :*,
                        s(:const, nil, :BITSPERDIG))))), :|,
                s(:int, 1))),
            s(:lvasgn, :z,
              s(:send,
                s(:send,
                  s(:send,
                    s(:begin,
                      s(:send,
                        s(:int, 1), :<<,
                        s(:begin,
                          s(:send,
                            s(:const, nil, :BITSPERDIG), :*,
                            s(:int, 3))))), :|,
                    s(:begin,
                      s(:send,
                        s(:int, 1), :<<,
                        s(:begin,
                          s(:send,
                            s(:const, nil, :BITSPERDIG), :*,
                            s(:int, 2)))))), :|,
                  s(:begin,
                    s(:send,
                      s(:int, 1), :<<,
                      s(:const, nil, :BITSPERDIG)))), :|,
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:lvar, :z),
              s(:send,
                s(:lvar, :x), :big_mul_normal,
                s(:lvar, :y))))),
        s(:def, :test_mul_normal_max_max,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:begin,
                      s(:send,
                        s(:int, 2), :*,
                        s(:const, nil, :BITSPERDIG))))), :-,
                s(:int, 1))),
            s(:lvasgn, :y,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:begin,
                      s(:send,
                        s(:int, 2), :*,
                        s(:const, nil, :BITSPERDIG))))), :-,
                s(:int, 1))),
            s(:lvasgn, :z,
              s(:send,
                s(:send,
                  s(:begin,
                    s(:send,
                      s(:int, 1), :<<,
                      s(:begin,
                        s(:send,
                          s(:int, 4), :*,
                          s(:const, nil, :BITSPERDIG))))), :-,
                  s(:begin,
                    s(:send,
                      s(:int, 1), :<<,
                      s(:begin,
                        s(:send,
                          s(:send,
                            s(:int, 2), :*,
                            s(:const, nil, :BITSPERDIG)), :+,
                          s(:int, 1)))))), :+,
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:lvar, :z),
              s(:send,
                s(:lvar, :x), :big_mul_normal,
                s(:lvar, :y))))),
        s(:def, :test_sq_fast,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:int, 1))),
            s(:lvasgn, :z,
              s(:send,
                s(:send,
                  s(:begin,
                    s(:send,
                      s(:int, 1), :<<,
                      s(:send,
                        s(:int, 2), :*,
                        s(:const, nil, :BITSPERDIG)))), :|,
                  s(:begin,
                    s(:send,
                      s(:int, 2), :<<,
                      s(:const, nil, :BITSPERDIG)))), :|,
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:lvar, :z),
              s(:send,
                s(:lvar, :x), :big_sq_fast)))),
        s(:def, :test_sq_fast_max2,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:const, nil, :BDIGMAX), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:const, nil, :BDIGMAX))),
            s(:send, nil, :assert_equal,
              s(:send,
                s(:lvar, :x), :big_mul_normal,
                s(:lvar, :x)),
              s(:send,
                s(:lvar, :x), :big_sq_fast)))),
        s(:def, :test_sq_fast_zero_in_middle,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:const, nil, :BDIGMAX), :<<,
                    s(:send,
                      s(:int, 2), :*,
                      s(:const, nil, :BITSPERDIG)))), :|,
                s(:const, nil, :BDIGMAX))),
            s(:send, nil, :assert_equal,
              s(:send,
                s(:lvar, :x), :big_mul_normal,
                s(:lvar, :x)),
              s(:send,
                s(:lvar, :x), :big_sq_fast)))),
        s(:def, :test_mul_balance,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:int, 1))),
            s(:lvasgn, :y,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:int, 1))),
            s(:lvasgn, :z,
              s(:send,
                s(:send,
                  s(:begin,
                    s(:send,
                      s(:int, 1), :<<,
                      s(:begin,
                        s(:send,
                          s(:const, nil, :BITSPERDIG), :*,
                          s(:int, 2))))), :|,
                  s(:begin,
                    s(:send,
                      s(:int, 2), :<<,
                      s(:const, nil, :BITSPERDIG)))), :|,
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:lvar, :z),
              s(:send,
                s(:lvar, :x), :big_mul_balance,
                s(:lvar, :y))))),
        s(:def, :test_mul_balance_2x16,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:const,
                      s(:const, nil, :Bignum), :BITSPERDIG))), :|,
                s(:int, 1))),
            s(:lvasgn, :y,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:send,
                      s(:const,
                        s(:const, nil, :Bignum), :BITSPERDIG), :*,
                      s(:int, 16)))), :|,
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:send,
                s(:lvar, :x), :big_mul_normal,
                s(:lvar, :y)),
              s(:send,
                s(:lvar, :x), :big_mul_balance,
                s(:lvar, :y))))),
        s(:def, :test_mul_balance_2x17,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:const,
                      s(:const, nil, :Bignum), :BITSPERDIG))), :|,
                s(:int, 1))),
            s(:lvasgn, :y,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:send,
                      s(:const,
                        s(:const, nil, :Bignum), :BITSPERDIG), :*,
                      s(:int, 17)))), :|,
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:send,
                s(:lvar, :x), :big_mul_normal,
                s(:lvar, :y)),
              s(:send,
                s(:lvar, :x), :big_mul_balance,
                s(:lvar, :y))))),
        s(:def, :test_mul_karatsuba,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:int, 1))),
            s(:lvasgn, :y,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:int, 1))),
            s(:lvasgn, :z,
              s(:send,
                s(:send,
                  s(:begin,
                    s(:send,
                      s(:int, 1), :<<,
                      s(:begin,
                        s(:send,
                          s(:const, nil, :BITSPERDIG), :*,
                          s(:int, 2))))), :|,
                  s(:begin,
                    s(:send,
                      s(:int, 2), :<<,
                      s(:const, nil, :BITSPERDIG)))), :|,
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:lvar, :z),
              s(:send,
                s(:lvar, :x), :big_mul_karatsuba,
                s(:lvar, :y))))),
        s(:def, :test_mul_karatsuba_odd_y,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:int, 1))),
            s(:lvasgn, :y,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:begin,
                      s(:send,
                        s(:int, 2), :*,
                        s(:const, nil, :BITSPERDIG))))), :|,
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:send,
                s(:lvar, :x), :big_mul_normal,
                s(:lvar, :y)),
              s(:send,
                s(:lvar, :x), :big_mul_karatsuba,
                s(:lvar, :y))))),
        s(:def, :test_mul_karatsuba_odd_xy,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:begin,
                      s(:send,
                        s(:int, 2), :*,
                        s(:const, nil, :BITSPERDIG))))), :|,
                s(:int, 1))),
            s(:lvasgn, :y,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:begin,
                      s(:send,
                        s(:int, 2), :*,
                        s(:const, nil, :BITSPERDIG))))), :|,
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:send,
                s(:lvar, :x), :big_mul_normal,
                s(:lvar, :y)),
              s(:send,
                s(:lvar, :x), :big_mul_karatsuba,
                s(:lvar, :y))))),
        s(:def, :test_mul_karatsuba_x1_gt_x0,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 2), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:int, 1))),
            s(:lvasgn, :y,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:int, 2))),
            s(:send, nil, :assert_equal,
              s(:send,
                s(:lvar, :x), :big_mul_normal,
                s(:lvar, :y)),
              s(:send,
                s(:lvar, :x), :big_mul_karatsuba,
                s(:lvar, :y))))),
        s(:def, :test_mul_karatsuba_y1_gt_y0,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:int, 2))),
            s(:lvasgn, :y,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 2), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:send,
                s(:lvar, :x), :big_mul_normal,
                s(:lvar, :y)),
              s(:send,
                s(:lvar, :x), :big_mul_karatsuba,
                s(:lvar, :y))))),
        s(:def, :test_mul_karatsuba_x1_gt_x0_and_y1_gt_y0,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 2), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:int, 1))),
            s(:lvasgn, :y,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 2), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:send,
                s(:lvar, :x), :big_mul_normal,
                s(:lvar, :y)),
              s(:send,
                s(:lvar, :x), :big_mul_karatsuba,
                s(:lvar, :y))))),
        s(:def, :test_mul_karatsuba_carry2,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:const, nil, :BDIGMAX))),
            s(:lvasgn, :y,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:int, 1), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:const, nil, :BDIGMAX))),
            s(:send, nil, :assert_equal,
              s(:send,
                s(:lvar, :x), :big_mul_normal,
                s(:lvar, :y)),
              s(:send,
                s(:lvar, :x), :big_mul_karatsuba,
                s(:lvar, :y))))),
        s(:def, :test_mul_karatsuba_borrow,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:const, nil, :BDIGMAX), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:int, 1))),
            s(:lvasgn, :y,
              s(:send,
                s(:begin,
                  s(:send,
                    s(:const, nil, :BDIGMAX), :<<,
                    s(:const, nil, :BITSPERDIG))), :|,
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:send,
                s(:lvar, :x), :big_mul_normal,
                s(:lvar, :y)),
              s(:send,
                s(:lvar, :x), :big_mul_karatsuba,
                s(:lvar, :y))))),
        s(:def, :test_mul_toom3,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:send,
                  s(:begin,
                    s(:send,
                      s(:int, 1), :<<,
                      s(:send,
                        s(:int, 2), :*,
                        s(:const, nil, :BITSPERDIG)))), :|,
                  s(:begin,
                    s(:send,
                      s(:int, 1), :<<,
                      s(:const, nil, :BITSPERDIG)))), :|,
                s(:int, 1))),
            s(:lvasgn, :y,
              s(:send,
                s(:send,
                  s(:begin,
                    s(:send,
                      s(:int, 1), :<<,
                      s(:send,
                        s(:int, 2), :*,
                        s(:const, nil, :BITSPERDIG)))), :|,
                  s(:begin,
                    s(:send,
                      s(:int, 1), :<<,
                      s(:const, nil, :BITSPERDIG)))), :|,
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:send,
                s(:lvar, :x), :big_mul_normal,
                s(:lvar, :y)),
              s(:send,
                s(:lvar, :x), :big_mul_toom3,
                s(:lvar, :y))))),
        s(:def, :test_mul_gmp,
          s(:args),
          s(:rescue,
            s(:begin,
              s(:lvasgn, :x,
                s(:send,
                  s(:send,
                    s(:begin,
                      s(:send,
                        s(:int, 1), :<<,
                        s(:send,
                          s(:int, 2), :*,
                          s(:const, nil, :BITSPERDIG)))), :|,
                    s(:begin,
                      s(:send,
                        s(:int, 1), :<<,
                        s(:const, nil, :BITSPERDIG)))), :|,
                  s(:int, 1))),
              s(:lvasgn, :y,
                s(:send,
                  s(:send,
                    s(:begin,
                      s(:send,
                        s(:int, 1), :<<,
                        s(:send,
                          s(:int, 2), :*,
                          s(:const, nil, :BITSPERDIG)))), :|,
                    s(:begin,
                      s(:send,
                        s(:int, 1), :<<,
                        s(:const, nil, :BITSPERDIG)))), :|,
                  s(:int, 1))),
              s(:send, nil, :assert_equal,
                s(:send,
                  s(:lvar, :x), :big_mul_normal,
                  s(:lvar, :y)),
                s(:send,
                  s(:lvar, :x), :big_mul_gmp,
                  s(:lvar, :y)))),
            s(:resbody,
              s(:array,
                s(:const, nil, :NotImplementedError)), nil, nil), nil))))))
