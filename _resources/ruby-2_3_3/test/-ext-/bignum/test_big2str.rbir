s(:begin,
  s(:send, nil, :require,
    s(:str, "test/unit")),
  s(:send, nil, :require,
    s(:str, "-test-/bignum")),
  s(:class,
    s(:const, nil, :TestBignum),
    s(:const,
      s(:const,
        s(:const, nil, :Test), :Unit), :TestCase),
    s(:class,
      s(:const, nil, :TestBig2str),
      s(:const,
        s(:const,
          s(:const, nil, :Test), :Unit), :TestCase),
      s(:begin,
        s(:casgn, nil, :SIZEOF_BDIGIT,
          s(:const,
            s(:const, nil, :Bignum), :SIZEOF_BDIGIT)),
        s(:casgn, nil, :BITSPERDIG,
          s(:const,
            s(:const, nil, :Bignum), :BITSPERDIG)),
        s(:casgn, nil, :BDIGMAX,
          s(:send,
            s(:begin,
              s(:send,
                s(:int, 1), :<<,
                s(:const, nil, :BITSPERDIG))), :-,
            s(:int, 1))),
        s(:def, :test_big2str_generic,
          s(:args),
          s(:begin,
            s(:lvasgn, :x,
              s(:send,
                s(:int, 10), :**,
                s(:int, 1000))),
            s(:send, nil, :assert_equal,
              s(:send,
                s(:str, "1"), :+,
                s(:send,
                  s(:str, "0"), :*,
                  s(:int, 1000))),
              s(:send,
                s(:lvar, :x), :big2str_generic,
                s(:int, 10))))),
        s(:def, :test_big2str_poweroftwo,
          s(:args),
          s(:begin,
            s(:lvasgn, :e,
              s(:send,
                s(:const, nil, :BITSPERDIG), :*,
                s(:int, 2))),
            s(:lvasgn, :x,
              s(:send,
                s(:int, 2), :**,
                s(:lvar, :e))),
            s(:send, nil, :assert_equal,
              s(:send,
                s(:str, "1"), :+,
                s(:send,
                  s(:str, "0"), :*,
                  s(:lvar, :e))),
              s(:send,
                s(:lvar, :x), :big2str_poweroftwo,
                s(:int, 2))))),
        s(:def, :test_big2str_gmp,
          s(:args),
          s(:rescue,
            s(:begin,
              s(:lvasgn, :x,
                s(:send,
                  s(:int, 10), :**,
                  s(:int, 1000))),
              s(:send, nil, :assert_equal,
                s(:send,
                  s(:str, "1"), :+,
                  s(:send,
                    s(:str, "0"), :*,
                    s(:int, 1000))),
                s(:send,
                  s(:lvar, :x), :big2str_gmp,
                  s(:int, 10)))),
            s(:resbody,
              s(:array,
                s(:const, nil, :NotImplementedError)), nil, nil), nil))))))
