s(:begin,
  s(:send, nil, :require,
    s(:str, "test/unit")),
  s(:if,
    s(:match_with_lvasgn,
      s(:regexp,
        s(:str, "mswin|mingw"),
        s(:regopt)),
      s(:const, nil, :RUBY_PLATFORM)),
    s(:module,
      s(:const, nil, :Bug),
      s(:module,
        s(:const, nil, :Win32),
        s(:class,
          s(:const, nil, :TestFdSetSize),
          s(:const,
            s(:const,
              s(:const, nil, :Test), :Unit), :TestCase),
          s(:begin,
            s(:def, :test_select_with_unmatched_fd_setsize,
              s(:args),
              s(:begin,
                s(:lvasgn, :bug6532,
                  s(:str, "[ruby-core:44588]")),
                s(:send, nil, :assert_in_out_err,
                  s(:array),
                  s(:dstr,
                    s(:str, "          require '-test-/win32/fd_setsize'\n"),
                    s(:str, "          Bug::Win32.test_select\n"),
                    s(:str, "          p :ok\n")),
                  s(:array,
                    s(:str, ":ok")),
                  s(:array),
                  s(:lvar, :bug6532)))),
            s(:def, :test_fdset_with_unmatched_fd_setsize,
              s(:args),
              s(:begin,
                s(:lvasgn, :bug6532,
                  s(:str, "[ruby-core:44588]")),
                s(:send, nil, :assert_in_out_err,
                  s(:array),
                  s(:dstr,
                    s(:str, "          require '-test-/win32/fd_setsize'\n"),
                    s(:str, "          p :ok if Bug::Win32.test_fdset\n")),
                  s(:array,
                    s(:str, ":ok")),
                  s(:array),
                  s(:lvar, :bug6532)))))))), nil))
