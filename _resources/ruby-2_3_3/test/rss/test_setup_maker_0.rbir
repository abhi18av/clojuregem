s(:begin,
  s(:send, nil, :require_relative,
    s(:str, "rss-testcase")),
  s(:send, nil, :require,
    s(:str, "rss/maker")),
  s(:module,
    s(:const, nil, :RSS),
    s(:class,
      s(:const, nil, :TestSetupMaker09),
      s(:const, nil, :TestCase),
      s(:begin,
        s(:def, :test_setup_maker_channel,
          s(:args),
          s(:begin,
            s(:lvasgn, :title,
              s(:str, "fugafuga")),
            s(:lvasgn, :link,
              s(:str, "http://hoge.com")),
            s(:lvasgn, :description,
              s(:str, "fugafugafugafuga")),
            s(:lvasgn, :language,
              s(:str, "ja")),
            s(:lvasgn, :copyright,
              s(:str, "foo")),
            s(:lvasgn, :managingEditor,
              s(:str, "bar")),
            s(:lvasgn, :webMaster,
              s(:str, "web master")),
            s(:lvasgn, :rating,
              s(:str, "(PICS-1.1 \"http://www.rsac.org/ratingsv01.html\" l gen true comment \"RSACi North America Server\" for \"http://www.rsac.org\" on \"1996.04.16T08:15-0500\" r (n 0 s 0 v 0 l 0))")),
            s(:lvasgn, :docs,
              s(:str, "http://foo.com/doc")),
            s(:lvasgn, :skipDays,
              s(:array,
                s(:str, "Sunday"),
                s(:str, "Monday"))),
            s(:lvasgn, :skipHours,
              s(:array,
                s(:str, "0"),
                s(:str, "13"))),
            s(:lvasgn, :pubDate,
              s(:send,
                s(:const, nil, :Time), :now)),
            s(:lvasgn, :lastBuildDate,
              s(:send,
                s(:const, nil, :Time), :now)),
            s(:lvasgn, :rss,
              s(:block,
                s(:send,
                  s(:const,
                    s(:const, nil, :RSS), :Maker), :make,
                  s(:str, "0.91")),
                s(:args,
                  s(:arg, :maker)),
                s(:begin,
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :channel), :title=,
                    s(:lvar, :title)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :channel), :link=,
                    s(:lvar, :link)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :channel), :description=,
                    s(:lvar, :description)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :channel), :language=,
                    s(:lvar, :language)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :channel), :copyright=,
                    s(:lvar, :copyright)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :channel), :managingEditor=,
                    s(:lvar, :managingEditor)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :channel), :webMaster=,
                    s(:lvar, :webMaster)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :channel), :rating=,
                    s(:lvar, :rating)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :channel), :docs=,
                    s(:lvar, :docs)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :channel), :pubDate=,
                    s(:lvar, :pubDate)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :channel), :lastBuildDate=,
                    s(:lvar, :lastBuildDate)),
                  s(:block,
                    s(:send,
                      s(:lvar, :skipDays), :each),
                    s(:args,
                      s(:arg, :day)),
                    s(:block,
                      s(:send,
                        s(:send,
                          s(:send,
                            s(:lvar, :maker), :channel), :skipDays), :new_day),
                      s(:args,
                        s(:arg, :new_day)),
                      s(:send,
                        s(:lvar, :new_day), :content=,
                        s(:lvar, :day)))),
                  s(:block,
                    s(:send,
                      s(:lvar, :skipHours), :each),
                    s(:args,
                      s(:arg, :hour)),
                    s(:block,
                      s(:send,
                        s(:send,
                          s(:send,
                            s(:lvar, :maker), :channel), :skipHours), :new_hour),
                      s(:args,
                        s(:arg, :new_hour)),
                      s(:send,
                        s(:lvar, :new_hour), :content=,
                        s(:lvar, :hour)))),
                  s(:send, nil, :setup_dummy_image,
                    s(:lvar, :maker))))),
            s(:block,
              s(:send, nil, :assert_not_set_error,
                s(:str, "maker.image"),
                s(:array,
                  s(:str, "title"),
                  s(:str, "url"))),
              s(:args),
              s(:block,
                s(:send,
                  s(:const,
                    s(:const, nil, :RSS), :Maker), :make,
                  s(:str, "0.91")),
                s(:args,
                  s(:arg, :maker)),
                s(:send,
                  s(:send,
                    s(:lvar, :rss), :channel), :setup_maker,
                  s(:lvar, :maker)))),
            s(:lvasgn, :new_rss,
              s(:block,
                s(:send,
                  s(:const,
                    s(:const, nil, :RSS), :Maker), :make,
                  s(:str, "0.91")),
                s(:args,
                  s(:arg, :maker)),
                s(:begin,
                  s(:send,
                    s(:send,
                      s(:lvar, :rss), :channel), :setup_maker,
                    s(:lvar, :maker)),
                  s(:send, nil, :setup_dummy_image,
                    s(:lvar, :maker))))),
            s(:lvasgn, :channel,
              s(:send,
                s(:lvar, :new_rss), :channel)),
            s(:send, nil, :assert_equal,
              s(:lvar, :title),
              s(:send,
                s(:lvar, :channel), :title)),
            s(:send, nil, :assert_equal,
              s(:lvar, :link),
              s(:send,
                s(:lvar, :channel), :link)),
            s(:send, nil, :assert_equal,
              s(:lvar, :description),
              s(:send,
                s(:lvar, :channel), :description)),
            s(:send, nil, :assert_equal,
              s(:lvar, :language),
              s(:send,
                s(:lvar, :channel), :language)),
            s(:send, nil, :assert_equal,
              s(:lvar, :copyright),
              s(:send,
                s(:lvar, :channel), :copyright)),
            s(:send, nil, :assert_equal,
              s(:lvar, :managingEditor),
              s(:send,
                s(:lvar, :channel), :managingEditor)),
            s(:send, nil, :assert_equal,
              s(:lvar, :webMaster),
              s(:send,
                s(:lvar, :channel), :webMaster)),
            s(:send, nil, :assert_equal,
              s(:lvar, :rating),
              s(:send,
                s(:lvar, :channel), :rating)),
            s(:send, nil, :assert_equal,
              s(:lvar, :docs),
              s(:send,
                s(:lvar, :channel), :docs)),
            s(:send, nil, :assert_equal,
              s(:lvar, :pubDate),
              s(:send,
                s(:lvar, :channel), :pubDate)),
            s(:send, nil, :assert_equal,
              s(:lvar, :lastBuildDate),
              s(:send,
                s(:lvar, :channel), :lastBuildDate)),
            s(:block,
              s(:send,
                s(:lvar, :skipDays), :each_with_index),
              s(:args,
                s(:arg, :day),
                s(:arg, :i)),
              s(:send, nil, :assert_equal,
                s(:lvar, :day),
                s(:send,
                  s(:send,
                    s(:send,
                      s(:send,
                        s(:lvar, :channel), :skipDays), :days), :[],
                    s(:lvar, :i)), :content))),
            s(:block,
              s(:send,
                s(:lvar, :skipHours), :each_with_index),
              s(:args,
                s(:arg, :hour),
                s(:arg, :i)),
              s(:send, nil, :assert_equal,
                s(:send,
                  s(:lvar, :hour), :to_i),
                s(:send,
                  s(:send,
                    s(:send,
                      s(:send,
                        s(:lvar, :channel), :skipHours), :hours), :[],
                    s(:lvar, :i)), :content))),
            s(:send, nil, :assert,
              s(:send,
                s(:send,
                  s(:lvar, :channel), :items), :empty?)),
            s(:send, nil, :assert_nil,
              s(:send,
                s(:lvar, :channel), :textInput)))),
        s(:def, :test_setup_maker_image,
          s(:args),
          s(:begin,
            s(:lvasgn, :title,
              s(:str, "fugafuga")),
            s(:lvasgn, :link,
              s(:str, "http://hoge.com")),
            s(:lvasgn, :url,
              s(:str, "http://hoge.com/hoge.png")),
            s(:lvasgn, :width,
              s(:str, "144")),
            s(:lvasgn, :height,
              s(:str, "400")),
            s(:lvasgn, :description,
              s(:str, "an image")),
            s(:lvasgn, :rss,
              s(:block,
                s(:send,
                  s(:const,
                    s(:const, nil, :RSS), :Maker), :make,
                  s(:str, "0.91")),
                s(:args,
                  s(:arg, :maker)),
                s(:begin,
                  s(:send, nil, :setup_dummy_channel,
                    s(:lvar, :maker)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :channel), :link=,
                    s(:lvar, :link)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :image), :title=,
                    s(:lvar, :title)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :image), :url=,
                    s(:lvar, :url)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :image), :width=,
                    s(:lvar, :width)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :image), :height=,
                    s(:lvar, :height)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :image), :description=,
                    s(:lvar, :description))))),
            s(:lvasgn, :new_rss,
              s(:block,
                s(:send,
                  s(:const,
                    s(:const, nil, :RSS), :Maker), :make,
                  s(:str, "0.91")),
                s(:args,
                  s(:arg, :maker)),
                s(:begin,
                  s(:send,
                    s(:send,
                      s(:lvar, :rss), :channel), :setup_maker,
                    s(:lvar, :maker)),
                  s(:send,
                    s(:send,
                      s(:lvar, :rss), :image), :setup_maker,
                    s(:lvar, :maker))))),
            s(:lvasgn, :image,
              s(:send,
                s(:lvar, :new_rss), :image)),
            s(:send, nil, :assert_equal,
              s(:lvar, :title),
              s(:send,
                s(:lvar, :image), :title)),
            s(:send, nil, :assert_equal,
              s(:lvar, :link),
              s(:send,
                s(:lvar, :image), :link)),
            s(:send, nil, :assert_equal,
              s(:lvar, :url),
              s(:send,
                s(:lvar, :image), :url)),
            s(:send, nil, :assert_equal,
              s(:send,
                s(:lvar, :width), :to_i),
              s(:send,
                s(:lvar, :image), :width)),
            s(:send, nil, :assert_equal,
              s(:send,
                s(:lvar, :height), :to_i),
              s(:send,
                s(:lvar, :image), :height)),
            s(:send, nil, :assert_equal,
              s(:lvar, :description),
              s(:send,
                s(:lvar, :image), :description)))),
        s(:def, :test_setup_maker_textinput,
          s(:args),
          s(:begin,
            s(:lvasgn, :title,
              s(:str, "fugafuga")),
            s(:lvasgn, :description,
              s(:str, "text hoge fuga")),
            s(:lvasgn, :name,
              s(:str, "hoge")),
            s(:lvasgn, :link,
              s(:str, "http://hoge.com")),
            s(:lvasgn, :rss,
              s(:block,
                s(:send,
                  s(:const,
                    s(:const, nil, :RSS), :Maker), :make,
                  s(:str, "0.91")),
                s(:args,
                  s(:arg, :maker)),
                s(:begin,
                  s(:send, nil, :setup_dummy_channel,
                    s(:lvar, :maker)),
                  s(:send, nil, :setup_dummy_image,
                    s(:lvar, :maker)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :textinput), :title=,
                    s(:lvar, :title)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :textinput), :description=,
                    s(:lvar, :description)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :textinput), :name=,
                    s(:lvar, :name)),
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :textinput), :link=,
                    s(:lvar, :link))))),
            s(:lvasgn, :new_rss,
              s(:block,
                s(:send,
                  s(:const,
                    s(:const, nil, :RSS), :Maker), :make,
                  s(:str, "0.91")),
                s(:args,
                  s(:arg, :maker)),
                s(:begin,
                  s(:send,
                    s(:send,
                      s(:lvar, :rss), :channel), :setup_maker,
                    s(:lvar, :maker)),
                  s(:send,
                    s(:send,
                      s(:lvar, :rss), :image), :setup_maker,
                    s(:lvar, :maker)),
                  s(:send,
                    s(:send,
                      s(:lvar, :rss), :textinput), :setup_maker,
                    s(:lvar, :maker))))),
            s(:lvasgn, :textInput,
              s(:send,
                s(:send,
                  s(:lvar, :new_rss), :channel), :textInput)),
            s(:send, nil, :assert_equal,
              s(:lvar, :title),
              s(:send,
                s(:lvar, :textInput), :title)),
            s(:send, nil, :assert_equal,
              s(:lvar, :description),
              s(:send,
                s(:lvar, :textInput), :description)),
            s(:send, nil, :assert_equal,
              s(:lvar, :name),
              s(:send,
                s(:lvar, :textInput), :name)),
            s(:send, nil, :assert_equal,
              s(:lvar, :link),
              s(:send,
                s(:lvar, :textInput), :link)))),
        s(:def, :test_setup_maker_items,
          s(:args,
            s(:optarg, :for_backward_compatibility,
              s(:false))),
          s(:begin,
            s(:lvasgn, :title,
              s(:str, "TITLE")),
            s(:lvasgn, :link,
              s(:str, "http://hoge.com/")),
            s(:lvasgn, :description,
              s(:str, "text hoge fuga")),
            s(:lvasgn, :item_size,
              s(:int, 5)),
            s(:lvasgn, :rss,
              s(:block,
                s(:send,
                  s(:const,
                    s(:const, nil, :RSS), :Maker), :make,
                  s(:str, "0.91")),
                s(:args,
                  s(:arg, :maker)),
                s(:begin,
                  s(:send, nil, :setup_dummy_channel,
                    s(:lvar, :maker)),
                  s(:block,
                    s(:send,
                      s(:lvar, :item_size), :times),
                    s(:args,
                      s(:arg, :i)),
                    s(:block,
                      s(:send,
                        s(:send,
                          s(:lvar, :maker), :items), :new_item),
                      s(:args,
                        s(:arg, :item)),
                      s(:begin,
                        s(:send,
                          s(:lvar, :item), :title=,
                          s(:dstr,
                            s(:begin,
                              s(:lvar, :title)),
                            s(:begin,
                              s(:lvar, :i)))),
                        s(:send,
                          s(:lvar, :item), :link=,
                          s(:dstr,
                            s(:begin,
                              s(:lvar, :link)),
                            s(:begin,
                              s(:lvar, :i)))),
                        s(:send,
                          s(:lvar, :item), :description=,
                          s(:dstr,
                            s(:begin,
                              s(:lvar, :description)),
                            s(:begin,
                              s(:lvar, :i))))))),
                  s(:send, nil, :setup_dummy_image,
                    s(:lvar, :maker))))),
            s(:lvasgn, :new_rss,
              s(:block,
                s(:send,
                  s(:const,
                    s(:const, nil, :RSS), :Maker), :make,
                  s(:str, "0.91")),
                s(:args,
                  s(:arg, :maker)),
                s(:begin,
                  s(:send,
                    s(:send,
                      s(:lvar, :rss), :channel), :setup_maker,
                    s(:lvar, :maker)),
                  s(:block,
                    s(:send,
                      s(:send,
                        s(:lvar, :rss), :items), :each),
                    s(:args,
                      s(:arg, :item)),
                    s(:if,
                      s(:lvar, :for_backward_compatibility),
                      s(:send,
                        s(:lvar, :item), :setup_maker,
                        s(:lvar, :maker)),
                      s(:send,
                        s(:lvar, :item), :setup_maker,
                        s(:send,
                          s(:lvar, :maker), :items)))),
                  s(:send,
                    s(:send,
                      s(:lvar, :rss), :image), :setup_maker,
                    s(:lvar, :maker))))),
            s(:send, nil, :assert_equal,
              s(:lvar, :item_size),
              s(:send,
                s(:send,
                  s(:lvar, :new_rss), :items), :size)),
            s(:block,
              s(:send,
                s(:send,
                  s(:lvar, :new_rss), :items), :each_with_index),
              s(:args,
                s(:arg, :item),
                s(:arg, :i)),
              s(:begin,
                s(:send, nil, :assert_equal,
                  s(:dstr,
                    s(:begin,
                      s(:lvar, :title)),
                    s(:begin,
                      s(:lvar, :i))),
                  s(:send,
                    s(:lvar, :item), :title)),
                s(:send, nil, :assert_equal,
                  s(:dstr,
                    s(:begin,
                      s(:lvar, :link)),
                    s(:begin,
                      s(:lvar, :i))),
                  s(:send,
                    s(:lvar, :item), :link)),
                s(:send, nil, :assert_equal,
                  s(:dstr,
                    s(:begin,
                      s(:lvar, :description)),
                    s(:begin,
                      s(:lvar, :i))),
                  s(:send,
                    s(:lvar, :item), :description)))))),
        s(:def, :test_setup_maker_items_backward_compatibility,
          s(:args),
          s(:send, nil, :test_setup_maker_items,
            s(:true))),
        s(:def, :test_setup_maker,
          s(:args),
          s(:begin,
            s(:lvasgn, :encoding,
              s(:str, "EUC-JP")),
            s(:lvasgn, :standalone,
              s(:true)),
            s(:lvasgn, :href,
              s(:str, "a.xsl")),
            s(:lvasgn, :type,
              s(:str, "text/xsl")),
            s(:lvasgn, :title,
              s(:str, "sample")),
            s(:lvasgn, :media,
              s(:str, "printer")),
            s(:lvasgn, :charset,
              s(:str, "UTF-8")),
            s(:lvasgn, :alternate,
              s(:str, "yes")),
            s(:lvasgn, :rss,
              s(:block,
                s(:send,
                  s(:const,
                    s(:const, nil, :RSS), :Maker), :make,
                  s(:str, "0.91")),
                s(:args,
                  s(:arg, :maker)),
                s(:begin,
                  s(:send,
                    s(:lvar, :maker), :encoding=,
                    s(:lvar, :encoding)),
                  s(:send,
                    s(:lvar, :maker), :standalone=,
                    s(:lvar, :standalone)),
                  s(:block,
                    s(:send,
                      s(:send,
                        s(:lvar, :maker), :xml_stylesheets), :new_xml_stylesheet),
                    s(:args,
                      s(:arg, :xss)),
                    s(:begin,
                      s(:send,
                        s(:lvar, :xss), :href=,
                        s(:lvar, :href)),
                      s(:send,
                        s(:lvar, :xss), :type=,
                        s(:lvar, :type)),
                      s(:send,
                        s(:lvar, :xss), :title=,
                        s(:lvar, :title)),
                      s(:send,
                        s(:lvar, :xss), :media=,
                        s(:lvar, :media)),
                      s(:send,
                        s(:lvar, :xss), :charset=,
                        s(:lvar, :charset)),
                      s(:send,
                        s(:lvar, :xss), :alternate=,
                        s(:lvar, :alternate)))),
                  s(:send, nil, :setup_dummy_channel,
                    s(:lvar, :maker)),
                  s(:send, nil, :setup_dummy_image,
                    s(:lvar, :maker))))),
            s(:lvasgn, :new_rss,
              s(:block,
                s(:send,
                  s(:const,
                    s(:const, nil, :RSS), :Maker), :make,
                  s(:str, "0.91")),
                s(:args,
                  s(:arg, :maker)),
                s(:send,
                  s(:lvar, :rss), :setup_maker,
                  s(:lvar, :maker)))),
            s(:send, nil, :assert_equal,
              s(:str, "0.91"),
              s(:send,
                s(:lvar, :new_rss), :rss_version)),
            s(:send, nil, :assert_equal,
              s(:lvar, :encoding),
              s(:send,
                s(:lvar, :new_rss), :encoding)),
            s(:send, nil, :assert_equal,
              s(:lvar, :standalone),
              s(:send,
                s(:lvar, :new_rss), :standalone)),
            s(:lvasgn, :xss,
              s(:send,
                s(:send,
                  s(:lvar, :rss), :xml_stylesheets), :first)),
            s(:send, nil, :assert_equal,
              s(:int, 1),
              s(:send,
                s(:send,
                  s(:lvar, :rss), :xml_stylesheets), :size)),
            s(:send, nil, :assert_equal,
              s(:lvar, :href),
              s(:send,
                s(:lvar, :xss), :href)),
            s(:send, nil, :assert_equal,
              s(:lvar, :type),
              s(:send,
                s(:lvar, :xss), :type)),
            s(:send, nil, :assert_equal,
              s(:lvar, :title),
              s(:send,
                s(:lvar, :xss), :title)),
            s(:send, nil, :assert_equal,
              s(:lvar, :media),
              s(:send,
                s(:lvar, :xss), :media)),
            s(:send, nil, :assert_equal,
              s(:lvar, :charset),
              s(:send,
                s(:lvar, :xss), :charset)),
            s(:send, nil, :assert_equal,
              s(:lvar, :alternate),
              s(:send,
                s(:lvar, :xss), :alternate))))))))
