s(:begin,
  s(:send, nil, :require,
    s(:str, "rexml/document")),
  s(:send, nil, :require_relative,
    s(:str, "rss-testcase")),
  s(:send, nil, :require,
    s(:str, "rss/1.0")),
  s(:module,
    s(:const, nil, :RSS),
    s(:class,
      s(:const, nil, :TestRSS10Core),
      s(:const, nil, :TestCase),
      s(:begin,
        s(:def, :setup,
          s(:args),
          s(:begin,
            s(:ivasgn, :@rdf_prefix,
              s(:str, "rdf")),
            s(:ivasgn, :@rdf_uri,
              s(:str, "http://www.w3.org/1999/02/22-rdf-syntax-ns#")),
            s(:ivasgn, :@uri,
              s(:str, "http://purl.org/rss/1.0/")))),
        s(:def, :test_RDF,
          s(:args),
          s(:begin,
            s(:lvasgn, :version,
              s(:str, "1.0")),
            s(:lvasgn, :encoding,
              s(:str, "UTF-8")),
            s(:lvasgn, :standalone,
              s(:false)),
            s(:lvasgn, :rdf,
              s(:send,
                s(:const, nil, :RDF), :new,
                s(:lvar, :version),
                s(:lvar, :encoding),
                s(:lvar, :standalone))),
            s(:send, nil, :setup_rss10,
              s(:lvar, :rdf)),
            s(:lvasgn, :doc,
              s(:send,
                s(:const,
                  s(:const, nil, :REXML), :Document), :new,
                s(:send,
                  s(:lvar, :rdf), :to_s))),
            s(:lvasgn, :xmldecl,
              s(:send,
                s(:lvar, :doc), :xml_decl)),
            s(:send, nil, :assert_equal,
              s(:lvar, :version),
              s(:send,
                s(:lvar, :xmldecl), :version)),
            s(:send, nil, :assert_equal,
              s(:lvar, :encoding),
              s(:send,
                s(:send,
                  s(:lvar, :xmldecl), :encoding), :to_s)),
            s(:send, nil, :assert_equal,
              s(:lvar, :standalone),
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :xmldecl), :standalone), :nil?), :!)),
            s(:send, nil, :assert_equal,
              s(:ivar, :@rdf_uri),
              s(:send,
                s(:send,
                  s(:lvar, :doc), :root), :namespace)))),
        s(:def, :test_not_displayed_xml_stylesheets,
          s(:args),
          s(:begin,
            s(:lvasgn, :rdf,
              s(:send,
                s(:const, nil, :RDF), :new)),
            s(:lvasgn, :plain_rdf,
              s(:send,
                s(:lvar, :rdf), :to_s)),
            s(:block,
              s(:send,
                s(:int, 3), :times),
              s(:args),
              s(:begin,
                s(:send,
                  s(:send,
                    s(:lvar, :rdf), :xml_stylesheets), :push,
                  s(:send,
                    s(:const, nil, :XMLStyleSheet), :new)),
                s(:send, nil, :assert_equal,
                  s(:lvar, :plain_rdf),
                  s(:send,
                    s(:lvar, :rdf), :to_s)))))),
        s(:def, :test_xml_stylesheets,
          s(:args),
          s(:block,
            s(:send,
              s(:array,
                s(:array,
                  s(:hash,
                    s(:pair,
                      s(:sym, :href),
                      s(:str, "a.xsl")),
                    s(:pair,
                      s(:sym, :type),
                      s(:str, "text/xsl")))),
                s(:array,
                  s(:hash,
                    s(:pair,
                      s(:sym, :href),
                      s(:str, "a.xsl")),
                    s(:pair,
                      s(:sym, :type),
                      s(:str, "text/xsl"))),
                  s(:hash,
                    s(:pair,
                      s(:sym, :href),
                      s(:str, "a.css")),
                    s(:pair,
                      s(:sym, :type),
                      s(:str, "text/css"))))), :each),
            s(:args,
              s(:arg, :attrs_ary)),
            s(:send, nil, :assert_xml_stylesheet_pis,
              s(:lvar, :attrs_ary)))),
        s(:def, :test_channel,
          s(:args),
          s(:begin,
            s(:lvasgn, :about,
              s(:str, "http://hoge.com")),
            s(:lvasgn, :resource,
              s(:str, "http://hoge.com/hoge.png")),
            s(:lvasgn, :item_title,
              s(:str, "item title")),
            s(:lvasgn, :item_link,
              s(:str, "http://hoge.com/item")),
            s(:lvasgn, :image,
              s(:send,
                s(:const,
                  s(:const,
                    s(:const, nil, :RDF), :Channel), :Image), :new,
                s(:lvar, :resource))),
            s(:lvasgn, :items,
              s(:send,
                s(:const,
                  s(:const,
                    s(:const, nil, :RDF), :Channel), :Items), :new)),
            s(:send,
              s(:send,
                s(:send,
                  s(:lvar, :items), :Seq), :lis), :<<,
              s(:send,
                s(:const,
                  s(:const,
                    s(:send,
                      s(:lvar, :items), :class), :Seq), :Li), :new,
                s(:lvar, :item_link))),
            s(:lvasgn, :textinput,
              s(:send,
                s(:const,
                  s(:const,
                    s(:const, nil, :RDF), :Channel), :Textinput), :new,
                s(:lvar, :resource))),
            s(:lvasgn, :rss_item,
              s(:send,
                s(:const,
                  s(:const, nil, :RDF), :Item), :new)),
            s(:send,
              s(:lvar, :rss_item), :title=,
              s(:lvar, :item_title)),
            s(:send,
              s(:lvar, :rss_item), :link=,
              s(:lvar, :item_link)),
            s(:send,
              s(:lvar, :rss_item), :about=,
              s(:lvar, :item_link)),
            s(:lvasgn, :h,
              s(:hash,
                s(:pair,
                  s(:str, "title"),
                  s(:str, "fugafuga")),
                s(:pair,
                  s(:str, "link"),
                  s(:str, "http://hoge.com")),
                s(:pair,
                  s(:str, "description"),
                  s(:str, "fugafugafugafuga")),
                s(:pair,
                  s(:str, "image"),
                  s(:lvar, :image)),
                s(:pair,
                  s(:str, "items"),
                  s(:lvar, :items)),
                s(:pair,
                  s(:str, "textinput"),
                  s(:lvar, :textinput)))),
            s(:lvasgn, :channel,
              s(:send,
                s(:const,
                  s(:const, nil, :RDF), :Channel), :new,
                s(:lvar, :about))),
            s(:block,
              s(:send,
                s(:array,
                  s(:str, "title"),
                  s(:str, "link"),
                  s(:str, "description"),
                  s(:str, "image"),
                  s(:str, "items"),
                  s(:str, "textinput")), :each),
              s(:args,
                s(:arg, :x)),
              s(:send,
                s(:lvar, :channel), :__send__,
                s(:dstr,
                  s(:begin,
                    s(:lvar, :x)),
                  s(:str, "=")),
                s(:send,
                  s(:lvar, :h), :[],
                  s(:lvar, :x)))),
            s(:lvasgn, :doc,
              s(:send,
                s(:const,
                  s(:const, nil, :REXML), :Document), :new,
                s(:send, nil, :make_RDF,
                  s(:dstr,
                    s(:begin,
                      s(:lvar, :channel)),
                    s(:str, "\n"),
                    s(:str, "<items>\n"),
                    s(:begin,
                      s(:lvar, :rss_item)),
                    s(:str, "\n"),
                    s(:str, "</items>\n"))))),
            s(:lvasgn, :c,
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :doc), :root), :elements), :[],
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:lvar, :about),
              s(:send,
                s(:send,
                  s(:lvar, :c), :attributes), :[],
                s(:str, "about"))),
            s(:block,
              s(:send,
                s(:array,
                  s(:str, "title"),
                  s(:str, "link"),
                  s(:str, "description"),
                  s(:str, "image"),
                  s(:str, "textinput")), :each),
              s(:args,
                s(:arg, :x)),
              s(:begin,
                s(:lvasgn, :elem,
                  s(:send,
                    s(:send,
                      s(:lvar, :c), :elements), :[],
                    s(:lvar, :x))),
                s(:send, nil, :assert_equal,
                  s(:lvar, :x),
                  s(:send,
                    s(:lvar, :elem), :name)),
                s(:send, nil, :assert_equal,
                  s(:ivar, :@uri),
                  s(:send,
                    s(:lvar, :elem), :namespace)),
                s(:if,
                  s(:or,
                    s(:send,
                      s(:lvar, :x), :==,
                      s(:str, "image")),
                    s(:send,
                      s(:lvar, :x), :==,
                      s(:str, "textinput"))),
                  s(:begin,
                    s(:lvasgn, :excepted,
                      s(:lvar, :resource)),
                    s(:lvasgn, :res,
                      s(:send,
                        s(:send,
                          s(:lvar, :elem), :attributes), :get_attribute,
                        s(:str, "resource"))),
                    s(:send, nil, :assert_equal,
                      s(:ivar, :@rdf_uri),
                      s(:send,
                        s(:lvar, :res), :namespace)),
                    s(:lvasgn, :value,
                      s(:send,
                        s(:lvar, :res), :value))),
                  s(:begin,
                    s(:lvasgn, :excepted,
                      s(:send,
                        s(:lvar, :h), :[],
                        s(:lvar, :x))),
                    s(:lvasgn, :value,
                      s(:send,
                        s(:lvar, :elem), :text)))),
                s(:send, nil, :assert_equal,
                  s(:lvar, :excepted),
                  s(:lvar, :value)))),
            s(:send, nil, :assert_equal,
              s(:ivar, :@uri),
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :c), :elements), :[],
                  s(:str, "items")), :namespace)),
            s(:send, nil, :assert_equal,
              s(:str, "items"),
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :c), :elements), :[],
                  s(:str, "items")), :name)))),
        s(:def, :test_channel_image,
          s(:args),
          s(:begin,
            s(:lvasgn, :resource,
              s(:str, "http://hoge.com/hoge.png")),
            s(:lvasgn, :image,
              s(:send,
                s(:const,
                  s(:const,
                    s(:const, nil, :RDF), :Channel), :Image), :new,
                s(:lvar, :resource))),
            s(:lvasgn, :doc,
              s(:send,
                s(:const,
                  s(:const, nil, :REXML), :Document), :new,
                s(:send, nil, :make_RDF,
                  s(:send,
                    s(:lvar, :image), :to_s)))),
            s(:lvasgn, :i,
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :doc), :root), :elements), :[],
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:str, "image"),
              s(:send,
                s(:lvar, :i), :name)),
            s(:send, nil, :assert_equal,
              s(:ivar, :@uri),
              s(:send,
                s(:lvar, :i), :namespace)),
            s(:lvasgn, :res,
              s(:send,
                s(:send,
                  s(:lvar, :i), :attributes), :get_attribute,
                s(:str, "resource"))),
            s(:send, nil, :assert_equal,
              s(:ivar, :@rdf_uri),
              s(:send,
                s(:lvar, :res), :namespace)),
            s(:send, nil, :assert_equal,
              s(:lvar, :resource),
              s(:send,
                s(:lvar, :res), :value)))),
        s(:def, :test_channel_textinput,
          s(:args),
          s(:begin,
            s(:lvasgn, :resource,
              s(:str, "http://hoge.com/hoge.png")),
            s(:lvasgn, :textinput,
              s(:send,
                s(:const,
                  s(:const,
                    s(:const, nil, :RDF), :Channel), :Textinput), :new,
                s(:lvar, :resource))),
            s(:lvasgn, :doc,
              s(:send,
                s(:const,
                  s(:const, nil, :REXML), :Document), :new,
                s(:send, nil, :make_RDF,
                  s(:send,
                    s(:lvar, :textinput), :to_s)))),
            s(:lvasgn, :t,
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :doc), :root), :elements), :[],
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:str, "textinput"),
              s(:send,
                s(:lvar, :t), :name)),
            s(:send, nil, :assert_equal,
              s(:ivar, :@uri),
              s(:send,
                s(:lvar, :t), :namespace)),
            s(:lvasgn, :res,
              s(:send,
                s(:send,
                  s(:lvar, :t), :attributes), :get_attribute,
                s(:str, "resource"))),
            s(:send, nil, :assert_equal,
              s(:ivar, :@rdf_uri),
              s(:send,
                s(:lvar, :res), :namespace)),
            s(:send, nil, :assert_equal,
              s(:lvar, :resource),
              s(:send,
                s(:lvar, :res), :value)))),
        s(:def, :test_channel_items,
          s(:args),
          s(:begin,
            s(:lvasgn, :item_link,
              s(:str, "http://example.com/item")),
            s(:lvasgn, :items,
              s(:send,
                s(:const,
                  s(:const,
                    s(:const, nil, :RDF), :Channel), :Items), :new)),
            s(:lvasgn, :li,
              s(:send,
                s(:const,
                  s(:send,
                    s(:send,
                      s(:lvar, :items), :Seq), :class), :Li), :new,
                s(:lvar, :item_link))),
            s(:send,
              s(:send,
                s(:send,
                  s(:lvar, :items), :Seq), :lis), :<<,
              s(:lvar, :li)),
            s(:lvasgn, :doc,
              s(:send,
                s(:const,
                  s(:const, nil, :REXML), :Document), :new,
                s(:send, nil, :make_RDF,
                  s(:send,
                    s(:lvar, :items), :to_s)))),
            s(:lvasgn, :i,
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :doc), :root), :elements), :[],
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:str, "items"),
              s(:send,
                s(:lvar, :i), :name)),
            s(:send, nil, :assert_equal,
              s(:ivar, :@uri),
              s(:send,
                s(:lvar, :i), :namespace)),
            s(:send, nil, :assert_equal,
              s(:int, 1),
              s(:send,
                s(:send,
                  s(:lvar, :i), :elements), :size)),
            s(:lvasgn, :seq,
              s(:send,
                s(:send,
                  s(:lvar, :i), :elements), :[],
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:str, "Seq"),
              s(:send,
                s(:lvar, :seq), :name)),
            s(:send, nil, :assert_equal,
              s(:ivar, :@rdf_uri),
              s(:send,
                s(:lvar, :seq), :namespace)),
            s(:send, nil, :assert_equal,
              s(:int, 1),
              s(:send,
                s(:send,
                  s(:lvar, :seq), :elements), :size)),
            s(:lvasgn, :l,
              s(:send,
                s(:send,
                  s(:lvar, :seq), :elements), :[],
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:str, "li"),
              s(:send,
                s(:lvar, :l), :name)),
            s(:send, nil, :assert_equal,
              s(:ivar, :@rdf_uri),
              s(:send,
                s(:lvar, :l), :namespace)),
            s(:send, nil, :assert_equal,
              s(:lvar, :item_link),
              s(:send,
                s(:send,
                  s(:lvar, :l), :attributes), :[],
                s(:str, "resource"))))),
        s(:def, :test_seq,
          s(:args),
          s(:begin,
            s(:lvasgn, :item_link,
              s(:str, "http://example.com/item")),
            s(:lvasgn, :seq,
              s(:send,
                s(:const,
                  s(:const, nil, :RDF), :Seq), :new)),
            s(:lvasgn, :li,
              s(:send,
                s(:const,
                  s(:send,
                    s(:lvar, :seq), :class), :Li), :new,
                s(:lvar, :item_link))),
            s(:send,
              s(:send,
                s(:lvar, :seq), :lis), :<<,
              s(:lvar, :li)),
            s(:lvasgn, :doc,
              s(:send,
                s(:const,
                  s(:const, nil, :REXML), :Document), :new,
                s(:send, nil, :make_RDF,
                  s(:send,
                    s(:lvar, :seq), :to_s)))),
            s(:lvasgn, :s,
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :doc), :root), :elements), :[],
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:str, "Seq"),
              s(:send,
                s(:lvar, :s), :name)),
            s(:send, nil, :assert_equal,
              s(:ivar, :@rdf_uri),
              s(:send,
                s(:lvar, :s), :namespace)),
            s(:send, nil, :assert_equal,
              s(:int, 1),
              s(:send,
                s(:send,
                  s(:lvar, :s), :elements), :size)),
            s(:lvasgn, :l,
              s(:send,
                s(:send,
                  s(:lvar, :s), :elements), :[],
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:str, "li"),
              s(:send,
                s(:lvar, :l), :name)),
            s(:send, nil, :assert_equal,
              s(:ivar, :@rdf_uri),
              s(:send,
                s(:lvar, :l), :namespace)),
            s(:send, nil, :assert_equal,
              s(:lvar, :item_link),
              s(:send,
                s(:send,
                  s(:lvar, :l), :attributes), :[],
                s(:str, "resource"))))),
        s(:def, :test_li,
          s(:args),
          s(:begin,
            s(:lvasgn, :resource,
              s(:str, "http://hoge.com/")),
            s(:lvasgn, :li,
              s(:send,
                s(:const,
                  s(:const, nil, :RDF), :Li), :new,
                s(:lvar, :resource))),
            s(:lvasgn, :doc,
              s(:send,
                s(:const,
                  s(:const, nil, :REXML), :Document), :new,
                s(:send, nil, :make_RDF,
                  s(:send,
                    s(:lvar, :li), :to_s)))),
            s(:lvasgn, :l,
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :doc), :root), :elements), :[],
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:str, "li"),
              s(:send,
                s(:lvar, :l), :name)),
            s(:send, nil, :assert_equal,
              s(:ivar, :@rdf_uri),
              s(:send,
                s(:lvar, :l), :namespace,
                s(:send,
                  s(:lvar, :l), :prefix))),
            s(:lvasgn, :res,
              s(:send,
                s(:send,
                  s(:lvar, :l), :attributes), :get_attribute,
                s(:str, "resource"))),
            s(:send, nil, :assert_equal,
              s(:str, ""),
              s(:send,
                s(:lvar, :res), :instance_eval,
                s(:str, "@prefix"))),
            s(:send, nil, :assert_equal,
              s(:lvar, :resource),
              s(:send,
                s(:lvar, :res), :value)))),
        s(:def, :test_image,
          s(:args),
          s(:begin,
            s(:lvasgn, :about,
              s(:str, "http://hoge.com")),
            s(:lvasgn, :h,
              s(:hash,
                s(:pair,
                  s(:str, "title"),
                  s(:str, "fugafuga")),
                s(:pair,
                  s(:str, "url"),
                  s(:str, "http://hoge.com/hoge")),
                s(:pair,
                  s(:str, "link"),
                  s(:str, "http://hoge.com/fuga")))),
            s(:lvasgn, :image,
              s(:send,
                s(:const,
                  s(:const, nil, :RDF), :Image), :new,
                s(:lvar, :about))),
            s(:block,
              s(:send,
                s(:array,
                  s(:str, "title"),
                  s(:str, "url"),
                  s(:str, "link")), :each),
              s(:args,
                s(:arg, :x)),
              s(:send,
                s(:lvar, :image), :__send__,
                s(:dstr,
                  s(:begin,
                    s(:lvar, :x)),
                  s(:str, "=")),
                s(:send,
                  s(:lvar, :h), :[],
                  s(:lvar, :x)))),
            s(:lvasgn, :doc,
              s(:send,
                s(:const,
                  s(:const, nil, :REXML), :Document), :new,
                s(:send, nil, :make_RDF,
                  s(:send,
                    s(:lvar, :image), :to_s)))),
            s(:lvasgn, :i,
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :doc), :root), :elements), :[],
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:lvar, :about),
              s(:send,
                s(:send,
                  s(:lvar, :i), :attributes), :[],
                s(:str, "about"))),
            s(:block,
              s(:send,
                s(:array,
                  s(:str, "title"),
                  s(:str, "url"),
                  s(:str, "link")), :each),
              s(:args,
                s(:arg, :x)),
              s(:begin,
                s(:lvasgn, :elem,
                  s(:send,
                    s(:send,
                      s(:lvar, :i), :elements), :[],
                    s(:lvar, :x))),
                s(:send, nil, :assert_equal,
                  s(:lvar, :x),
                  s(:send,
                    s(:lvar, :elem), :name)),
                s(:send, nil, :assert_equal,
                  s(:ivar, :@uri),
                  s(:send,
                    s(:lvar, :elem), :namespace)),
                s(:send, nil, :assert_equal,
                  s(:send,
                    s(:lvar, :h), :[],
                    s(:lvar, :x)),
                  s(:send,
                    s(:lvar, :elem), :text)))))),
        s(:def, :test_item,
          s(:args),
          s(:begin,
            s(:lvasgn, :about,
              s(:str, "http://hoge.com")),
            s(:lvasgn, :h,
              s(:hash,
                s(:pair,
                  s(:str, "title"),
                  s(:str, "fugafuga")),
                s(:pair,
                  s(:str, "link"),
                  s(:str, "http://hoge.com/fuga")),
                s(:pair,
                  s(:str, "description"),
                  s(:str, "hogehogehoge")))),
            s(:lvasgn, :item,
              s(:send,
                s(:const,
                  s(:const, nil, :RDF), :Item), :new,
                s(:lvar, :about))),
            s(:block,
              s(:send,
                s(:array,
                  s(:str, "title"),
                  s(:str, "link"),
                  s(:str, "description")), :each),
              s(:args,
                s(:arg, :x)),
              s(:send,
                s(:lvar, :item), :__send__,
                s(:dstr,
                  s(:begin,
                    s(:lvar, :x)),
                  s(:str, "=")),
                s(:send,
                  s(:lvar, :h), :[],
                  s(:lvar, :x)))),
            s(:lvasgn, :doc,
              s(:send,
                s(:const,
                  s(:const, nil, :REXML), :Document), :new,
                s(:send, nil, :make_RDF,
                  s(:send,
                    s(:lvar, :item), :to_s)))),
            s(:lvasgn, :i,
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :doc), :root), :elements), :[],
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:lvar, :about),
              s(:send,
                s(:send,
                  s(:lvar, :i), :attributes), :[],
                s(:str, "about"))),
            s(:block,
              s(:send,
                s(:array,
                  s(:str, "title"),
                  s(:str, "link"),
                  s(:str, "description")), :each),
              s(:args,
                s(:arg, :x)),
              s(:begin,
                s(:lvasgn, :elem,
                  s(:send,
                    s(:send,
                      s(:lvar, :i), :elements), :[],
                    s(:lvar, :x))),
                s(:send, nil, :assert_equal,
                  s(:lvar, :x),
                  s(:send,
                    s(:lvar, :elem), :name)),
                s(:send, nil, :assert_equal,
                  s(:ivar, :@uri),
                  s(:send,
                    s(:lvar, :elem), :namespace)),
                s(:send, nil, :assert_equal,
                  s(:send,
                    s(:lvar, :h), :[],
                    s(:lvar, :x)),
                  s(:send,
                    s(:lvar, :elem), :text)))))),
        s(:def, :test_textinput,
          s(:args),
          s(:begin,
            s(:lvasgn, :about,
              s(:str, "http://hoge.com")),
            s(:lvasgn, :h,
              s(:hash,
                s(:pair,
                  s(:str, "title"),
                  s(:str, "fugafuga")),
                s(:pair,
                  s(:str, "link"),
                  s(:str, "http://hoge.com/fuga")),
                s(:pair,
                  s(:str, "name"),
                  s(:str, "foo")),
                s(:pair,
                  s(:str, "description"),
                  s(:str, "hogehogehoge")))),
            s(:lvasgn, :textinput,
              s(:send,
                s(:const,
                  s(:const, nil, :RDF), :Textinput), :new,
                s(:lvar, :about))),
            s(:block,
              s(:send,
                s(:array,
                  s(:str, "title"),
                  s(:str, "link"),
                  s(:str, "name"),
                  s(:str, "description")), :each),
              s(:args,
                s(:arg, :x)),
              s(:send,
                s(:lvar, :textinput), :__send__,
                s(:dstr,
                  s(:begin,
                    s(:lvar, :x)),
                  s(:str, "=")),
                s(:send,
                  s(:lvar, :h), :[],
                  s(:lvar, :x)))),
            s(:lvasgn, :doc,
              s(:send,
                s(:const,
                  s(:const, nil, :REXML), :Document), :new,
                s(:send, nil, :make_RDF,
                  s(:send,
                    s(:lvar, :textinput), :to_s)))),
            s(:lvasgn, :t,
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :doc), :root), :elements), :[],
                s(:int, 1))),
            s(:send, nil, :assert_equal,
              s(:lvar, :about),
              s(:send,
                s(:send,
                  s(:lvar, :t), :attributes), :[],
                s(:str, "about"))),
            s(:block,
              s(:send,
                s(:array,
                  s(:str, "title"),
                  s(:str, "link"),
                  s(:str, "name"),
                  s(:str, "description")), :each),
              s(:args,
                s(:arg, :x)),
              s(:begin,
                s(:lvasgn, :elem,
                  s(:send,
                    s(:send,
                      s(:lvar, :t), :elements), :[],
                    s(:lvar, :x))),
                s(:send, nil, :assert_equal,
                  s(:lvar, :x),
                  s(:send,
                    s(:lvar, :elem), :name)),
                s(:send, nil, :assert_equal,
                  s(:ivar, :@uri),
                  s(:send,
                    s(:lvar, :elem), :namespace)),
                s(:send, nil, :assert_equal,
                  s(:send,
                    s(:lvar, :h), :[],
                    s(:lvar, :x)),
                  s(:send,
                    s(:lvar, :elem), :text)))))),
        s(:def, :test_to_xml,
          s(:args),
          s(:begin,
            s(:lvasgn, :rss,
              s(:send,
                s(:const,
                  s(:const, nil, :RSS), :Parser), :parse,
                s(:send, nil, :make_sample_RDF))),
            s(:send, nil, :assert_equal,
              s(:send,
                s(:lvar, :rss), :to_s),
              s(:send,
                s(:lvar, :rss), :to_xml)),
            s(:send, nil, :assert_equal,
              s(:send,
                s(:lvar, :rss), :to_s),
              s(:send,
                s(:lvar, :rss), :to_xml,
                s(:str, "1.0"))),
            s(:lvasgn, :rss09,
              s(:block,
                s(:send,
                  s(:lvar, :rss), :to_xml,
                  s(:str, "0.91")),
                s(:args,
                  s(:arg, :maker)),
                s(:send,
                  s(:send,
                    s(:lvar, :maker), :channel), :language=,
                  s(:str, "en-us")))),
            s(:lvasgn, :rss09,
              s(:send,
                s(:const,
                  s(:const, nil, :RSS), :Parser), :parse,
                s(:lvar, :rss09))),
            s(:send, nil, :assert_equal,
              s(:str, "0.91"),
              s(:send,
                s(:lvar, :rss09), :rss_version)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:str, "rss"),
                s(:str, "0.91"),
                s(:nil)),
              s(:send,
                s(:lvar, :rss09), :feed_info)),
            s(:lvasgn, :rss20,
              s(:send,
                s(:const,
                  s(:const, nil, :RSS), :Parser), :parse,
                s(:send,
                  s(:lvar, :rss), :to_xml,
                  s(:str, "2.0")))),
            s(:send, nil, :assert_equal,
              s(:str, "2.0"),
              s(:send,
                s(:lvar, :rss20), :rss_version)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:str, "rss"),
                s(:str, "2.0"),
                s(:nil)),
              s(:send,
                s(:lvar, :rss20), :feed_info)),
            s(:lvasgn, :atom_xml,
              s(:block,
                s(:send,
                  s(:lvar, :rss), :to_xml,
                  s(:str, "atom")),
                s(:args,
                  s(:arg, :maker)),
                s(:begin,
                  s(:send,
                    s(:send,
                      s(:lvar, :maker), :channel), :author=,
                    s(:str, "Alice")),
                  s(:or_asgn,
                    s(:send,
                      s(:send,
                        s(:lvar, :maker), :channel), :updated),
                    s(:send,
                      s(:const, nil, :Time), :now)),
                  s(:block,
                    s(:send,
                      s(:send,
                        s(:lvar, :maker), :items), :each),
                    s(:args,
                      s(:arg, :item)),
                    s(:or_asgn,
                      s(:send,
                        s(:lvar, :item), :updated),
                      s(:send,
                        s(:const, nil, :Time), :now)))))),
            s(:lvasgn, :atom,
              s(:send,
                s(:const,
                  s(:const, nil, :RSS), :Parser), :parse,
                s(:lvar, :atom_xml))),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:str, "atom"),
                s(:str, "1.0"),
                s(:str, "feed")),
              s(:send,
                s(:lvar, :atom), :feed_info))))))))
