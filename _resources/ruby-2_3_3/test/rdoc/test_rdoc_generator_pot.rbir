s(:begin,
  s(:send, nil, :require,
    s(:str, "rdoc/test_case")),
  s(:class,
    s(:const, nil, :TestRDocGeneratorPOT),
    s(:const,
      s(:const, nil, :RDoc), :TestCase),
    s(:begin,
      s(:def, :setup,
        s(:args),
        s(:begin,
          s(:zsuper),
          s(:ivasgn, :@options,
            s(:send,
              s(:const,
                s(:const, nil, :RDoc), :Options), :new)),
          s(:ivasgn, :@tmpdir,
            s(:send,
              s(:const, nil, :File), :join,
              s(:send,
                s(:const, nil, :Dir), :tmpdir),
              s(:dstr,
                s(:str, "test_rdoc_generator_pot_"),
                s(:begin,
                  s(:gvar, :$$))))),
          s(:send,
            s(:const, nil, :FileUtils), :mkdir_p,
            s(:ivar, :@tmpdir)),
          s(:ivasgn, :@generator,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :RDoc), :Generator), :POT), :new,
              s(:ivar, :@store),
              s(:ivar, :@options))),
          s(:ivasgn, :@top_level,
            s(:send,
              s(:ivar, :@store), :add_file,
              s(:str, "file.rb"))),
          s(:ivasgn, :@klass,
            s(:send,
              s(:ivar, :@top_level), :add_class,
              s(:const,
                s(:const, nil, :RDoc), :NormalClass),
              s(:str, "Object"))),
          s(:send,
            s(:ivar, :@klass), :add_comment,
            s(:str, "This is a class"),
            s(:ivar, :@top_level)),
          s(:send,
            s(:ivar, :@klass), :add_section,
            s(:str, "This is a section"),
            s(:send, nil, :comment,
              s(:str, "This is a section comment"))),
          s(:ivasgn, :@const,
            s(:send,
              s(:const,
                s(:const, nil, :RDoc), :Constant), :new,
              s(:str, "CONSTANT"),
              s(:str, "29"),
              s(:str, "This is a constant"))),
          s(:ivasgn, :@meth,
            s(:send,
              s(:const,
                s(:const, nil, :RDoc), :AnyMethod), :new,
              s(:nil),
              s(:str, "method"))),
          s(:send,
            s(:ivar, :@meth), :record_location,
            s(:ivar, :@top_level)),
          s(:send,
            s(:ivar, :@meth), :comment=,
            s(:str, "This is a method")),
          s(:ivasgn, :@attr,
            s(:send,
              s(:const,
                s(:const, nil, :RDoc), :Attr), :new,
              s(:nil),
              s(:str, "attr"),
              s(:str, "RW"),
              s(:str, ""))),
          s(:send,
            s(:ivar, :@attr), :record_location,
            s(:ivar, :@top_level)),
          s(:send,
            s(:ivar, :@attr), :comment=,
            s(:str, "This is an attribute")),
          s(:send,
            s(:ivar, :@klass), :add_constant,
            s(:ivar, :@const)),
          s(:send,
            s(:ivar, :@klass), :add_method,
            s(:ivar, :@meth)),
          s(:send,
            s(:ivar, :@klass), :add_attribute,
            s(:ivar, :@attr)),
          s(:send,
            s(:const, nil, :Dir), :chdir,
            s(:ivar, :@tmpdir)))),
      s(:def, :teardown,
        s(:args),
        s(:begin,
          s(:zsuper),
          s(:send,
            s(:const, nil, :Dir), :chdir,
            s(:ivar, :@pwd)),
          s(:send,
            s(:const, nil, :FileUtils), :rm_rf,
            s(:ivar, :@tmpdir)))),
      s(:def, :test_generate,
        s(:args),
        s(:begin,
          s(:send,
            s(:ivar, :@generator), :generate),
          s(:send, nil, :assert_equal,
            s(:dstr,
              s(:str, "# SOME DESCRIPTIVE TITLE.\n"),
              s(:str, "# Copyright (C) YEAR THE PACKAGE'S COPYRIGHT HOLDER\n"),
              s(:str, "# This file is distributed under the same license as the PACKAGE package.\n"),
              s(:str, "# FIRST AUTHOR <EMAIL@ADDRESS>, YEAR.\n"),
              s(:str, "#, fuzzy\n"),
              s(:str, "msgid \"\"\n"),
              s(:str, "msgstr \"\"\n"),
              s(:str, "\"Project-Id-Version: PACKAGE VERSEION\\n\"\n"),
              s(:str, "\"Report-Msgid-Bugs-To:\\n\"\n"),
              s(:str, "\"PO-Revision-Date: YEAR-MO_DA HO:MI+ZONE\\n\"\n"),
              s(:str, "\"Last-Translator: FULL NAME <EMAIL@ADDRESS>\\n\"\n"),
              s(:str, "\"Language-Team: LANGUAGE <LL@li.org>\\n\"\n"),
              s(:str, "\"Language:\\n\"\n"),
              s(:str, "\"MIME-Version: 1.0\\n\"\n"),
              s(:str, "\"Content-Type: text/plain; charset=CHARSET\\n\"\n"),
              s(:str, "\"Content-Transfer-Encoding: 8bit\\n\"\n"),
              s(:str, "\"Plural-Forms: nplurals=INTEGER; plural=EXPRESSION;\\n\"\n"),
              s(:str, "\n"),
              s(:str, "#. Object\n"),
              s(:str, "msgid \"This is a class\"\n"),
              s(:str, "msgstr \"\"\n"),
              s(:str, "\n"),
              s(:str, "#. Object::CONSTANT\n"),
              s(:str, "msgid \"This is a constant\"\n"),
              s(:str, "msgstr \"\"\n"),
              s(:str, "\n"),
              s(:str, "#. Object#method\n"),
              s(:str, "msgid \"This is a method\"\n"),
              s(:str, "msgstr \"\"\n"),
              s(:str, "\n"),
              s(:str, "#. Object: section title\n"),
              s(:str, "msgid \"This is a section\"\n"),
              s(:str, "msgstr \"\"\n"),
              s(:str, "\n"),
              s(:str, "#. Object: This is a section\n"),
              s(:str, "msgid \"This is a section comment\"\n"),
              s(:str, "msgstr \"\"\n"),
              s(:str, "\n"),
              s(:str, "#. Object#attr\n"),
              s(:str, "msgid \"This is an attribute\"\n"),
              s(:str, "msgstr \"\"\n")),
            s(:send,
              s(:const, nil, :File), :read,
              s(:send,
                s(:const, nil, :File), :join,
                s(:ivar, :@tmpdir),
                s(:str, "rdoc.pot")))))))))
