s(:begin,
  s(:send, nil, :require,
    s(:str, "test/unit")),
  s(:send, nil, :require,
    s(:str, "resolv")),
  s(:class,
    s(:const, nil, :TestResolvResource),
    s(:const,
      s(:const,
        s(:const, nil, :Test), :Unit), :TestCase),
    s(:begin,
      s(:def, :setup,
        s(:args),
        s(:begin,
          s(:lvasgn, :address,
            s(:str, "192.168.0.1")),
          s(:ivasgn, :@name1,
            s(:send,
              s(:const,
                s(:const,
                  s(:const,
                    s(:const,
                      s(:const, nil, :Resolv), :DNS), :Resource), :IN), :A), :new,
              s(:lvar, :address))),
          s(:send,
            s(:ivar, :@name1), :instance_variable_set,
            s(:sym, :@ttl),
            s(:int, 100)),
          s(:ivasgn, :@name2,
            s(:send,
              s(:const,
                s(:const,
                  s(:const,
                    s(:const,
                      s(:const, nil, :Resolv), :DNS), :Resource), :IN), :A), :new,
              s(:lvar, :address))))),
      s(:def, :test_equality,
        s(:args),
        s(:begin,
          s(:lvasgn, :bug10857,
            s(:str, "[ruby-core:68128] [Bug #10857]")),
          s(:send, nil, :assert_equal,
            s(:ivar, :@name1),
            s(:ivar, :@name2),
            s(:lvar, :bug10857)))),
      s(:def, :test_hash,
        s(:args),
        s(:begin,
          s(:lvasgn, :bug10857,
            s(:str, "[ruby-core:68128] [Bug #10857]")),
          s(:send, nil, :assert_equal,
            s(:send,
              s(:ivar, :@name1), :hash),
            s(:send,
              s(:ivar, :@name2), :hash),
            s(:lvar, :bug10857)))))))
