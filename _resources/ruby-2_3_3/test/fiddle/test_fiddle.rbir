s(:begin,
  s(:kwbegin,
    s(:rescue,
      s(:send, nil, :require_relative,
        s(:str, "helper")),
      s(:resbody,
        s(:array,
          s(:const, nil, :LoadError)), nil, nil), nil)),
  s(:if,
    s(:defined?,
      s(:const, nil, :Fiddle)),
    s(:class,
      s(:const, nil, :TestFiddle),
      s(:const,
        s(:const, nil, :Fiddle), :TestCase),
      s(:def, :test_windows_constant,
        s(:args),
        s(:begin,
          s(:send, nil, :require,
            s(:str, "rbconfig")),
          s(:if,
            s(:send,
              s(:send,
                s(:const,
                  s(:const, nil, :RbConfig), :CONFIG), :[],
                s(:str, "host_os")), :=~,
              s(:regexp,
                s(:str, "mswin|mingw"),
                s(:regopt))),
            s(:send, nil, :assert,
              s(:const,
                s(:const, nil, :Fiddle), :WINDOWS),
              s(:str, "Fiddle::WINDOWS should be 'true' on Windows platforms")),
            s(:send, nil, :refute,
              s(:const,
                s(:const, nil, :Fiddle), :WINDOWS),
              s(:str, "Fiddle::WINDOWS should be 'false' on non-Windows platforms")))))), nil))
