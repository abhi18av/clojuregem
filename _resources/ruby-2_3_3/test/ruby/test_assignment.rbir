s(:begin,
  s(:send, nil, :require,
    s(:str, "test/unit")),
  s(:class,
    s(:const, nil, :TestAssignment),
    s(:const,
      s(:const,
        s(:const, nil, :Test), :Unit), :TestCase),
    s(:begin,
      s(:def, :test_assign,
        s(:args),
        s(:begin,
          s(:lvasgn, :a,
            s(:array)),
          s(:or_asgn,
            s(:send,
              s(:lvar, :a), :[],
              s(:int, 0)),
            s(:str, "bar")),
          s(:send, nil, :assert_equal,
            s(:str, "bar"),
            s(:send,
              s(:lvar, :a), :[],
              s(:int, 0))),
          s(:lvasgn, :h,
            s(:hash)),
          s(:or_asgn,
            s(:send,
              s(:lvar, :h), :[],
              s(:str, "foo")),
            s(:str, "bar")),
          s(:send, nil, :assert_equal,
            s(:str, "bar"),
            s(:send,
              s(:lvar, :h), :[],
              s(:str, "foo"))),
          s(:lvasgn, :aa,
            s(:int, 5)),
          s(:or_asgn,
            s(:lvasgn, :aa),
            s(:int, 25)),
          s(:send, nil, :assert_equal,
            s(:int, 5),
            s(:lvar, :aa)),
          s(:or_asgn,
            s(:lvasgn, :bb),
            s(:int, 25)),
          s(:send, nil, :assert_equal,
            s(:int, 25),
            s(:lvar, :bb)),
          s(:and_asgn,
            s(:lvasgn, :cc),
            s(:int, 33)),
          s(:send, nil, :assert_nil,
            s(:lvar, :cc)),
          s(:lvasgn, :cc,
            s(:int, 5)),
          s(:and_asgn,
            s(:lvasgn, :cc),
            s(:int, 44)),
          s(:send, nil, :assert_equal,
            s(:int, 44),
            s(:lvar, :cc)))),
      s(:def, :test_assign_simple,
        s(:args),
        s(:begin,
          s(:lvasgn, :a,
            s(:nil)),
          s(:send, nil, :assert_nil,
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:int, 1)),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:array)),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:array,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:array,
              s(:nil))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:array,
              s(:array))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:array,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:array,
              s(:splat,
                s(:array)))),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:array,
              s(:splat,
                s(:array,
                  s(:int, 1))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:array,
              s(:splat,
                s(:array,
                  s(:int, 1),
                  s(:int, 2))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)))),
      s(:def, :test_assign_splat,
        s(:args),
        s(:begin,
          s(:lvasgn, :a,
            s(:array,
              s(:splat,
                s(:array)))),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:array,
              s(:splat,
                s(:array,
                  s(:int, 1))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:array,
              s(:splat,
                s(:array,
                  s(:nil))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:array,
              s(:splat,
                s(:array,
                  s(:array))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:array,
              s(:splat,
                s(:array,
                  s(:int, 1),
                  s(:int, 2))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:array,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array)))))),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:array,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:array,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1),
                      s(:int, 2))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)))),
      s(:def, :test_assign_ary,
        s(:args),
        s(:begin,
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:nil)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:int, 1)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array)),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:nil))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:array))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:splat,
                s(:array)))),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:splat,
                s(:array,
                  s(:int, 1))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:splat,
                s(:array,
                  s(:int, 1),
                  s(:int, 2))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)))),
      s(:def, :test_assign_ary_splat,
        s(:args),
        s(:begin,
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:splat,
                s(:array)))),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:splat,
                s(:array,
                  s(:int, 1))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:splat,
                s(:array,
                  s(:nil))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:splat,
                s(:array,
                  s(:array))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:splat,
                s(:array,
                  s(:int, 1),
                  s(:int, 2))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array)))))),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1),
                      s(:int, 2))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)))),
      s(:def, :test_massign_simple,
        s(:args),
        s(:begin,
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:nil)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:int, 1)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:array)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:array,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:array,
              s(:nil))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:array,
              s(:array))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:array,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:array,
              s(:splat,
                s(:array)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:array,
              s(:splat,
                s(:array,
                  s(:int, 1))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:array,
              s(:splat,
                s(:array,
                  s(:int, 1),
                  s(:int, 2))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))))),
      s(:def, :test_massign_splat,
        s(:args),
        s(:begin,
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:array,
              s(:splat,
                s(:array)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:array,
              s(:splat,
                s(:array,
                  s(:int, 1))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:array,
              s(:splat,
                s(:array,
                  s(:nil))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:array,
              s(:splat,
                s(:array,
                  s(:array))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:array,
              s(:splat,
                s(:array,
                  s(:int, 1),
                  s(:int, 2))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:array,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:array,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:array,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1),
                      s(:int, 2))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))))),
      s(:def, :test_assign_abbreviated,
        s(:args),
        s(:begin,
          s(:lvasgn, :bug2050,
            s(:str, "[ruby-core:25629]")),
          s(:lvasgn, :a,
            s(:block,
              s(:send,
                s(:const, nil, :Hash), :new),
              s(:args),
              s(:array))),
          s(:lvasgn, :b,
            s(:array,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:op_asgn,
              s(:send,
                s(:lvar, :a), :[],
                s(:sym, :x)), :+,
              s(:array,
                s(:splat,
                  s(:lvar, :b)),
                s(:int, 3))),
            s(:lvar, :bug2050)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :a), :[],
              s(:sym, :x)),
            s(:lvar, :bug2050)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3))),
            s(:op_asgn,
              s(:send,
                s(:lvar, :a), :[],
                s(:sym, :x)), :<<,
              s(:array,
                s(:splat,
                  s(:lvar, :b)),
                s(:int, 3))),
            s(:lvar, :bug2050)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3))),
            s(:send,
              s(:lvar, :a), :[],
              s(:sym, :x)),
            s(:lvar, :bug2050)))),
      s(:def, :test_assign_private_self,
        s(:args),
        s(:begin,
          s(:lvasgn, :bug11096,
            s(:str, "[ruby-core:68984] [Bug #11096]")),
          s(:lvasgn, :o,
            s(:send,
              s(:const, nil, :Object), :new)),
          s(:sclass,
            s(:lvar, :o),
            s(:begin,
              s(:send, nil, :private),
              s(:def, :foo,
                s(:args),
                s(:int, 42)),
              s(:def, :[],
                s(:args,
                  s(:arg, :i)),
                s(:int, 42)),
              s(:def, :foo=,
                s(:args,
                  s(:arg, :a)),
                s(:int, 42)),
              s(:def, :[]=,
                s(:args,
                  s(:arg, :i),
                  s(:arg, :a)),
                s(:int, 42)))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :NoMethodError)),
            s(:args),
            s(:block,
              s(:send,
                s(:lvar, :o), :instance_eval),
              s(:args),
              s(:send,
                s(:lvar, :o), :foo=,
                s(:int, 1)))),
          s(:block,
            s(:send, nil, :assert_nothing_raised,
              s(:const, nil, :NoMethodError)),
            s(:args),
            s(:send, nil, :assert_equal,
              s(:int, 1),
              s(:block,
                s(:send,
                  s(:lvar, :o), :instance_eval),
                s(:args),
                s(:send,
                  s(:self), :foo=,
                  s(:int, 1))))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :NoMethodError)),
            s(:args),
            s(:block,
              s(:send,
                s(:lvar, :o), :instance_eval),
              s(:args),
              s(:send,
                s(:lvar, :o), :[]=,
                s(:int, 0),
                s(:int, 1)))),
          s(:block,
            s(:send, nil, :assert_nothing_raised,
              s(:const, nil, :NoMethodError)),
            s(:args),
            s(:send, nil, :assert_equal,
              s(:int, 1),
              s(:block,
                s(:send,
                  s(:lvar, :o), :instance_eval),
                s(:args),
                s(:send,
                  s(:self), :[]=,
                  s(:int, 0),
                  s(:int, 1))))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :NoMethodError),
              s(:lvar, :bug11096)),
            s(:args),
            s(:send, nil, :assert_equal,
              s(:int, 43),
              s(:block,
                s(:send,
                  s(:lvar, :o), :instance_eval),
                s(:args),
                s(:op_asgn,
                  s(:send,
                    s(:self), :foo), :+,
                  s(:int, 1))))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :NoMethodError),
              s(:lvar, :bug11096)),
            s(:args),
            s(:send, nil, :assert_equal,
              s(:int, 1),
              s(:block,
                s(:send,
                  s(:lvar, :o), :instance_eval),
                s(:args),
                s(:and_asgn,
                  s(:send,
                    s(:self), :foo),
                  s(:int, 1))))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :NoMethodError),
              s(:lvar, :bug11096)),
            s(:args),
            s(:send, nil, :assert_equal,
              s(:int, 43),
              s(:block,
                s(:send,
                  s(:lvar, :o), :instance_eval),
                s(:args),
                s(:op_asgn,
                  s(:send,
                    s(:self), :[],
                    s(:int, 0)), :+,
                  s(:int, 1))))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :NoMethodError),
              s(:lvar, :bug11096)),
            s(:args),
            s(:send, nil, :assert_equal,
              s(:int, 1),
              s(:block,
                s(:send,
                  s(:lvar, :o), :instance_eval),
                s(:args),
                s(:and_asgn,
                  s(:send,
                    s(:self), :[],
                    s(:int, 0)),
                  s(:int, 1))))))),
      s(:def, :test_yield,
        s(:args),
        s(:begin,
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:nil))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a)),
            s(:send, nil, :assert_nil,
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:int, 1))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a)),
            s(:send, nil, :assert_equal,
              s(:int, 1),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a)),
            s(:send, nil, :assert_equal,
              s(:array),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array,
                s(:int, 1)))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:int, 1)),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array,
                s(:nil)))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:nil)),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array,
                s(:array)))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:array)),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array,
                s(:splat,
                  s(:array))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a)),
            s(:send, nil, :assert_equal,
              s(:array),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array,
                s(:splat,
                  s(:array,
                    s(:int, 1)))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:int, 1)),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array,
                s(:splat,
                  s(:array,
                    s(:int, 1),
                    s(:int, 2)))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:splat,
                s(:array,
                  s(:int, 1))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a)),
            s(:send, nil, :assert_equal,
              s(:int, 1),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:splat,
                s(:array,
                  s(:nil))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a)),
            s(:send, nil, :assert_equal,
              s(:nil),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:splat,
                s(:array,
                  s(:array))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a)),
            s(:send, nil, :assert_equal,
              s(:array),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1))))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a)),
            s(:send, nil, :assert_equal,
              s(:int, 1),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield)),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:restarg, :a)),
            s(:send, nil, :assert_equal,
              s(:array),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:nil))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:restarg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:nil)),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:int, 1))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:restarg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:int, 1)),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:restarg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:array)),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array,
                s(:int, 1)))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:restarg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:array,
                  s(:int, 1))),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array,
                s(:nil)))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:restarg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:array,
                  s(:nil))),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array,
                s(:array)))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:restarg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:array,
                  s(:array))),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array,
                s(:int, 1),
                s(:int, 2)))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:restarg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:array,
                  s(:int, 1),
                  s(:int, 2))),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array,
                s(:splat,
                  s(:array))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:restarg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:array)),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array,
                s(:splat,
                  s(:array,
                    s(:int, 1)))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:restarg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:array,
                  s(:int, 1))),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array,
                s(:splat,
                  s(:array,
                    s(:int, 1),
                    s(:int, 2)))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:restarg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:array,
                  s(:int, 1),
                  s(:int, 2))),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:splat,
                s(:array)))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:restarg, :a)),
            s(:send, nil, :assert_equal,
              s(:array),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:splat,
                s(:array,
                  s(:int, 1))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:restarg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:int, 1)),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:splat,
                s(:array,
                  s(:nil))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:restarg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:nil)),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:splat,
                s(:array,
                  s(:array))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:restarg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:array)),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array)))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:restarg, :a)),
            s(:send, nil, :assert_equal,
              s(:array),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1))))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:restarg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:int, 1)),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1),
                      s(:int, 2))))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:restarg, :a)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:lvar, :a))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield)),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a),
              s(:arg, :b),
              s(:restarg, :c)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:nil),
                s(:nil),
                s(:array)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:nil))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a),
              s(:arg, :b),
              s(:restarg, :c)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:nil),
                s(:nil),
                s(:array)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:int, 1))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a),
              s(:arg, :b),
              s(:restarg, :c)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:int, 1),
                s(:nil),
                s(:array)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a),
              s(:arg, :b),
              s(:restarg, :c)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:nil),
                s(:nil),
                s(:array)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array,
                s(:int, 1)))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a),
              s(:arg, :b),
              s(:restarg, :c)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:int, 1),
                s(:nil),
                s(:array)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array,
                s(:nil)))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a),
              s(:arg, :b),
              s(:restarg, :c)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:nil),
                s(:nil),
                s(:array)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array,
                s(:array)))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a),
              s(:arg, :b),
              s(:restarg, :c)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:array),
                s(:nil),
                s(:array)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array,
                s(:splat,
                  s(:array))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a),
              s(:arg, :b),
              s(:restarg, :c)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:nil),
                s(:nil),
                s(:array)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array,
                s(:splat,
                  s(:array,
                    s(:int, 1)))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a),
              s(:arg, :b),
              s(:restarg, :c)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:int, 1),
                s(:nil),
                s(:array)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:array,
                s(:splat,
                  s(:array,
                    s(:int, 1),
                    s(:int, 2)))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a),
              s(:arg, :b),
              s(:restarg, :c)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:array)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:splat,
                s(:array)))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a),
              s(:arg, :b),
              s(:restarg, :c)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:nil),
                s(:nil),
                s(:array)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:splat,
                s(:array,
                  s(:int, 1))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a),
              s(:arg, :b),
              s(:restarg, :c)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:int, 1),
                s(:nil),
                s(:array)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:splat,
                s(:array,
                  s(:nil))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a),
              s(:arg, :b),
              s(:restarg, :c)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:nil),
                s(:nil),
                s(:array)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:splat,
                s(:array,
                  s(:array))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a),
              s(:arg, :b),
              s(:restarg, :c)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:nil),
                s(:nil),
                s(:array)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array)))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a),
              s(:arg, :b),
              s(:restarg, :c)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:nil),
                s(:nil),
                s(:array)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1))))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a),
              s(:arg, :b),
              s(:restarg, :c)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:int, 1),
                s(:nil),
                s(:array)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:undef,
            s(:sym, :f)),
          s(:def, :f,
            s(:args),
            s(:yield,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1),
                      s(:int, 2))))))),
          s(:block,
            s(:send, nil, :f),
            s(:args,
              s(:arg, :a),
              s(:arg, :b),
              s(:restarg, :c)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:array)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:undef,
            s(:sym, :f)))),
      s(:def, :test_return,
        s(:args),
        s(:begin,
          s(:def, :r,
            s(:args),
            s(:return)),
          s(:lvasgn, :a,
            s(:send, nil, :r)),
          s(:send, nil, :assert_nil,
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:nil))),
          s(:lvasgn, :a,
            s(:send, nil, :r)),
          s(:send, nil, :assert_nil,
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:int, 1))),
          s(:lvasgn, :a,
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array))),
          s(:lvasgn, :a,
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:int, 1)))),
          s(:lvasgn, :a,
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:nil)))),
          s(:lvasgn, :a,
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:array)))),
          s(:lvasgn, :a,
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:splat,
                  s(:array))))),
          s(:lvasgn, :a,
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:splat,
                  s(:array,
                    s(:int, 1)))))),
          s(:lvasgn, :a,
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:splat,
                  s(:array,
                    s(:int, 1),
                    s(:int, 2)))))),
          s(:lvasgn, :a,
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array)))),
          s(:lvasgn, :a,
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:int, 1))))),
          s(:lvasgn, :a,
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:nil))))),
          s(:lvasgn, :a,
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:array))))),
          s(:lvasgn, :a,
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array)))))),
          s(:lvasgn, :a,
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1))))))),
          s(:lvasgn, :a,
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1),
                      s(:int, 2))))))),
          s(:lvasgn, :a,
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:array))))),
          s(:lvasgn, :a,
            s(:array,
              s(:splat,
                s(:send, nil, :r)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1),
                      s(:int, 2))))))),
          s(:lvasgn, :a,
            s(:array,
              s(:splat,
                s(:send, nil, :r)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:nil))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:int, 1))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:int, 1)))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:nil)))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:array)))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:int, 1),
                s(:int, 2)))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:splat,
                  s(:array))))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:splat,
                  s(:array,
                    s(:int, 1)))))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:splat,
                  s(:array,
                    s(:int, 1),
                    s(:int, 2)))))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array)))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:int, 1))))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:nil))))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:array))))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:int, 1),
                  s(:int, 2))))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array)))))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1))))))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1),
                      s(:int, 2))))))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:array))))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:splat,
                s(:send, nil, :r)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:int, 1),
                  s(:int, 2))))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:splat,
                s(:send, nil, :r)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1),
                      s(:int, 2))))))),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:splat,
                s(:send, nil, :r)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return)),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:nil))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:int, 1))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:int, 1)))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:nil)))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:array)))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:int, 1),
                s(:int, 2)))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:splat,
                  s(:array))))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:splat,
                  s(:array,
                    s(:int, 1)))))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:array,
                s(:splat,
                  s(:array,
                    s(:int, 1),
                    s(:int, 2)))))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array)))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:int, 1))))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:nil))))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:array))))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:int, 1),
                  s(:int, 2))))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array)))))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1))))))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1),
                      s(:int, 2))))))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:int, 1),
              s(:splat,
                s(:array)))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b)),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:int, 1),
              s(:int, 2),
              s(:splat,
                s(:array,
                  s(:int, 1))))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b)),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args),
            s(:return,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:splat,
                s(:array,
                  s(:int, 1),
                  s(:int, 2))))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b)),
            s(:send, nil, :r)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b))),
          s(:undef,
            s(:sym, :r)))),
      s(:def, :test_lambda,
        s(:args),
        s(:begin,
          s(:lvasgn, :f,
            s(:block,
              s(:send, nil, :lambda),
              s(:args,
                s(:arg, :r)),
              s(:send, nil, :assert_equal,
                s(:array),
                s(:lvar, :r)))),
          s(:send,
            s(:lvar, :f), :call,
            s(:array),
            s(:splat,
              s(:array))),
          s(:lvasgn, :f,
            s(:block,
              s(:send, nil, :lambda),
              s(:args,
                s(:arg, :r),
                s(:restarg, :l)),
              s(:begin,
                s(:send, nil, :assert_equal,
                  s(:array),
                  s(:lvar, :r)),
                s(:send, nil, :assert_equal,
                  s(:array,
                    s(:int, 1)),
                  s(:lvar, :l))))),
          s(:send,
            s(:lvar, :f), :call,
            s(:array),
            s(:splat,
              s(:array,
                s(:int, 1)))),
          s(:lvasgn, :f,
            s(:block,
              s(:send, nil, :lambda),
              s(:args,
                s(:arg, :x)),
              s(:lvar, :x))),
          s(:send, nil, :assert_equal,
            s(:int, 42),
            s(:send,
              s(:lvar, :f), :call,
              s(:int, 42))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 42)),
            s(:send,
              s(:lvar, :f), :call,
              s(:array,
                s(:int, 42)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 42))),
            s(:send,
              s(:lvar, :f), :call,
              s(:array,
                s(:array,
                  s(:int, 42))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 42),
              s(:int, 55)),
            s(:send,
              s(:lvar, :f), :call,
              s(:array,
                s(:int, 42),
                s(:int, 55)))),
          s(:lvasgn, :f,
            s(:block,
              s(:send, nil, :lambda),
              s(:args,
                s(:arg, :x)),
              s(:lvar, :x))),
          s(:send, nil, :assert_equal,
            s(:int, 42),
            s(:send,
              s(:lvar, :f), :call,
              s(:int, 42))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 42)),
            s(:send,
              s(:lvar, :f), :call,
              s(:array,
                s(:int, 42)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 42))),
            s(:send,
              s(:lvar, :f), :call,
              s(:array,
                s(:array,
                  s(:int, 42))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 42),
              s(:int, 55)),
            s(:send,
              s(:lvar, :f), :call,
              s(:array,
                s(:int, 42),
                s(:int, 55)))),
          s(:lvasgn, :f,
            s(:block,
              s(:send, nil, :lambda),
              s(:args,
                s(:restarg, :x)),
              s(:lvar, :x))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 42)),
            s(:send,
              s(:lvar, :f), :call,
              s(:int, 42))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 42))),
            s(:send,
              s(:lvar, :f), :call,
              s(:array,
                s(:int, 42)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:array,
                  s(:int, 42)))),
            s(:send,
              s(:lvar, :f), :call,
              s(:array,
                s(:array,
                  s(:int, 42))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 42),
                s(:int, 55))),
            s(:send,
              s(:lvar, :f), :call,
              s(:array,
                s(:int, 42),
                s(:int, 55)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 42),
              s(:int, 55)),
            s(:send,
              s(:lvar, :f), :call,
              s(:int, 42),
              s(:int, 55))))),
      s(:def, :test_multi,
        s(:args),
        s(:begin,
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a)),
            s(:array,
              s(:splat,
                s(:array,
                  s(:int, 1))))),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a)),
            s(:array,
              s(:splat,
                s(:array,
                  s(:array,
                    s(:int, 1)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a)),
            s(:array,
              s(:splat,
                s(:array,
                  s(:array,
                    s(:array,
                      s(:int, 1))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1))),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :x),
              s(:mlhs,
                s(:lvasgn, :y),
                s(:lvasgn, :z))),
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:nil)),
            s(:array,
              s(:lvar, :x),
              s(:lvar, :y),
              s(:lvar, :z))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :x),
              s(:mlhs,
                s(:lvasgn, :y),
                s(:lvasgn, :z))),
            s(:array,
              s(:int, 1),
              s(:array,
                s(:int, 2),
                s(:int, 3)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:array,
              s(:lvar, :x),
              s(:lvar, :y),
              s(:lvar, :z))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :x),
              s(:mlhs,
                s(:lvasgn, :y),
                s(:lvasgn, :z))),
            s(:array,
              s(:int, 1),
              s(:array,
                s(:int, 2)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:nil)),
            s(:array,
              s(:lvar, :x),
              s(:lvar, :y),
              s(:lvar, :z))))),
      s(:def, :test_break,
        s(:args),
        s(:begin,
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break))),
          s(:send, nil, :assert_nil,
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:nil)))),
          s(:send, nil, :assert_nil,
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:int, 1)))),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array)))),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:int, 1))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:nil))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:array))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:splat,
                    s(:array)))))),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1),
                      s(:int, 2))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array))))),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:int, 1)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:nil)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:array)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:splat,
                      s(:array))))))),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:splat,
                      s(:array,
                        s(:int, 1)))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:splat,
                      s(:array,
                        s(:int, 1),
                        s(:int, 2)))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:nil)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:int, 1)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array)))),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:int, 1))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:nil))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:array))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:int, 1),
                  s(:int, 2))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:splat,
                    s(:array)))))),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1),
                      s(:int, 2))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array))))),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:int, 1)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:nil)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:array)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:int, 1),
                    s(:int, 2)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:splat,
                      s(:array))))))),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:splat,
                      s(:array,
                        s(:int, 1)))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:splat,
                      s(:array,
                        s(:int, 1),
                        s(:int, 2)))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:splat,
                s(:block,
                  s(:send, nil, :loop),
                  s(:args),
                  s(:break,
                    s(:splat,
                      s(:array,
                        s(:array)))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:splat,
                s(:block,
                  s(:send, nil, :loop),
                  s(:args),
                  s(:break,
                    s(:splat,
                      s(:array,
                        s(:int, 1),
                        s(:int, 2)))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:splat,
                s(:block,
                  s(:send, nil, :loop),
                  s(:args),
                  s(:break,
                    s(:splat,
                      s(:array,
                        s(:splat,
                          s(:array,
                            s(:int, 1),
                            s(:int, 2)))))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:nil)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:int, 1)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:int, 1))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:nil))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:array))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:int, 1),
                  s(:int, 2))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:splat,
                    s(:array)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1),
                      s(:int, 2))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:int, 1)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:nil)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:array)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:int, 1),
                    s(:int, 2)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:splat,
                      s(:array))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:splat,
                      s(:array,
                        s(:int, 1)))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:splat,
                s(:lvasgn, :c))),
            s(:block,
              s(:send, nil, :loop),
              s(:args),
              s(:break,
                s(:splat,
                  s(:array,
                    s(:splat,
                      s(:array,
                        s(:int, 1),
                        s(:int, 2)))))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))))),
      s(:def, :test_next,
        s(:args),
        s(:begin,
          s(:def, :r,
            s(:args,
              s(:arg, :val)),
            s(:begin,
              s(:lvasgn, :a,
                s(:yield)),
              s(:send, nil, :assert_equal,
                s(:lvar, :val),
                s(:lvar, :a)))),
          s(:block,
            s(:send, nil, :r,
              s(:nil)),
            s(:args),
            s(:next)),
          s(:block,
            s(:send, nil, :r,
              s(:nil)),
            s(:args),
            s(:next,
              s(:nil))),
          s(:block,
            s(:send, nil, :r,
              s(:int, 1)),
            s(:args),
            s(:next,
              s(:int, 1))),
          s(:block,
            s(:send, nil, :r,
              s(:array)),
            s(:args),
            s(:next,
              s(:array))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1))),
            s(:args),
            s(:next,
              s(:array,
                s(:int, 1)))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:nil))),
            s(:args),
            s(:next,
              s(:array,
                s(:nil)))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:array))),
            s(:args),
            s(:next,
              s(:array,
                s(:array)))),
          s(:block,
            s(:send, nil, :r,
              s(:array)),
            s(:args),
            s(:next,
              s(:array,
                s(:splat,
                  s(:array))))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1))),
            s(:args),
            s(:next,
              s(:array,
                s(:splat,
                  s(:array,
                    s(:int, 1)))))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1),
                s(:int, 2))),
            s(:args),
            s(:next,
              s(:array,
                s(:splat,
                  s(:array,
                    s(:int, 1),
                    s(:int, 2)))))),
          s(:block,
            s(:send, nil, :r,
              s(:array)),
            s(:args),
            s(:next,
              s(:splat,
                s(:array)))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1))),
            s(:args),
            s(:next,
              s(:splat,
                s(:array,
                  s(:int, 1))))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:nil))),
            s(:args),
            s(:next,
              s(:splat,
                s(:array,
                  s(:nil))))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:array))),
            s(:args),
            s(:next,
              s(:splat,
                s(:array,
                  s(:array))))),
          s(:block,
            s(:send, nil, :r,
              s(:array)),
            s(:args),
            s(:next,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array)))))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1))),
            s(:args),
            s(:next,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1))))))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1),
                s(:int, 2))),
            s(:args),
            s(:next,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1),
                      s(:int, 2))))))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args,
              s(:arg, :val)),
            s(:begin,
              s(:masgn,
                s(:mlhs,
                  s(:splat,
                    s(:lvasgn, :a))),
                s(:yield)),
              s(:send, nil, :assert_equal,
                s(:lvar, :val),
                s(:lvar, :a)))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:nil))),
            s(:args),
            s(:next)),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:nil))),
            s(:args),
            s(:next,
              s(:nil))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1))),
            s(:args),
            s(:next,
              s(:int, 1))),
          s(:block,
            s(:send, nil, :r,
              s(:array)),
            s(:args),
            s(:next,
              s(:array))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1))),
            s(:args),
            s(:next,
              s(:array,
                s(:int, 1)))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:nil))),
            s(:args),
            s(:next,
              s(:array,
                s(:nil)))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:array))),
            s(:args),
            s(:next,
              s(:array,
                s(:array)))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1),
                s(:int, 2))),
            s(:args),
            s(:next,
              s(:array,
                s(:int, 1),
                s(:int, 2)))),
          s(:block,
            s(:send, nil, :r,
              s(:array)),
            s(:args),
            s(:next,
              s(:array,
                s(:splat,
                  s(:array))))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1))),
            s(:args),
            s(:next,
              s(:array,
                s(:splat,
                  s(:array,
                    s(:int, 1)))))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1),
                s(:int, 2))),
            s(:args),
            s(:next,
              s(:array,
                s(:splat,
                  s(:array,
                    s(:int, 1),
                    s(:int, 2)))))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args,
              s(:arg, :val)),
            s(:begin,
              s(:masgn,
                s(:mlhs,
                  s(:splat,
                    s(:lvasgn, :a))),
                s(:array,
                  s(:splat,
                    s(:yield)))),
              s(:send, nil, :assert_equal,
                s(:lvar, :val),
                s(:lvar, :a)))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:array))),
            s(:args),
            s(:next,
              s(:splat,
                s(:array,
                  s(:array))))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1),
                s(:int, 2))),
            s(:args),
            s(:next,
              s(:splat,
                s(:array,
                  s(:int, 1),
                  s(:int, 2))))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1),
                s(:int, 2))),
            s(:args),
            s(:next,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1),
                      s(:int, 2))))))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args,
              s(:arg, :val)),
            s(:begin,
              s(:masgn,
                s(:mlhs,
                  s(:lvasgn, :a),
                  s(:lvasgn, :b),
                  s(:splat,
                    s(:lvasgn, :c))),
                s(:yield)),
              s(:send, nil, :assert_equal,
                s(:lvar, :val),
                s(:array,
                  s(:lvar, :a),
                  s(:lvar, :b),
                  s(:lvar, :c))))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:nil),
                s(:nil),
                s(:array))),
            s(:args),
            s(:next)),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:nil),
                s(:nil),
                s(:array))),
            s(:args),
            s(:next,
              s(:nil))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1),
                s(:nil),
                s(:array))),
            s(:args),
            s(:next,
              s(:int, 1))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:nil),
                s(:nil),
                s(:array))),
            s(:args),
            s(:next,
              s(:array))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1),
                s(:nil),
                s(:array))),
            s(:args),
            s(:next,
              s(:array,
                s(:int, 1)))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:nil),
                s(:nil),
                s(:array))),
            s(:args),
            s(:next,
              s(:array,
                s(:nil)))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:array),
                s(:nil),
                s(:array))),
            s(:args),
            s(:next,
              s(:array,
                s(:array)))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:array))),
            s(:args),
            s(:next,
              s(:array,
                s(:int, 1),
                s(:int, 2)))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:nil),
                s(:nil),
                s(:array))),
            s(:args),
            s(:next,
              s(:array,
                s(:splat,
                  s(:array))))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1),
                s(:nil),
                s(:array))),
            s(:args),
            s(:next,
              s(:array,
                s(:splat,
                  s(:array,
                    s(:int, 1)))))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:array))),
            s(:args),
            s(:next,
              s(:array,
                s(:splat,
                  s(:array,
                    s(:int, 1),
                    s(:int, 2)))))),
          s(:undef,
            s(:sym, :r)),
          s(:def, :r,
            s(:args,
              s(:arg, :val)),
            s(:begin,
              s(:masgn,
                s(:mlhs,
                  s(:lvasgn, :a),
                  s(:lvasgn, :b),
                  s(:splat,
                    s(:lvasgn, :c))),
                s(:array,
                  s(:splat,
                    s(:yield)))),
              s(:send, nil, :assert_equal,
                s(:lvar, :val),
                s(:array,
                  s(:lvar, :a),
                  s(:lvar, :b),
                  s(:lvar, :c))))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:array),
                s(:nil),
                s(:array))),
            s(:args),
            s(:next,
              s(:splat,
                s(:array,
                  s(:array))))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:array))),
            s(:args),
            s(:next,
              s(:splat,
                s(:array,
                  s(:int, 1),
                  s(:int, 2))))),
          s(:block,
            s(:send, nil, :r,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:array))),
            s(:args),
            s(:next,
              s(:splat,
                s(:array,
                  s(:splat,
                    s(:array,
                      s(:int, 1),
                      s(:int, 2))))))),
          s(:undef,
            s(:sym, :r)))),
      s(:def, :test_massign,
        s(:args),
        s(:begin,
          s(:lvasgn, :a,
            s(:nil)),
          s(:send, nil, :assert,
            s(:defined?,
              s(:lvar, :a))),
          s(:send, nil, :assert_nil,
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b)),
            s(:array,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:lvar, :a)),
          s(:send, nil, :assert_equal,
            s(:int, 2),
            s(:lvar, :b)),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b),
              s(:lvasgn, :c)),
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:lvar, :a)),
          s(:send, nil, :assert_equal,
            s(:int, 2),
            s(:lvar, :b)),
          s(:send, nil, :assert_equal,
            s(:int, 3),
            s(:lvar, :c)),
          s(:lvasgn, :a,
            s(:int, 1)),
          s(:lvasgn, :b,
            s(:int, 2)),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b)),
            s(:array,
              s(:lvar, :b),
              s(:lvar, :a))),
          s(:send, nil, :assert_equal,
            s(:int, 2),
            s(:lvar, :a)),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:lvar, :b)),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a)),
            s(:array,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a)),
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:splat)),
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:splat,
                s(:lvasgn, :b))),
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:lvar, :a)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 2),
              s(:int, 3)),
            s(:lvar, :b)),
          s(:lvasgn, :a,
            s(:array,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:lvar, :a)),
          s(:lvasgn, :a,
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:array,
                s(:int, 3),
                s(:int, 4)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:array,
                s(:int, 3),
                s(:int, 4))),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:mlhs,
                s(:lvasgn, :b),
                s(:lvasgn, :c)),
              s(:lvasgn, :d)),
            s(:array,
              s(:int, 1),
              s(:array,
                s(:int, 2),
                s(:int, 3)),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:lvar, :a)),
          s(:send, nil, :assert_equal,
            s(:int, 2),
            s(:lvar, :b)),
          s(:send, nil, :assert_equal,
            s(:int, 3),
            s(:lvar, :c)),
          s(:send, nil, :assert_equal,
            s(:int, 4),
            s(:lvar, :d)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:int, 4)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 4)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:splat,
                s(:lvasgn, :a))),
            s(:nil)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil)),
            s(:lvar, :a)),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b)),
            s(:int, 1)),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:lvar, :a)),
          s(:send, nil, :assert_nil,
            s(:lvar, :b)),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b)),
            s(:array,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:lvar, :a)),
          s(:send, nil, :assert_equal,
            s(:int, 2),
            s(:lvar, :b)))),
      s(:def, :test_nested_massign,
        s(:args),
        s(:begin,
          s(:masgn,
            s(:mlhs,
              s(:mlhs,
                s(:lvasgn, :a),
                s(:lvasgn, :b)),
              s(:lvasgn, :c)),
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:mlhs,
                s(:lvasgn, :b),
                s(:lvasgn, :c))),
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:int, 3),
              s(:nil)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:mlhs,
                s(:lvasgn, :b),
                s(:lvasgn, :c))),
            s(:array,
              s(:int, 1),
              s(:array,
                s(:int, 2),
                s(:int, 3)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:mlhs,
                s(:lvasgn, :a),
                s(:lvasgn, :b)),
              s(:splat,
                s(:lvasgn, :c))),
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3))),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c))),
          s(:masgn,
            s(:mlhs,
              s(:mlhs,
                s(:lvasgn, :a),
                s(:lvasgn, :b)),
              s(:lvasgn, :c),
              s(:mlhs,
                s(:lvasgn, :d),
                s(:lvasgn, :e))),
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:int, 3),
              s(:array,
                s(:int, 4),
                s(:int, 5)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c),
              s(:lvar, :d),
              s(:lvar, :e))),
          s(:masgn,
            s(:mlhs,
              s(:mlhs,
                s(:lvasgn, :a),
                s(:splat,
                  s(:lvasgn, :b))),
              s(:lvasgn, :c),
              s(:mlhs,
                s(:lvasgn, :d),
                s(:lvasgn, :e),
                s(:splat))),
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:int, 3),
              s(:array,
                s(:int, 4),
                s(:int, 5)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:array,
                s(:int, 2)),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c),
              s(:lvar, :d),
              s(:lvar, :e))),
          s(:masgn,
            s(:mlhs,
              s(:mlhs,
                s(:lvasgn, :a),
                s(:lvasgn, :b)),
              s(:lvasgn, :c),
              s(:mlhs,
                s(:lvasgn, :d),
                s(:splat,
                  s(:lvasgn, :e)))),
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)),
              s(:int, 4),
              s(:array,
                s(:int, 5),
                s(:int, 6),
                s(:int, 7),
                s(:int, 8)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 4),
              s(:int, 5),
              s(:array,
                s(:int, 6),
                s(:int, 7),
                s(:int, 8))),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b),
              s(:lvar, :c),
              s(:lvar, :d),
              s(:lvar, :e))),
          s(:masgn,
            s(:mlhs,
              s(:mlhs,
                s(:lvasgn, :a),
                s(:mlhs,
                  s(:lvasgn, :b1),
                  s(:lvasgn, :b2))),
              s(:lvasgn, :c),
              s(:mlhs,
                s(:lvasgn, :d),
                s(:lvasgn, :e))),
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:int, 3),
              s(:array,
                s(:int, 4),
                s(:int, 5)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:nil),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b1),
              s(:lvar, :b2),
              s(:lvar, :c),
              s(:lvar, :d),
              s(:lvar, :e))),
          s(:masgn,
            s(:mlhs,
              s(:mlhs,
                s(:lvasgn, :a),
                s(:mlhs,
                  s(:lvasgn, :b1),
                  s(:lvasgn, :b2))),
              s(:lvasgn, :c),
              s(:mlhs,
                s(:lvasgn, :d),
                s(:lvasgn, :e))),
            s(:array,
              s(:array,
                s(:int, 1),
                s(:array,
                  s(:int, 21),
                  s(:int, 22))),
              s(:int, 3),
              s(:array,
                s(:int, 4),
                s(:int, 5)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 21),
              s(:int, 22),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b1),
              s(:lvar, :b2),
              s(:lvar, :c),
              s(:lvar, :d),
              s(:lvar, :e))))),
      s(:class,
        s(:const, nil, :MyObj), nil,
        s(:def, :to_ary,
          s(:args),
          s(:array,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:array,
              s(:int, 3),
              s(:int, 4))))),
      s(:def, :test_to_ary_splat,
        s(:args),
        s(:begin,
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b)),
            s(:send,
              s(:const, nil, :MyObj), :new)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:array,
                s(:int, 3),
                s(:int, 4))),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b))))),
      s(:casgn, nil, :A,
        s(:int, 1)),
      s(:casgn, nil, :B,
        s(:int, 2)),
      s(:masgn,
        s(:mlhs,
          s(:casgn, nil, :X),
          s(:casgn, nil, :Y)),
        s(:array,
          s(:const, nil, :A),
          s(:const, nil, :B))),
      s(:class,
        s(:const, nil, :Base), nil,
        s(:begin,
          s(:casgn, nil, :A,
            s(:int, 3)),
          s(:casgn, nil, :B,
            s(:int, 4)))),
      s(:def, :test_const_massign,
        s(:args),
        s(:begin,
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:array,
              s(:const, nil, :X),
              s(:const, nil, :Y))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :a),
              s(:lvasgn, :b)),
            s(:array,
              s(:const,
                s(:const, nil, :Base), :A),
              s(:const,
                s(:const, nil, :Base), :B))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 3),
              s(:int, 4)),
            s(:array,
              s(:lvar, :a),
              s(:lvar, :b))))))),
  s(:send, nil, :require_relative,
    s(:str, "sentence")),
  s(:class,
    s(:const, nil, :TestAssignmentGen),
    s(:const,
      s(:const,
        s(:const, nil, :Test), :Unit), :TestCase),
    s(:begin,
      s(:casgn, nil, :Syntax,
        s(:hash,
          s(:pair,
            s(:sym, :exp),
            s(:array,
              s(:array,
                s(:str, "0")),
              s(:array,
                s(:str, "nil")),
              s(:array,
                s(:str, "false")),
              s(:array,
                s(:str, "[]")),
              s(:array,
                s(:str, "["),
                s(:sym, :exps),
                s(:str, "]")))),
          s(:pair,
            s(:sym, :exps),
            s(:array,
              s(:array,
                s(:sym, :exp)),
              s(:array,
                s(:sym, :exp),
                s(:str, ","),
                s(:sym, :exps)))),
          s(:pair,
            s(:sym, :arg),
            s(:array,
              s(:array,
                s(:sym, :exp)))),
          s(:pair,
            s(:sym, :mrhs),
            s(:array,
              s(:array,
                s(:sym, :args),
                s(:str, ","),
                s(:sym, :arg)),
              s(:array,
                s(:sym, :args),
                s(:str, ","),
                s(:str, "*"),
                s(:sym, :arg)),
              s(:array,
                s(:str, "*"),
                s(:sym, :arg)))),
          s(:pair,
            s(:sym, :args),
            s(:array,
              s(:array,
                s(:sym, :arg)),
              s(:array,
                s(:str, "*"),
                s(:sym, :arg)),
              s(:array,
                s(:sym, :args),
                s(:str, ","),
                s(:sym, :arg)),
              s(:array,
                s(:sym, :args),
                s(:str, ","),
                s(:str, "*"),
                s(:sym, :arg)))),
          s(:pair,
            s(:sym, :mlhs),
            s(:array,
              s(:array,
                s(:sym, :mlhs_basic)),
              s(:array,
                s(:str, "("),
                s(:sym, :mlhs_inner),
                s(:str, ")")))),
          s(:pair,
            s(:sym, :mlhs_inner),
            s(:array,
              s(:array,
                s(:sym, :mlhs_basic)),
              s(:array,
                s(:str, "("),
                s(:sym, :mlhs_inner),
                s(:str, ")")))),
          s(:pair,
            s(:sym, :mlhs_basic),
            s(:array,
              s(:array,
                s(:sym, :mlhs_head)),
              s(:array,
                s(:sym, :mlhs_head),
                s(:sym, :mlhs_item)),
              s(:array,
                s(:sym, :mlhs_head),
                s(:str, "*"),
                s(:sym, :mlhs_node)),
              s(:array,
                s(:sym, :mlhs_head),
                s(:str, "*"),
                s(:sym, :mlhs_node),
                s(:str, ","),
                s(:sym, :mlhs_post)),
              s(:array,
                s(:sym, :mlhs_head),
                s(:str, "*")),
              s(:array,
                s(:sym, :mlhs_head),
                s(:str, "*"),
                s(:str, ","),
                s(:sym, :mlhs_post)),
              s(:array,
                s(:str, "*"),
                s(:sym, :mlhs_node)),
              s(:array,
                s(:str, "*"),
                s(:sym, :mlhs_node),
                s(:str, ","),
                s(:sym, :mlhs_post)),
              s(:array,
                s(:str, "*")),
              s(:array,
                s(:str, "*"),
                s(:str, ","),
                s(:sym, :mlhs_post)))),
          s(:pair,
            s(:sym, :mlhs_head),
            s(:array,
              s(:array,
                s(:sym, :mlhs_item),
                s(:str, ",")),
              s(:array,
                s(:sym, :mlhs_head),
                s(:sym, :mlhs_item),
                s(:str, ",")))),
          s(:pair,
            s(:sym, :mlhs_post),
            s(:array,
              s(:array,
                s(:sym, :mlhs_item)),
              s(:array,
                s(:sym, :mlhs_post),
                s(:str, ","),
                s(:sym, :mlhs_item)))),
          s(:pair,
            s(:sym, :mlhs_item),
            s(:array,
              s(:array,
                s(:sym, :mlhs_node)),
              s(:array,
                s(:str, "("),
                s(:sym, :mlhs_inner),
                s(:str, ")")))),
          s(:pair,
            s(:sym, :mlhs_node),
            s(:array,
              s(:array,
                s(:str, "var")))),
          s(:pair,
            s(:sym, :xassign),
            s(:array,
              s(:array,
                s(:str, "var"),
                s(:str, " = "),
                s(:sym, :exp)),
              s(:array,
                s(:str, "var"),
                s(:str, " = "),
                s(:sym, :mrhs)),
              s(:array,
                s(:sym, :mlhs),
                s(:str, " = "),
                s(:sym, :exp)),
              s(:array,
                s(:sym, :mlhs),
                s(:str, " = "),
                s(:sym, :mrhs)))))),
      s(:def, :rename_var,
        s(:args,
          s(:arg, :obj)),
        s(:begin,
          s(:lvasgn, :vars,
            s(:array)),
          s(:lvasgn, :r,
            s(:block,
              s(:send,
                s(:lvar, :obj), :subst,
                s(:str, "var")),
              s(:args),
              s(:begin,
                s(:lvasgn, :var,
                  s(:dstr,
                    s(:str, "v"),
                    s(:begin,
                      s(:send,
                        s(:lvar, :vars), :length)))),
                s(:send,
                  s(:lvar, :vars), :<<,
                  s(:lvar, :var)),
                s(:lvar, :var)))),
          s(:return,
            s(:lvar, :r),
            s(:lvar, :vars)))),
      s(:def, :expand_except_paren,
        s(:args,
          s(:arg, :obj)),
        s(:begin,
          s(:if,
            s(:send,
              s(:lvar, :obj), :respond_to?,
              s(:sym, :to_str)),
            s(:return,
              s(:lvar, :obj)), nil),
          s(:block,
            s(:send,
              s(:lvar, :obj), :expand),
            s(:args,
              s(:arg, :s)),
            s(:and,
              s(:send,
                s(:begin,
                  s(:and,
                    s(:send,
                      s(:send,
                        s(:lvar, :s), :[],
                        s(:int, 0)), :==,
                      s(:str, "(")),
                    s(:send,
                      s(:send,
                        s(:lvar, :s), :[],
                        s(:int, -1)), :==,
                      s(:str, ")")))), :!),
              s(:send,
                s(:begin,
                  s(:and,
                    s(:send,
                      s(:send,
                        s(:lvar, :s), :[],
                        s(:int, 0)), :==,
                      s(:str, "[")),
                    s(:send,
                      s(:send,
                        s(:lvar, :s), :[],
                        s(:int, -1)), :==,
                      s(:str, "]")))), :!))))),
      s(:def, :extract_single_element,
        s(:args,
          s(:arg, :ary)),
        s(:begin,
          s(:if,
            s(:send,
              s(:send,
                s(:lvar, :ary), :length), :!=,
              s(:int, 1)),
            s(:send, nil, :raise,
              s(:dstr,
                s(:str, "not a single element array: "),
                s(:begin,
                  s(:send,
                    s(:lvar, :ary), :inspect)))), nil),
          s(:send,
            s(:lvar, :ary), :[],
            s(:int, 0)))),
      s(:def, :emu_assign_ary,
        s(:args,
          s(:arg, :lhs),
          s(:arg, :rv),
          s(:arg, :h)),
        s(:begin,
          s(:lvasgn, :rv,
            s(:if,
              s(:send,
                s(:lvar, :rv), :respond_to?,
                s(:sym, :to_ary)),
              s(:lvar, :rv),
              s(:array,
                s(:lvar, :rv)))),
          s(:lvasgn, :rv,
            s(:send,
              s(:lvar, :rv), :dup)),
          s(:lvasgn, :a,
            s(:array,
              s(:array))),
          s(:block,
            s(:send,
              s(:lvar, :lhs), :each),
            s(:args,
              s(:arg, :e)),
            s(:if,
              s(:send,
                s(:lvar, :e), :==,
                s(:str, ",")),
              s(:send,
                s(:lvar, :a), :<<,
                s(:array)),
              s(:send,
                s(:send,
                  s(:lvar, :a), :last), :<<,
                s(:lvar, :e)))),
          s(:if,
            s(:send,
              s(:send,
                s(:lvar, :a), :last), :==,
              s(:array)),
            s(:send,
              s(:lvar, :a), :pop), nil),
          s(:lvasgn, :pre,
            s(:array)),
          s(:lvasgn, :star,
            s(:lvasgn, :post,
              s(:nil))),
          s(:block,
            s(:send,
              s(:lvar, :a), :each),
            s(:args,
              s(:arg, :e)),
            s(:if,
              s(:lvar, :post),
              s(:send,
                s(:lvar, :post), :<<,
                s(:lvar, :e)),
              s(:if,
                s(:send,
                  s(:send,
                    s(:lvar, :e), :[],
                    s(:int, 0)), :==,
                  s(:str, "*")),
                s(:begin,
                  s(:lvasgn, :star,
                    s(:lvar, :e)),
                  s(:lvasgn, :post,
                    s(:array))),
                s(:send,
                  s(:lvar, :pre), :<<,
                  s(:lvar, :e))))),
          s(:block,
            s(:send,
              s(:lvar, :pre), :map!),
            s(:args,
              s(:arg, :e)),
            s(:send, nil, :extract_single_element,
              s(:lvar, :e))),
          s(:if,
            s(:lvar, :star),
            s(:if,
              s(:send,
                s(:lvar, :star), :==,
                s(:array,
                  s(:str, "*"))),
              s(:lvasgn, :star,
                s(:nil)),
              s(:lvasgn, :star,
                s(:send, nil, :extract_single_element,
                  s(:send,
                    s(:lvar, :star), :[],
                    s(:irange,
                      s(:int, 1),
                      s(:int, -1)))))), nil),
          s(:if,
            s(:lvar, :post),
            s(:block,
              s(:send,
                s(:lvar, :post), :map!),
              s(:args,
                s(:arg, :e)),
              s(:send, nil, :extract_single_element,
                s(:lvar, :e))), nil),
          s(:until,
            s(:send,
              s(:lvar, :pre), :empty?),
            s(:send, nil, :emu_assign_single,
              s(:send,
                s(:lvar, :pre), :shift),
              s(:send,
                s(:lvar, :rv), :shift),
              s(:lvar, :h))),
          s(:if,
            s(:lvar, :post),
            s(:if,
              s(:send,
                s(:send,
                  s(:lvar, :rv), :length), :<,
                s(:send,
                  s(:lvar, :post), :length)),
              s(:until,
                s(:send,
                  s(:lvar, :post), :empty?),
                s(:send, nil, :emu_assign_single,
                  s(:send,
                    s(:lvar, :post), :shift),
                  s(:send,
                    s(:lvar, :rv), :shift),
                  s(:lvar, :h))),
              s(:until,
                s(:send,
                  s(:lvar, :post), :empty?),
                s(:send, nil, :emu_assign_single,
                  s(:send,
                    s(:lvar, :post), :pop),
                  s(:send,
                    s(:lvar, :rv), :pop),
                  s(:lvar, :h)))), nil),
          s(:if,
            s(:lvar, :star),
            s(:send, nil, :emu_assign_single,
              s(:lvar, :star),
              s(:lvar, :rv),
              s(:lvar, :h)), nil))),
      s(:def, :emu_assign_single,
        s(:args,
          s(:arg, :lhs),
          s(:arg, :rv),
          s(:optarg, :h,
            s(:hash))),
        s(:begin,
          s(:if,
            s(:send,
              s(:lvar, :lhs), :respond_to?,
              s(:sym, :to_str)),
            s(:if,
              s(:match_with_lvasgn,
                s(:regexp,
                  s(:str, "\\A[a-z0-9]+\\z"),
                  s(:regopt)),
                s(:lvar, :lhs)),
              s(:send,
                s(:lvar, :h), :[]=,
                s(:lvar, :lhs),
                s(:lvar, :rv)),
              s(:send, nil, :raise,
                s(:dstr,
                  s(:str, "unexpected lhs string: "),
                  s(:begin,
                    s(:send,
                      s(:lvar, :lhs), :inspect))))),
            s(:if,
              s(:send,
                s(:const, nil, :Sentence), :===,
                s(:lvar, :lhs)),
              s(:if,
                s(:and,
                  s(:send,
                    s(:send,
                      s(:lvar, :lhs), :[],
                      s(:int, 0)), :==,
                    s(:str, "(")),
                  s(:send,
                    s(:send,
                      s(:lvar, :lhs), :[],
                      s(:int, -1)), :==,
                    s(:str, ")"))),
                s(:send, nil, :emu_assign_ary,
                  s(:send,
                    s(:lvar, :lhs), :[],
                    s(:erange,
                      s(:int, 1),
                      s(:int, -1))),
                  s(:lvar, :rv),
                  s(:lvar, :h)),
                s(:if,
                  s(:and,
                    s(:and,
                      s(:send,
                        s(:send,
                          s(:lvar, :lhs), :length), :==,
                        s(:int, 1)),
                      s(:send,
                        s(:const, nil, :String), :===,
                        s(:send,
                          s(:lvar, :lhs), :[],
                          s(:int, 0)))),
                    s(:match_with_lvasgn,
                      s(:regexp,
                        s(:str, "\\A[a-z0-9]+\\z"),
                        s(:regopt)),
                      s(:send,
                        s(:lvar, :lhs), :[],
                        s(:int, 0)))),
                  s(:send,
                    s(:lvar, :h), :[]=,
                    s(:send,
                      s(:lvar, :lhs), :[],
                      s(:int, 0)),
                    s(:lvar, :rv)),
                  s(:send, nil, :raise,
                    s(:dstr,
                      s(:str, "unexpected lhs sentence: "),
                      s(:begin,
                        s(:send,
                          s(:lvar, :lhs), :inspect)))))),
              s(:send, nil, :raise,
                s(:dstr,
                  s(:str, "unexpected lhs: "),
                  s(:begin,
                    s(:send,
                      s(:lvar, :lhs), :inspect)))))),
          s(:lvar, :h))),
      s(:def, :emu_assign,
        s(:args,
          s(:arg, :assign)),
        s(:begin,
          s(:lvasgn, :lhs,
            s(:send, nil, :expand_except_paren,
              s(:send,
                s(:lvar, :assign), :[],
                s(:int, 0)))),
          s(:lvasgn, :rhs,
            s(:send, nil, :expand_except_paren,
              s(:send,
                s(:lvar, :assign), :[],
                s(:int, 2)))),
          s(:lvasgn, :lopen,
            s(:and,
              s(:and,
                s(:send,
                  s(:const, nil, :Sentence), :===,
                  s(:lvar, :lhs)),
                s(:send,
                  s(:send,
                    s(:lvar, :lhs), :[],
                    s(:int, -1)), :!=,
                  s(:str, ")"))),
              s(:block,
                s(:send,
                  s(:lvar, :lhs), :any?),
                s(:args,
                  s(:arg, :e)),
                s(:or,
                  s(:send,
                    s(:lvar, :e), :==,
                    s(:str, "*")),
                  s(:send,
                    s(:lvar, :e), :==,
                    s(:str, ",")))))),
          s(:lvasgn, :ropen,
            s(:and,
              s(:and,
                s(:send,
                  s(:const, nil, :Sentence), :===,
                  s(:lvar, :rhs)),
                s(:send,
                  s(:send,
                    s(:lvar, :rhs), :[],
                    s(:int, -1)), :!=,
                  s(:str, "]"))),
              s(:block,
                s(:send,
                  s(:lvar, :rhs), :any?),
                s(:args,
                  s(:arg, :e)),
                s(:or,
                  s(:send,
                    s(:lvar, :e), :==,
                    s(:str, "*")),
                  s(:send,
                    s(:lvar, :e), :==,
                    s(:str, ",")))))),
          s(:if,
            s(:lvar, :lopen),
            s(:lvasgn, :lhs,
              s(:send,
                s(:const, nil, :Sentence), :new,
                s(:send,
                  s(:send,
                    s(:array,
                      s(:str, "(")), :+,
                    s(:send,
                      s(:lvar, :lhs), :to_a)), :+,
                  s(:array,
                    s(:str, ")"))))), nil),
          s(:kwbegin,
            s(:rescue,
              s(:lvasgn, :rv,
                s(:send, nil, :eval,
                  s(:send,
                    s(:begin,
                      s(:if,
                        s(:lvar, :ropen),
                        s(:array,
                          s(:str, "["),
                          s(:send,
                            s(:lvar, :assign), :[],
                            s(:int, 2)),
                          s(:str, "]")),
                        s(:send,
                          s(:lvar, :assign), :[],
                          s(:int, 2)))), :join,
                    s(:str, "")))),
              s(:resbody,
                s(:array,
                  s(:const, nil, :Exception)), nil,
                s(:lvasgn, :rv,
                  s(:send,
                    s(:gvar, :$!), :message))), nil)),
          s(:send, nil, :emu_assign_single,
            s(:lvar, :lhs),
            s(:lvar, :rv)))),
      s(:def, :do_assign,
        s(:args,
          s(:arg, :assign),
          s(:arg, :vars)),
        s(:begin,
          s(:lvasgn, :assign,
            s(:send,
              s(:lvar, :assign), :to_s)),
          s(:lvasgn, :code1,
            s(:dstr,
              s(:begin,
                s(:lvar, :assign)),
              s(:str, "; ["),
              s(:begin,
                s(:send,
                  s(:lvar, :vars), :join,
                  s(:str, ","))),
              s(:str, "]"))),
          s(:send,
            s(:lvar, :assign), :gsub!,
            s(:regexp,
              s(:str, "\\bv\\d+\\b"),
              s(:regopt)),
            s(:str, "o.a")),
          s(:lvasgn, :code2,
            s(:dstr,
              s(:str, "o=[];class << o; self end.send(:define_method,:a=){|v|self << v};"),
              s(:begin,
                s(:lvar, :assign)),
              s(:str, ";o"))),
          s(:kwbegin,
            s(:rescue,
              s(:lvasgn, :vals1,
                s(:send, nil, :eval,
                  s(:lvar, :code1))),
              s(:resbody,
                s(:array,
                  s(:const, nil, :Exception)), nil,
                s(:return,
                  s(:hash,
                    s(:pair,
                      s(:sym, :ex),
                      s(:send,
                        s(:gvar, :$!), :message))))), nil)),
          s(:kwbegin,
            s(:rescue,
              s(:lvasgn, :vals2,
                s(:send, nil, :eval,
                  s(:lvar, :code2))),
              s(:resbody,
                s(:array,
                  s(:const, nil, :Exception)), nil,
                s(:return,
                  s(:hash,
                    s(:pair,
                      s(:sym, :ex),
                      s(:send,
                        s(:gvar, :$!), :message))))), nil)),
          s(:send, nil, :assert_equal,
            s(:lvar, :vals1),
            s(:lvar, :vals2),
            s(:lvar, :code1)),
          s(:lvasgn, :vals,
            s(:lvar, :vals1)),
          s(:lvasgn, :h,
            s(:hash)),
          s(:block,
            s(:send,
              s(:send,
                s(:array,
                  s(:lvar, :vars),
                  s(:lvar, :vals)), :transpose), :each),
            s(:args,
              s(:arg, :k),
              s(:arg, :v)),
            s(:send,
              s(:lvar, :h), :[]=,
              s(:lvar, :k),
              s(:lvar, :v))),
          s(:lvar, :h))),
      s(:def, :check,
        s(:args,
          s(:arg, :assign)),
        s(:begin,
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :assign),
              s(:lvasgn, :vars)),
            s(:send, nil, :rename_var,
              s(:lvar, :assign))),
          s(:lvasgn, :sent,
            s(:send,
              s(:lvar, :assign), :to_s)),
          s(:lvasgn, :bruby,
            s(:send,
              s(:send,
                s(:send, nil, :do_assign,
                  s(:lvar, :assign),
                  s(:lvar, :vars)), :to_a), :sort)),
          s(:lvasgn, :bemu,
            s(:send,
              s(:send,
                s(:send, nil, :emu_assign,
                  s(:lvar, :assign)), :to_a), :sort)),
          s(:send, nil, :assert_equal,
            s(:lvar, :bemu),
            s(:lvar, :bruby),
            s(:lvar, :sent)))),
      s(:def, :test_assignment,
        s(:args),
        s(:begin,
          s(:lvasgn, :syntax,
            s(:send,
              s(:const, nil, :Sentence), :expand_syntax,
              s(:const, nil, :Syntax))),
          s(:block,
            s(:send,
              s(:const, nil, :Sentence), :each,
              s(:lvar, :syntax),
              s(:sym, :xassign),
              s(:int, 4)),
            s(:args,
              s(:arg, :assign)),
            s(:send, nil, :check,
              s(:lvar, :assign))))),
      s(:def, :test_optimized_aset,
        s(:args),
        s(:begin,
          s(:lvasgn, :bug9448,
            s(:block,
              s(:send,
                s(:const, nil, :Class), :new),
              s(:args),
              s(:def, :[]=,
                s(:args,
                  s(:arg, :key),
                  s(:arg, :new_value)),
                s(:str, "[ruby-core:60071] [Bug #9448]")))),
          s(:lvasgn, :o,
            s(:send,
              s(:lvar, :bug9448), :new)),
          s(:send, nil, :assert_equal,
            s(:str, "ok"),
            s(:send,
              s(:lvar, :o), :[]=,
              s(:str, "current"),
              s(:str, "ok"))))),
      s(:def, :test_massign_aref_lhs_splat,
        s(:args),
        s(:begin,
          s(:lvasgn, :bug11970,
            s(:str, "[ruby-core:72777] [Bug #11970]")),
          s(:lvasgn, :h,
            s(:hash)),
          s(:lvasgn, :k,
            s(:array,
              s(:sym, :key))),
          s(:masgn,
            s(:mlhs,
              s(:send,
                s(:lvar, :h), :[]=,
                s(:splat,
                  s(:lvar, :k)))),
            s(:array,
              s(:str, "ok"),
              s(:str, "ng"))),
          s(:send, nil, :assert_equal,
            s(:str, "ok"),
            s(:send,
              s(:lvar, :h), :[],
              s(:sym, :key)),
            s(:lvar, :bug11970)))))))
