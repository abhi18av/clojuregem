s(:begin,
  s(:send, nil, :require,
    s(:str, "test/unit")),
  s(:class,
    s(:const, nil, :TestProc),
    s(:const,
      s(:const,
        s(:const, nil, :Test), :Unit), :TestCase),
    s(:begin,
      s(:def, :setup,
        s(:args),
        s(:begin,
          s(:ivasgn, :@verbose,
            s(:gvar, :$VERBOSE)),
          s(:gvasgn, :$VERBOSE,
            s(:nil)))),
      s(:def, :teardown,
        s(:args),
        s(:gvasgn, :$VERBOSE,
          s(:ivar, :@verbose))),
      s(:def, :test_proc,
        s(:args),
        s(:begin,
          s(:lvasgn, :p1,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :i)),
              s(:lvar, :i))),
          s(:send, nil, :assert_equal,
            s(:int, 2),
            s(:send,
              s(:lvar, :p1), :call,
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:int, 3),
            s(:send,
              s(:lvar, :p1), :call,
              s(:int, 3))),
          s(:lvasgn, :p1,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :i)),
              s(:send,
                s(:lvar, :i), :*,
                s(:int, 2)))),
          s(:send, nil, :assert_equal,
            s(:int, 4),
            s(:send,
              s(:lvar, :p1), :call,
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:int, 6),
            s(:send,
              s(:lvar, :p1), :call,
              s(:int, 3))),
          s(:lvasgn, :p2,
            s(:nil)),
          s(:lvasgn, :x,
            s(:int, 0)),
          s(:send,
            s(:block,
              s(:send, nil, :proc),
              s(:args),
              s(:begin,
                s(:lvasgn, :iii,
                  s(:int, 5)),
                s(:lvasgn, :p1,
                  s(:block,
                    s(:send, nil, :proc),
                    s(:args,
                      s(:arg, :i)),
                    s(:lvasgn, :iii,
                      s(:lvar, :i)))),
                s(:lvasgn, :p2,
                  s(:block,
                    s(:send, nil, :proc),
                    s(:args),
                    s(:lvasgn, :x,
                      s(:lvar, :iii)))),
                s(:send, nil, :assert,
                  s(:defined?,
                    s(:lvar, :iii))))), :call),
          s(:send, nil, :assert,
            s(:send,
              s(:defined?,
                s(:send, nil, :iii)), :!)),
          s(:block,
            s(:send, nil, :loop),
            s(:args),
            s(:begin,
              s(:lvasgn, :iii,
                s(:lvasgn, :iii,
                  s(:int, 5))),
              s(:send, nil, :assert,
                s(:send, nil, :eval,
                  s(:str, "defined? iii"))),
              s(:break))),
          s(:block,
            s(:send, nil, :loop),
            s(:args),
            s(:begin,
              s(:lvasgn, :iii,
                s(:lvasgn, :iii,
                  s(:int, 10))),
              s(:defs,
                s(:self), :dyna_var_check,
                s(:args),
                s(:block,
                  s(:send, nil, :loop),
                  s(:args),
                  s(:begin,
                    s(:send, nil, :assert,
                      s(:send,
                        s(:defined?,
                          s(:send, nil, :iii)), :!)),
                    s(:break)))),
              s(:send, nil, :dyna_var_check),
              s(:break))),
          s(:send,
            s(:lvar, :p1), :call,
            s(:int, 5)),
          s(:send,
            s(:lvar, :p2), :call),
          s(:send, nil, :assert_equal,
            s(:int, 5),
            s(:lvar, :x)))),
      s(:def, :assert_arity,
        s(:args,
          s(:arg, :n)),
        s(:begin,
          s(:lvasgn, :meta,
            s(:sclass,
              s(:self),
              s(:self))),
          s(:block,
            s(:send,
              s(:lvar, :meta), :class_eval),
            s(:args),
            s(:send, nil, :define_method,
              s(:sym, :foo),
              s(:send,
                s(:const, nil, :Proc), :new))),
          s(:send, nil, :assert_equal,
            s(:lvar, :n),
            s(:send,
              s(:send, nil, :method,
                s(:sym, :foo)), :arity)))),
      s(:def, :test_arity,
        s(:args),
        s(:begin,
          s(:send, nil, :assert_equal,
            s(:int, 0),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 0),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :x)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 0),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:optarg, :x,
                    s(:int, 1))), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 2),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :x),
                  s(:arg, :y)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:optarg, :x,
                    s(:int, 0)),
                  s(:arg, :y)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 0),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:optarg, :x,
                    s(:int, 0)),
                  s(:optarg, :y,
                    s(:int, 0))), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :x),
                  s(:optarg, :y,
                    s(:int, 0))), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -2),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :x),
                  s(:restarg, :y)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -1),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:optarg, :x,
                    s(:int, 0)),
                  s(:restarg, :y)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -1),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:restarg, :x)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -1),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:restarg)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -3),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :x),
                  s(:restarg, :y),
                  s(:arg, :z)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -2),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:optarg, :x,
                    s(:int, 0)),
                  s(:restarg, :y),
                  s(:arg, :z)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 2),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:mlhs,
                    s(:arg, :x),
                    s(:arg, :y)),
                  s(:arg, :z)),
                s(:array,
                  s(:lvar, :x),
                  s(:lvar, :y))), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:mlhs,
                    s(:arg, :x),
                    s(:arg, :y)),
                  s(:optarg, :z,
                    s(:int, 0))),
                s(:array,
                  s(:lvar, :x),
                  s(:lvar, :y))), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -4),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :x),
                  s(:restarg, :y),
                  s(:arg, :z),
                  s(:arg, :a)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 0),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:kwrestarg)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 0),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:kwrestarg, :o)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :x),
                  s(:kwrestarg, :o)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 0),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:optarg, :x,
                    s(:int, 0)),
                  s(:kwrestarg, :o)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :x),
                  s(:optarg, :y,
                    s(:int, 0)),
                  s(:kwrestarg, :o)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 2),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :x),
                  s(:optarg, :y,
                    s(:int, 0)),
                  s(:arg, :z),
                  s(:kwrestarg, :o)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -3),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :x),
                  s(:optarg, :y,
                    s(:int, 0)),
                  s(:restarg, :z),
                  s(:arg, :w),
                  s(:kwrestarg, :o)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 2),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :x),
                  s(:optarg, :y,
                    s(:int, 0)),
                  s(:arg, :z),
                  s(:kwoptarg, :a,
                    s(:int, 1))), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 3),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :x),
                  s(:optarg, :y,
                    s(:int, 0)),
                  s(:arg, :z),
                  s(:kwarg, :a)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -4),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :x),
                  s(:arg, :y),
                  s(:restarg, :rest),
                  s(:kwarg, :a),
                  s(:kwarg, :b),
                  s(:kwarg, :c)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 3),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :x),
                  s(:optarg, :y,
                    s(:int, 0)),
                  s(:arg, :z),
                  s(:kwarg, :a),
                  s(:kwrestarg, :o)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 0),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 0),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:arg, :x)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -1),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:optarg, :x,
                    s(:int, 1))), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 2),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:arg, :x),
                  s(:arg, :y)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -2),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:optarg, :x,
                    s(:int, 0)),
                  s(:arg, :y)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -1),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:optarg, :x,
                    s(:int, 0)),
                  s(:optarg, :y,
                    s(:int, 0))), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -2),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:arg, :x),
                  s(:optarg, :y,
                    s(:int, 0))), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -2),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:arg, :x),
                  s(:restarg, :y)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -1),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:optarg, :x,
                    s(:int, 0)),
                  s(:restarg, :y)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -1),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:restarg, :x)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -1),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:restarg)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -3),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:arg, :x),
                  s(:restarg, :y),
                  s(:arg, :z)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -2),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:optarg, :x,
                    s(:int, 0)),
                  s(:restarg, :y),
                  s(:arg, :z)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, 2),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:mlhs,
                    s(:arg, :x),
                    s(:arg, :y)),
                  s(:arg, :z)),
                s(:array,
                  s(:lvar, :x),
                  s(:lvar, :y))), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -2),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:mlhs,
                    s(:arg, :x),
                    s(:arg, :y)),
                  s(:optarg, :z,
                    s(:int, 0))),
                s(:array,
                  s(:lvar, :x),
                  s(:lvar, :y))), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -4),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:arg, :x),
                  s(:restarg, :y),
                  s(:arg, :z),
                  s(:arg, :a)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -1),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:kwrestarg)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -1),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:kwrestarg, :o)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -2),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:arg, :x),
                  s(:kwrestarg, :o)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -1),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:optarg, :x,
                    s(:int, 0)),
                  s(:kwrestarg, :o)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -2),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:arg, :x),
                  s(:optarg, :y,
                    s(:int, 0)),
                  s(:kwrestarg, :o)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -3),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:arg, :x),
                  s(:optarg, :y,
                    s(:int, 0)),
                  s(:arg, :z),
                  s(:kwrestarg, :o)), nil), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -3),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:arg, :x),
                  s(:optarg, :y,
                    s(:int, 0)),
                  s(:restarg, :z),
                  s(:arg, :w),
                  s(:kwrestarg, :o)), nil), :arity)),
          s(:block,
            s(:send, nil, :assert_arity,
              s(:int, 0)),
            s(:args), nil),
          s(:block,
            s(:send, nil, :assert_arity,
              s(:int, 0)),
            s(:args), nil),
          s(:block,
            s(:send, nil, :assert_arity,
              s(:int, 1)),
            s(:args,
              s(:arg, :x)), nil),
          s(:block,
            s(:send, nil, :assert_arity,
              s(:int, 2)),
            s(:args,
              s(:arg, :x),
              s(:arg, :y)), nil),
          s(:block,
            s(:send, nil, :assert_arity,
              s(:int, -2)),
            s(:args,
              s(:arg, :x),
              s(:restarg, :y)), nil),
          s(:block,
            s(:send, nil, :assert_arity,
              s(:int, -3)),
            s(:args,
              s(:arg, :x),
              s(:restarg, :y),
              s(:arg, :z)), nil),
          s(:block,
            s(:send, nil, :assert_arity,
              s(:int, -1)),
            s(:args,
              s(:restarg, :x)), nil),
          s(:block,
            s(:send, nil, :assert_arity,
              s(:int, -1)),
            s(:args,
              s(:restarg)), nil),
          s(:block,
            s(:send, nil, :assert_arity,
              s(:int, -1)),
            s(:args,
              s(:kwrestarg, :o)), nil),
          s(:block,
            s(:send, nil, :assert_arity,
              s(:int, -1)),
            s(:args,
              s(:kwrestarg)), nil),
          s(:block,
            s(:send, nil, :assert_arity,
              s(:int, -2)),
            s(:args,
              s(:arg, :x),
              s(:restarg, :y),
              s(:kwrestarg)), nil),
          s(:block,
            s(:send, nil, :assert_arity,
              s(:int, -3)),
            s(:args,
              s(:arg, :x),
              s(:restarg, :y),
              s(:arg, :z),
              s(:kwrestarg)), nil))),
      s(:def, :m,
        s(:args,
          s(:arg, :x)),
        s(:block,
          s(:send, nil, :lambda),
          s(:args),
          s(:lvar, :x))),
      s(:def, :test_eq,
        s(:args),
        s(:begin,
          s(:lvasgn, :a,
            s(:send, nil, :m,
              s(:int, 1))),
          s(:lvasgn, :b,
            s(:send, nil, :m,
              s(:int, 2))),
          s(:send, nil, :assert_not_equal,
            s(:lvar, :a),
            s(:lvar, :b),
            s(:str, "[ruby-dev:22592]")),
          s(:send, nil, :assert_not_equal,
            s(:send,
              s(:lvar, :a), :call),
            s(:send,
              s(:lvar, :b), :call),
            s(:str, "[ruby-dev:22592]")),
          s(:send, nil, :assert_not_equal,
            s(:block,
              s(:send, nil, :proc),
              s(:args), nil),
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :x),
                s(:arg, :y)), nil),
            s(:str, "[ruby-dev:22599]")),
          s(:lvasgn, :a,
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:arg, :x)),
                s(:block,
                  s(:send, nil, :lambda),
                  s(:args), nil)), :call,
              s(:int, 1))),
          s(:lvasgn, :b,
            s(:block,
              s(:send, nil, :lambda),
              s(:args), nil)),
          s(:send, nil, :assert_not_equal,
            s(:lvar, :a),
            s(:lvar, :b),
            s(:str, "[ruby-dev:22601]")))),
      s(:def, :test_block_par,
        s(:args),
        s(:begin,
          s(:send, nil, :assert_equal,
            s(:int, 10),
            s(:block,
              s(:send,
                s(:block,
                  s(:send,
                    s(:const, nil, :Proc), :new),
                  s(:args,
                    s(:blockarg, :b)),
                  s(:send,
                    s(:lvar, :b), :call,
                    s(:int, 10))), :call),
              s(:args,
                s(:arg, :x)),
              s(:lvar, :x))),
          s(:send, nil, :assert_equal,
            s(:int, 12),
            s(:block,
              s(:send,
                s(:block,
                  s(:send,
                    s(:const, nil, :Proc), :new),
                  s(:args,
                    s(:arg, :a),
                    s(:blockarg, :b)),
                  s(:send,
                    s(:lvar, :b), :call,
                    s(:lvar, :a))), :call,
                s(:int, 12)),
              s(:args,
                s(:arg, :x)),
              s(:lvar, :x))))),
      s(:def, :test_safe,
        s(:args),
        s(:begin,
          s(:lvasgn, :safe,
            s(:gvar, :$SAFE)),
          s(:lvasgn, :c,
            s(:send,
              s(:const, nil, :Class), :new)),
          s(:lvasgn, :x,
            s(:send,
              s(:lvar, :c), :new)),
          s(:lvasgn, :p,
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args),
                s(:begin,
                  s(:op_asgn,
                    s(:gvasgn, :$SAFE), :+,
                    s(:int, 1)),
                  s(:block,
                    s(:send, nil, :proc),
                    s(:args),
                    s(:gvar, :$SAFE)))), :call)),
          s(:send, nil, :assert_equal,
            s(:lvar, :safe),
            s(:gvar, :$SAFE)),
          s(:send, nil, :assert_equal,
            s(:send,
              s(:lvar, :safe), :+,
              s(:int, 1)),
            s(:send,
              s(:lvar, :p), :call)),
          s(:send, nil, :assert_equal,
            s(:lvar, :safe),
            s(:gvar, :$SAFE)),
          s(:block,
            s(:send,
              s(:lvar, :c), :class_eval),
            s(:args),
            s(:send, nil, :define_method,
              s(:sym, :safe),
              s(:lvar, :p))),
          s(:send, nil, :assert_equal,
            s(:lvar, :safe),
            s(:send,
              s(:lvar, :x), :safe)),
          s(:send, nil, :assert_equal,
            s(:lvar, :safe),
            s(:send,
              s(:send,
                s(:lvar, :x), :method,
                s(:sym, :safe)), :call)),
          s(:send, nil, :assert_equal,
            s(:lvar, :safe),
            s(:send,
              s(:send,
                s(:send,
                  s(:lvar, :x), :method,
                  s(:sym, :safe)), :to_proc), :call)),
          s(:lvasgn, :p,
            s(:block,
              s(:send, nil, :proc),
              s(:args),
              s(:op_asgn,
                s(:gvasgn, :$SAFE), :+,
                s(:int, 1)))),
          s(:send, nil, :assert_equal,
            s(:send,
              s(:lvar, :safe), :+,
              s(:int, 1)),
            s(:send,
              s(:lvar, :p), :call)),
          s(:send, nil, :assert_equal,
            s(:lvar, :safe),
            s(:gvar, :$SAFE)),
          s(:block,
            s(:send,
              s(:lvar, :c), :class_eval),
            s(:args),
            s(:send, nil, :define_method,
              s(:sym, :inc),
              s(:lvar, :p))),
          s(:send, nil, :assert_equal,
            s(:send,
              s(:lvar, :safe), :+,
              s(:int, 1)),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args),
                s(:begin,
                  s(:send,
                    s(:lvar, :x), :inc),
                  s(:gvar, :$SAFE))), :call)),
          s(:send, nil, :assert_equal,
            s(:lvar, :safe),
            s(:gvar, :$SAFE)),
          s(:send, nil, :assert_equal,
            s(:send,
              s(:lvar, :safe), :+,
              s(:int, 1)),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args),
                s(:begin,
                  s(:send,
                    s(:send,
                      s(:lvar, :x), :method,
                      s(:sym, :inc)), :call),
                  s(:gvar, :$SAFE))), :call)),
          s(:send, nil, :assert_equal,
            s(:lvar, :safe),
            s(:gvar, :$SAFE)),
          s(:send, nil, :assert_equal,
            s(:send,
              s(:lvar, :safe), :+,
              s(:int, 1)),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args),
                s(:begin,
                  s(:send,
                    s(:send,
                      s(:send,
                        s(:lvar, :x), :method,
                        s(:sym, :inc)), :to_proc), :call),
                  s(:gvar, :$SAFE))), :call)),
          s(:send, nil, :assert_equal,
            s(:lvar, :safe),
            s(:gvar, :$SAFE)))),
      s(:def, :m2,
        s(:args),
        s(:str, "OK")),
      s(:def, :block,
        s(:args),
        s(:send,
          s(:send, nil, :method,
            s(:sym, :m2)), :to_proc)),
      s(:def, :m1,
        s(:args,
          s(:arg, :var)),
        s(:lvar, :var)),
      s(:def, :m_block_given?,
        s(:args),
        s(:send, nil, :m1,
          s(:send, nil, :block_given?))),
      s(:def, :test_method_to_proc,
        s(:args),
        s(:begin,
          s(:lvasgn, :b,
            s(:send, nil, :block)),
          s(:send, nil, :assert_equal,
            s(:str, "OK"),
            s(:send,
              s(:lvar, :b), :call)),
          s(:lvasgn, :b,
            s(:send,
              s(:lvar, :b), :binding)),
          s(:send, nil, :assert_instance_of,
            s(:const, nil, :Binding),
            s(:lvar, :b),
            s(:str, "[ruby-core:25589]")),
          s(:lvasgn, :bug10432,
            s(:str, "[ruby-core:65919] [Bug #10432]")),
          s(:send, nil, :assert_same,
            s(:self),
            s(:send,
              s(:lvar, :b), :receiver),
            s(:lvar, :bug10432)),
          s(:send, nil, :assert_not_send,
            s(:array,
              s(:lvar, :b),
              s(:sym, :local_variable_defined?),
              s(:sym, :value))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :NameError)),
            s(:args),
            s(:send,
              s(:lvar, :b), :local_variable_get,
              s(:sym, :value))),
          s(:send, nil, :assert_equal,
            s(:int, 42),
            s(:send,
              s(:lvar, :b), :local_variable_set,
              s(:sym, :value),
              s(:int, 42))),
          s(:send, nil, :assert_send,
            s(:array,
              s(:lvar, :b),
              s(:sym, :local_variable_defined?),
              s(:sym, :value))),
          s(:send, nil, :assert_equal,
            s(:int, 42),
            s(:send,
              s(:lvar, :b), :local_variable_get,
              s(:sym, :value))))),
      s(:def, :test_block_given_method,
        s(:args),
        s(:begin,
          s(:lvasgn, :m,
            s(:send, nil, :method,
              s(:sym, :m_block_given?))),
          s(:send, nil, :assert,
            s(:send,
              s(:send,
                s(:lvar, :m), :call), :!),
            s(:str, "without block")),
          s(:send, nil, :assert,
            s(:block,
              s(:send,
                s(:lvar, :m), :call),
              s(:args), nil),
            s(:str, "with block")),
          s(:send, nil, :assert,
            s(:send,
              s(:send,
                s(:lvar, :m), :call), :!),
            s(:str, "without block second")))),
      s(:def, :test_block_given_method_to_proc,
        s(:args),
        s(:begin,
          s(:lvasgn, :bug8341,
            s(:str, "[Bug #8341]")),
          s(:lvasgn, :m,
            s(:send,
              s(:send, nil, :method,
                s(:sym, :m_block_given?)), :to_proc)),
          s(:send, nil, :assert,
            s(:send,
              s(:send,
                s(:lvar, :m), :call), :!),
            s(:dstr,
              s(:begin,
                s(:lvar, :bug8341)),
              s(:str, " without block"))),
          s(:send, nil, :assert,
            s(:block,
              s(:send,
                s(:lvar, :m), :call),
              s(:args), nil),
            s(:dstr,
              s(:begin,
                s(:lvar, :bug8341)),
              s(:str, " with block"))),
          s(:send, nil, :assert,
            s(:send,
              s(:send,
                s(:lvar, :m), :call), :!),
            s(:dstr,
              s(:begin,
                s(:lvar, :bug8341)),
              s(:str, " without block second"))))),
      s(:def, :test_block_persist_between_calls,
        s(:args),
        s(:begin,
          s(:lvasgn, :bug8341,
            s(:str, "[Bug #8341]")),
          s(:lvasgn, :o,
            s(:send,
              s(:const, nil, :Object), :new)),
          s(:defs,
            s(:lvar, :o), :m1,
            s(:args,
              s(:optarg, :top,
                s(:true))),
            s(:if,
              s(:lvar, :top),
              s(:array,
                s(:send, nil, :block_given?),
                s(:send,
                  s(:ivar, :@m), :call,
                  s(:false))),
              s(:send, nil, :block_given?))),
          s(:lvasgn, :m,
            s(:send,
              s(:send,
                s(:lvar, :o), :method,
                s(:sym, :m1)), :to_proc)),
          s(:send,
            s(:lvar, :o), :instance_variable_set,
            s(:sym, :@m),
            s(:lvar, :m)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:true),
              s(:false)),
            s(:block,
              s(:send,
                s(:lvar, :m), :call),
              s(:args), nil),
            s(:dstr,
              s(:begin,
                s(:lvar, :bug8341)),
              s(:str, " nested with block"))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:false),
              s(:false)),
            s(:send,
              s(:lvar, :m), :call),
            s(:dstr,
              s(:begin,
                s(:lvar, :bug8341)),
              s(:str, " nested without block"))))),
      s(:def, :test_curry,
        s(:args),
        s(:begin,
          s(:lvasgn, :b,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :x),
                s(:arg, :y),
                s(:arg, :z)),
              s(:send,
                s(:send,
                  s(:begin,
                    s(:or,
                      s(:lvar, :x),
                      s(:int, 0))), :+,
                  s(:begin,
                    s(:or,
                      s(:lvar, :y),
                      s(:int, 0)))), :+,
                s(:begin,
                  s(:or,
                    s(:lvar, :z),
                    s(:int, 0)))))),
          s(:send, nil, :assert_equal,
            s(:int, 6),
            s(:send,
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :b), :curry), :[],
                  s(:int, 1)), :[],
                s(:int, 2)), :[],
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:int, 6),
            s(:send,
              s(:send,
                s(:send,
                  s(:lvar, :b), :curry), :[],
                s(:int, 1),
                s(:int, 2)), :[],
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:int, 6),
            s(:send,
              s(:send,
                s(:send,
                  s(:send,
                    s(:send,
                      s(:send,
                        s(:lvar, :b), :curry,
                        s(:int, 5)), :[],
                      s(:int, 1)), :[],
                    s(:int, 2)), :[],
                  s(:int, 3)), :[],
                s(:int, 4)), :[],
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:int, 6),
            s(:send,
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :b), :curry,
                    s(:int, 5)), :[],
                  s(:int, 1),
                  s(:int, 2)), :[],
                s(:int, 3),
                s(:int, 4)), :[],
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:send,
              s(:send,
                s(:lvar, :b), :curry,
                s(:int, 1)), :[],
              s(:int, 1))),
          s(:lvasgn, :b,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :x),
                s(:arg, :y),
                s(:arg, :z),
                s(:restarg, :w)),
              s(:send,
                s(:send,
                  s(:send,
                    s(:begin,
                      s(:or,
                        s(:lvar, :x),
                        s(:int, 0))), :+,
                    s(:begin,
                      s(:or,
                        s(:lvar, :y),
                        s(:int, 0)))), :+,
                  s(:begin,
                    s(:or,
                      s(:lvar, :z),
                      s(:int, 0)))), :+,
                s(:send,
                  s(:lvar, :w), :inject,
                  s(:int, 0),
                  s(:block_pass,
                    s(:sym, :+)))))),
          s(:send, nil, :assert_equal,
            s(:int, 6),
            s(:send,
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :b), :curry), :[],
                  s(:int, 1)), :[],
                s(:int, 2)), :[],
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:int, 10),
            s(:send,
              s(:send,
                s(:send,
                  s(:lvar, :b), :curry), :[],
                s(:int, 1),
                s(:int, 2)), :[],
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:int, 15),
            s(:send,
              s(:send,
                s(:send,
                  s(:send,
                    s(:send,
                      s(:send,
                        s(:lvar, :b), :curry,
                        s(:int, 5)), :[],
                      s(:int, 1)), :[],
                    s(:int, 2)), :[],
                  s(:int, 3)), :[],
                s(:int, 4)), :[],
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:int, 15),
            s(:send,
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :b), :curry,
                    s(:int, 5)), :[],
                  s(:int, 1),
                  s(:int, 2)), :[],
                s(:int, 3),
                s(:int, 4)), :[],
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:send,
              s(:send,
                s(:lvar, :b), :curry,
                s(:int, 1)), :[],
              s(:int, 1))),
          s(:lvasgn, :b,
            s(:block,
              s(:send, nil, :lambda),
              s(:args,
                s(:arg, :x),
                s(:arg, :y),
                s(:arg, :z)),
              s(:send,
                s(:send,
                  s(:begin,
                    s(:or,
                      s(:lvar, :x),
                      s(:int, 0))), :+,
                  s(:begin,
                    s(:or,
                      s(:lvar, :y),
                      s(:int, 0)))), :+,
                s(:begin,
                  s(:or,
                    s(:lvar, :z),
                    s(:int, 0)))))),
          s(:send, nil, :assert_equal,
            s(:int, 6),
            s(:send,
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :b), :curry), :[],
                  s(:int, 1)), :[],
                s(:int, 2)), :[],
              s(:int, 3))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:send,
                s(:send,
                  s(:lvar, :b), :curry), :[],
                s(:int, 1),
                s(:int, 2)), :[],
              s(:int, 3),
              s(:int, 4))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:lvar, :b), :curry,
              s(:int, 5))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:lvar, :b), :curry,
              s(:int, 1))),
          s(:lvasgn, :b,
            s(:block,
              s(:send, nil, :lambda),
              s(:args,
                s(:arg, :x),
                s(:arg, :y),
                s(:arg, :z),
                s(:restarg, :w)),
              s(:send,
                s(:send,
                  s(:send,
                    s(:begin,
                      s(:or,
                        s(:lvar, :x),
                        s(:int, 0))), :+,
                    s(:begin,
                      s(:or,
                        s(:lvar, :y),
                        s(:int, 0)))), :+,
                  s(:begin,
                    s(:or,
                      s(:lvar, :z),
                      s(:int, 0)))), :+,
                s(:send,
                  s(:lvar, :w), :inject,
                  s(:int, 0),
                  s(:block_pass,
                    s(:sym, :+)))))),
          s(:send, nil, :assert_equal,
            s(:int, 6),
            s(:send,
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :b), :curry), :[],
                  s(:int, 1)), :[],
                s(:int, 2)), :[],
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:int, 10),
            s(:send,
              s(:send,
                s(:send,
                  s(:lvar, :b), :curry), :[],
                s(:int, 1),
                s(:int, 2)), :[],
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:int, 15),
            s(:send,
              s(:send,
                s(:send,
                  s(:send,
                    s(:send,
                      s(:send,
                        s(:lvar, :b), :curry,
                        s(:int, 5)), :[],
                      s(:int, 1)), :[],
                    s(:int, 2)), :[],
                  s(:int, 3)), :[],
                s(:int, 4)), :[],
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:int, 15),
            s(:send,
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :b), :curry,
                    s(:int, 5)), :[],
                  s(:int, 1),
                  s(:int, 2)), :[],
                s(:int, 3),
                s(:int, 4)), :[],
              s(:int, 5))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:lvar, :b), :curry,
              s(:int, 1))),
          s(:lvasgn, :b,
            s(:block,
              s(:send, nil, :proc),
              s(:args),
              s(:sym, :foo))),
          s(:send, nil, :assert_equal,
            s(:sym, :foo),
            s(:send,
              s(:send,
                s(:lvar, :b), :curry), :[])),
          s(:lvasgn, :b,
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:arg, :x),
                  s(:arg, :y),
                  s(:blockarg, :blk)),
                s(:send,
                  s(:lvar, :blk), :call,
                  s(:send,
                    s(:lvar, :x), :+,
                    s(:lvar, :y)))), :curry)),
          s(:lvasgn, :b,
            s(:block,
              s(:send,
                s(:lvar, :b), :call,
                s(:int, 2)),
              s(:args),
              s(:send, nil, :raise))),
          s(:lvasgn, :b,
            s(:block,
              s(:send,
                s(:lvar, :b), :call,
                s(:int, 3)),
              s(:args,
                s(:arg, :x)),
              s(:send,
                s(:lvar, :x), :+,
                s(:int, 4)))),
          s(:send, nil, :assert_equal,
            s(:int, 9),
            s(:lvar, :b)),
          s(:lvasgn, :l,
            s(:block,
              s(:send, nil, :proc),
              s(:args), nil)),
          s(:send, nil, :assert_equal,
            s(:false),
            s(:send,
              s(:lvar, :l), :lambda?)),
          s(:send, nil, :assert_equal,
            s(:false),
            s(:send,
              s(:send,
                s(:lvar, :l), :curry), :lambda?),
            s(:str, "[ruby-core:24127]")),
          s(:lvasgn, :l,
            s(:block,
              s(:send, nil, :lambda),
              s(:args), nil)),
          s(:send, nil, :assert_equal,
            s(:true),
            s(:send,
              s(:lvar, :l), :lambda?)),
          s(:send, nil, :assert_equal,
            s(:true),
            s(:send,
              s(:send,
                s(:lvar, :l), :curry), :lambda?),
            s(:str, "[ruby-core:24127]")))),
      s(:def, :test_curry_ski_fib,
        s(:args),
        s(:begin,
          s(:lvasgn, :s,
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :f),
                  s(:arg, :g),
                  s(:arg, :x)),
                s(:send,
                  s(:send,
                    s(:lvar, :f), :[],
                    s(:lvar, :x)), :[],
                  s(:send,
                    s(:lvar, :g), :[],
                    s(:lvar, :x)))), :curry)),
          s(:lvasgn, :k,
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :x),
                  s(:arg, :y)),
                s(:lvar, :x)), :curry)),
          s(:lvasgn, :i,
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)), :curry)),
          s(:lvasgn, :fib,
            s(:array)),
          s(:lvasgn, :inc,
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :x)),
                s(:begin,
                  s(:op_asgn,
                    s(:send,
                      s(:lvar, :fib), :[],
                      s(:int, -1)), :+,
                    s(:int, 1)),
                  s(:lvar, :x))), :curry)),
          s(:lvasgn, :ret,
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :x)),
                s(:begin,
                  s(:if,
                    s(:send,
                      s(:send,
                        s(:lvar, :fib), :size), :>,
                      s(:int, 10)),
                    s(:send, nil, :throw,
                      s(:sym, :end)), nil),
                  s(:send,
                    s(:lvar, :fib), :<<,
                    s(:int, 0)),
                  s(:lvar, :x))), :curry)),
          s(:block,
            s(:send, nil, :catch,
              s(:sym, :end)),
            s(:args),
            s(:send,
              s(:send,
                s(:send,
                  s(:lvar, :s), :[],
                  s(:send,
                    s(:send,
                      s(:lvar, :s), :[],
                      s(:send,
                        s(:send,
                          s(:lvar, :s), :[],
                          s(:lvar, :i)), :[],
                        s(:lvar, :i))), :[],
                    s(:send,
                      s(:lvar, :k), :[],
                      s(:lvar, :i)))), :[],
                s(:send,
                  s(:lvar, :k), :[],
                  s(:lvar, :inc))), :[],
              s(:send,
                s(:send,
                  s(:lvar, :s), :[],
                  s(:send,
                    s(:send,
                      s(:lvar, :s), :[],
                      s(:send,
                        s(:lvar, :k), :[],
                        s(:lvar, :s))), :[],
                    s(:send,
                      s(:send,
                        s(:lvar, :s), :[],
                        s(:send,
                          s(:lvar, :k), :[],
                          s(:send,
                            s(:lvar, :s), :[],
                            s(:send,
                              s(:lvar, :k), :[],
                              s(:lvar, :s))))), :[],
                      s(:send,
                        s(:send,
                          s(:lvar, :s), :[],
                          s(:send,
                            s(:send,
                              s(:lvar, :s), :[],
                              s(:send,
                                s(:lvar, :k), :[],
                                s(:lvar, :s))), :[],
                            s(:send,
                              s(:send,
                                s(:lvar, :s), :[],
                                s(:send,
                                  s(:lvar, :k), :[],
                                  s(:send,
                                    s(:lvar, :s), :[],
                                    s(:send,
                                      s(:lvar, :k), :[],
                                      s(:lvar, :ret))))), :[],
                              s(:send,
                                s(:send,
                                  s(:lvar, :s), :[],
                                  s(:send,
                                    s(:lvar, :k), :[],
                                    s(:send,
                                      s(:lvar, :s), :[],
                                      s(:lvar, :i)))), :[],
                                s(:lvar, :k))))), :[],
                        s(:lvar, :k))))), :[],
                s(:send,
                  s(:lvar, :k), :[],
                  s(:send,
                    s(:send,
                      s(:lvar, :s), :[],
                      s(:send,
                        s(:lvar, :k), :[],
                        s(:lvar, :s))), :[],
                    s(:lvar, :k)))))),
          s(:send, nil, :assert_equal,
            s(:lvar, :fib),
            s(:array,
              s(:int, 1),
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 5),
              s(:int, 8),
              s(:int, 13),
              s(:int, 21),
              s(:int, 34),
              s(:int, 55),
              s(:int, 89))))),
      s(:def, :test_curry_from_knownbug,
        s(:args),
        s(:begin,
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :lambda),
              s(:args,
                s(:arg, :x),
                s(:arg, :y),
                s(:blockarg, :b)),
              s(:lvar, :b))),
          s(:lvasgn, :b,
            s(:send,
              s(:send,
                s(:lvar, :a), :curry), :[],
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:sym, :ok),
            s(:if,
              s(:send,
                s(:block,
                  s(:send,
                    s(:lvar, :b), :call,
                    s(:int, 2)),
                  s(:args), nil), :==,
                s(:nil)),
              s(:sym, :ng),
              s(:sym, :ok)),
            s(:str, "moved from btest/knownbug, [ruby-core:15551]")))),
      s(:def, :test_curry_instance_exec,
        s(:args),
        s(:begin,
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :lambda),
              s(:args,
                s(:arg, :x),
                s(:arg, :y)),
              s(:array,
                s(:send,
                  s(:lvar, :x), :+,
                  s(:lvar, :y)),
                s(:self)))),
          s(:lvasgn, :b,
            s(:send,
              s(:send,
                s(:lvar, :a), :curry), :call,
              s(:int, 1))),
          s(:lvasgn, :result,
            s(:send, nil, :instance_exec,
              s(:int, 2),
              s(:block_pass,
                s(:lvar, :b)))),
          s(:send, nil, :assert_equal,
            s(:int, 3),
            s(:send,
              s(:lvar, :result), :[],
              s(:int, 0))),
          s(:send, nil, :assert_equal,
            s(:self),
            s(:send,
              s(:lvar, :result), :[],
              s(:int, 1))))),
      s(:def, :test_curry_optional_params,
        s(:args),
        s(:begin,
          s(:lvasgn, :obj,
            s(:send,
              s(:const, nil, :Object), :new)),
          s(:defs,
            s(:lvar, :obj), :foo,
            s(:args,
              s(:arg, :a),
              s(:optarg, :b,
                s(:int, 42))), nil),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:send,
                s(:send,
                  s(:lvar, :obj), :method,
                  s(:sym, :foo)), :to_proc), :curry,
              s(:int, 3))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args,
                  s(:arg, :a),
                  s(:optarg, :b,
                    s(:int, 42))), nil), :curry,
              s(:int, 3))))),
      s(:def, :test_dup_clone,
        s(:args),
        s(:begin,
          s(:lvasgn, :b,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :x)),
              s(:send,
                s(:lvar, :x), :+,
                s(:str, "bar")))),
          s(:sclass,
            s(:lvar, :b),
            s(:send, nil, :attr_accessor,
              s(:sym, :foo))),
          s(:lvasgn, :bd,
            s(:send,
              s(:lvar, :b), :dup)),
          s(:send, nil, :assert_equal,
            s(:str, "foobar"),
            s(:send,
              s(:lvar, :bd), :call,
              s(:str, "foo"))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :NoMethodError)),
            s(:args),
            s(:send,
              s(:lvar, :bd), :foo=,
              s(:sym, :foo))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :NoMethodError)),
            s(:args),
            s(:send,
              s(:lvar, :bd), :foo)),
          s(:lvasgn, :bc,
            s(:send,
              s(:lvar, :b), :clone)),
          s(:send, nil, :assert_equal,
            s(:str, "foobar"),
            s(:send,
              s(:lvar, :bc), :call,
              s(:str, "foo"))),
          s(:send,
            s(:lvar, :bc), :foo=,
            s(:sym, :foo)),
          s(:send, nil, :assert_equal,
            s(:sym, :foo),
            s(:send,
              s(:lvar, :bc), :foo)))),
      s(:def, :test_binding,
        s(:args),
        s(:begin,
          s(:lvasgn, :b,
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :x),
                  s(:arg, :y),
                  s(:arg, :z)),
                s(:send,
                  s(:block,
                    s(:send, nil, :proc),
                    s(:args), nil), :binding)), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:sclass,
            s(:lvar, :b),
            s(:send, nil, :attr_accessor,
              s(:sym, :foo))),
          s(:lvasgn, :bd,
            s(:send,
              s(:lvar, :b), :dup)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :bd), :eval,
              s(:str, "[x, y, z]"))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :NoMethodError)),
            s(:args),
            s(:send,
              s(:lvar, :bd), :foo=,
              s(:sym, :foo))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :NoMethodError)),
            s(:args),
            s(:send,
              s(:lvar, :bd), :foo)),
          s(:lvasgn, :bc,
            s(:send,
              s(:lvar, :b), :clone)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :bc), :eval,
              s(:str, "[x, y, z]"))),
          s(:send,
            s(:lvar, :bc), :foo=,
            s(:sym, :foo)),
          s(:send, nil, :assert_equal,
            s(:sym, :foo),
            s(:send,
              s(:lvar, :bc), :foo)),
          s(:lvasgn, :b,
            s(:nil)),
          s(:block,
            s(:send,
              s(:int, 1), :times),
            s(:args),
            s(:begin,
              s(:masgn,
                s(:mlhs,
                  s(:lvasgn, :x),
                  s(:lvasgn, :y),
                  s(:lvasgn, :z)),
                s(:array,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3))),
              s(:array,
                s(:lvar, :x),
                s(:lvar, :y),
                s(:lvar, :z)),
              s(:lvasgn, :b,
                s(:send, nil, :binding)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :b), :eval,
              s(:str, "[x, y, z]"))))),
      s(:def, :test_proc_lambda,
        s(:args),
        s(:begin,
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send, nil, :proc)),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send, nil, :lambda)),
          s(:lvasgn, :o,
            s(:send,
              s(:const, nil, :Object), :new)),
          s(:defs,
            s(:lvar, :o), :foo,
            s(:args),
            s(:begin,
              s(:lvasgn, :b,
                s(:nil)),
              s(:block,
                s(:send,
                  s(:int, 1), :times),
                s(:args),
                s(:lvasgn, :b,
                  s(:send, nil, :lambda))),
              s(:lvar, :b))),
          s(:send, nil, :assert_equal,
            s(:sym, :foo),
            s(:send,
              s(:block,
                s(:send,
                  s(:lvar, :o), :foo),
                s(:args),
                s(:sym, :foo)), :call)),
          s(:defs,
            s(:lvar, :o), :foo,
            s(:args,
              s(:blockarg, :b)),
            s(:begin,
              s(:lvasgn, :b,
                s(:nil)),
              s(:block,
                s(:send,
                  s(:int, 1), :times),
                s(:args),
                s(:lvasgn, :b,
                  s(:send, nil, :lambda))),
              s(:lvar, :b))),
          s(:send, nil, :assert_equal,
            s(:sym, :foo),
            s(:send,
              s(:block,
                s(:send,
                  s(:lvar, :o), :foo),
                s(:args),
                s(:sym, :foo)), :call)))),
      s(:def, :test_arity2,
        s(:args),
        s(:begin,
          s(:send, nil, :assert_equal,
            s(:int, 0),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :proc)), :to_proc), :arity)),
          s(:send, nil, :assert_equal,
            s(:int, -1),
            s(:send,
              s(:send,
                s(:block,
                  s(:send, nil, :proc),
                  s(:args), nil), :curry), :arity)),
          s(:lvasgn, :c,
            s(:send,
              s(:const, nil, :Class), :new)),
          s(:block,
            s(:send,
              s(:lvar, :c), :class_eval),
            s(:args),
            s(:send, nil, :attr_accessor,
              s(:sym, :foo))),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:send,
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :c), :new), :method,
                  s(:sym, :foo=)), :to_proc), :arity)))),
      s(:def, :test_proc_location,
        s(:args),
        s(:begin,
          s(:lvasgn, :t,
            s(:block,
              s(:send,
                s(:const, nil, :Thread), :new),
              s(:args),
              s(:send, nil, :sleep))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ThreadError)),
            s(:args),
            s(:block,
              s(:send,
                s(:lvar, :t), :instance_eval),
              s(:args),
              s(:block,
                s(:send, nil, :initialize),
                s(:args), nil))),
          s(:send,
            s(:lvar, :t), :kill),
          s(:send,
            s(:lvar, :t), :join))),
      s(:def, :test_to_proc,
        s(:args),
        s(:begin,
          s(:lvasgn, :b,
            s(:block,
              s(:send, nil, :proc),
              s(:args),
              s(:sym, :foo))),
          s(:send, nil, :assert_equal,
            s(:sym, :foo),
            s(:send,
              s(:send,
                s(:lvar, :b), :to_proc), :call)))),
      s(:def, :test_localjump_error,
        s(:args),
        s(:begin,
          s(:lvasgn, :o,
            s(:lvasgn, :o,
              s(:send,
                s(:const, nil, :Object), :new))),
          s(:def, :foo,
            s(:args),
            s(:yield)),
          s(:lvasgn, :exc,
            s(:rescue,
              s(:send, nil, :foo),
              s(:resbody, nil, nil,
                s(:gvar, :$!)), nil)),
          s(:send, nil, :assert_nil,
            s(:send,
              s(:lvar, :exc), :exit_value)),
          s(:send, nil, :assert_equal,
            s(:sym, :noreason),
            s(:send,
              s(:lvar, :exc), :reason)))),
      s(:def, :test_curry_binding,
        s(:args),
        s(:block,
          s(:send, nil, :assert_raise,
            s(:const, nil, :ArgumentError)),
          s(:args),
          s(:send,
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args), nil), :curry), :binding))),
      s(:def, :test_proc_args_plain,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :a),
                s(:arg, :b),
                s(:arg, :c),
                s(:arg, :d),
                s(:arg, :e)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c),
                s(:lvar, :d),
                s(:lvar, :e)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:nil),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:nil),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:nil),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:nil),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:nil),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:nil),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5),
                s(:int, 6)))),
          s(:lvasgn, :r,
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :a)),
                s(:lvar, :a)), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:lvar, :r)),
          s(:lvasgn, :r,
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :a)),
                s(:lvar, :a)), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)))),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:lvar, :r)),
          s(:lvasgn, :r,
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :a)),
                s(:lvar, :a)), :call,
              s(:array))),
          s(:send, nil, :assert_equal,
            s(:nil),
            s(:lvar, :r)))),
      s(:def, :test_proc_args_rest,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :a),
                s(:arg, :b),
                s(:arg, :c),
                s(:restarg, :d)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c),
                s(:lvar, :d)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:nil),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:nil),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:nil),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4))),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4),
                s(:int, 5))),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4),
                s(:int, 5),
                s(:int, 6))),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:nil),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:nil),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:nil),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4))),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4),
                s(:int, 5))),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4),
                s(:int, 5),
                s(:int, 6))),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5),
                s(:int, 6)))),
          s(:lvasgn, :r,
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:restarg, :a)),
                s(:lvar, :a)), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3))),
            s(:lvar, :r)))),
      s(:def, :test_proc_args_pos_rest_post,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :a),
                s(:arg, :b),
                s(:restarg, :c),
                s(:arg, :d),
                s(:arg, :e)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c),
                s(:lvar, :d),
                s(:lvar, :e)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array),
              s(:int, 3),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array),
              s(:int, 3),
              s(:int, 4)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3)),
              s(:int, 4),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3),
                s(:int, 4)),
              s(:int, 5),
              s(:int, 6)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3),
                s(:int, 4),
                s(:int, 5)),
              s(:int, 6),
              s(:int, 7)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:int, 7))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array),
              s(:int, 3),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array),
              s(:int, 3),
              s(:int, 4)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3)),
              s(:int, 4),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3),
                s(:int, 4)),
              s(:int, 5),
              s(:int, 6)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5),
                s(:int, 6)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3),
                s(:int, 4),
                s(:int, 5)),
              s(:int, 6),
              s(:int, 7)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5),
                s(:int, 6),
                s(:int, 7)))))),
      s(:def, :test_proc_args_rest_post,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:restarg, :a),
                s(:arg, :b),
                s(:arg, :c)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:int, 1),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:int, 1),
              s(:int, 2)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1)),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:int, 3),
              s(:int, 4)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)),
              s(:int, 4),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4)),
              s(:int, 5),
              s(:int, 6)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5)),
              s(:int, 6),
              s(:int, 7)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:int, 7))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:int, 1),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:int, 1),
              s(:int, 2)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1)),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:int, 3),
              s(:int, 4)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)),
              s(:int, 4),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4)),
              s(:int, 5),
              s(:int, 6)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5),
                s(:int, 6)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5)),
              s(:int, 6),
              s(:int, 7)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5),
                s(:int, 6),
                s(:int, 7)))))),
      s(:def, :test_proc_args_pos_opt,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :a),
                s(:arg, :b),
                s(:optarg, :c,
                  s(:sym, :c))),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5),
                s(:int, 6)))))),
      s(:def, :test_proc_args_opt,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:optarg, :a,
                  s(:sym, :a)),
                s(:optarg, :b,
                  s(:sym, :b)),
                s(:optarg, :c,
                  s(:sym, :c))),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5),
                s(:int, 6)))))),
      s(:def, :test_proc_args_opt_single,
        s(:args),
        s(:begin,
          s(:lvasgn, :bug7621,
            s(:str, "[ruby-dev:46801]")),
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:optarg, :a,
                  s(:sym, :a))),
              s(:lvar, :a))),
          s(:send, nil, :assert_equal,
            s(:sym, :a),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array)),
            s(:lvar, :bug7621)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1))),
            s(:lvar, :bug7621)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2))),
            s(:lvar, :bug7621)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3))),
            s(:lvar, :bug7621)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4))),
            s(:lvar, :bug7621)))),
      s(:def, :test_proc_args_pos_opt_post,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :a),
                s(:arg, :b),
                s(:optarg, :c,
                  s(:sym, :c)),
                s(:arg, :d),
                s(:arg, :e)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c),
                s(:lvar, :d),
                s(:lvar, :e)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:int, 3),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:int, 3),
              s(:int, 4)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:int, 3),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:int, 3),
              s(:int, 4)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5),
                s(:int, 6)))))),
      s(:def, :test_proc_args_opt_post,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:optarg, :a,
                  s(:sym, :a)),
                s(:optarg, :b,
                  s(:sym, :b)),
                s(:optarg, :c,
                  s(:sym, :c)),
                s(:arg, :d),
                s(:arg, :e)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c),
                s(:lvar, :d),
                s(:lvar, :e)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:int, 1),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:int, 1),
              s(:int, 2)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:int, 3),
              s(:int, 4)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:nil),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:int, 1),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:int, 1),
              s(:int, 2)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c),
              s(:int, 2),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:int, 3),
              s(:int, 4)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5),
                s(:int, 6)))))),
      s(:def, :test_proc_args_pos_opt_rest,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :a),
                s(:arg, :b),
                s(:optarg, :c,
                  s(:sym, :c)),
                s(:restarg, :d)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c),
                s(:lvar, :d)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4))),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4),
                s(:int, 5))),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4))),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4),
                s(:int, 5))),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5)))))),
      s(:def, :test_proc_args_opt_rest,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:optarg, :a,
                  s(:sym, :a)),
                s(:optarg, :b,
                  s(:sym, :b)),
                s(:optarg, :c,
                  s(:sym, :c)),
                s(:restarg, :d)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c),
                s(:lvar, :d)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4))),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4),
                s(:int, 5))),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4))),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4),
                s(:int, 5))),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5)))))),
      s(:def, :test_proc_args_pos_opt_rest_post,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :a),
                s(:arg, :b),
                s(:optarg, :c,
                  s(:sym, :c)),
                s(:restarg, :d),
                s(:arg, :e)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c),
                s(:lvar, :d),
                s(:lvar, :e)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c),
              s(:array),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c),
              s(:array),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:array),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:array),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array),
              s(:int, 4)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4)),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4),
                s(:int, 5)),
              s(:int, 6)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c),
              s(:array),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c),
              s(:array),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:array),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:array),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array),
              s(:int, 4)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4)),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4),
                s(:int, 5)),
              s(:int, 6)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5),
                s(:int, 6)))))),
      s(:def, :test_proc_args_opt_rest_post,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:optarg, :a,
                  s(:sym, :a)),
                s(:optarg, :b,
                  s(:sym, :b)),
                s(:optarg, :c,
                  s(:sym, :c)),
                s(:restarg, :d),
                s(:arg, :e)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c),
                s(:lvar, :d),
                s(:lvar, :e)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:array),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:array),
              s(:int, 1)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c),
              s(:array),
              s(:int, 2)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:array),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array),
              s(:int, 4)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4)),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4),
                s(:int, 5)),
              s(:int, 6)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:array),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:array),
              s(:int, 1)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c),
              s(:array),
              s(:int, 2)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:array),
              s(:int, 3)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array),
              s(:int, 4)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4)),
              s(:int, 5)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:array,
                s(:int, 4),
                s(:int, 5)),
              s(:int, 6)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4),
                s(:int, 5),
                s(:int, 6)))))),
      s(:def, :test_proc_args_pos_block,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :a),
                s(:arg, :b),
                s(:blockarg, :c)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:send,
                  s(:lvar, :c), :class),
                s(:and,
                  s(:lvar, :c),
                  s(:send,
                    s(:lvar, :c), :call,
                    s(:sym, :x)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:array,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 4)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))))),
      s(:def, :test_proc_args_pos_rest_block,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :a),
                s(:arg, :b),
                s(:restarg, :c),
                s(:blockarg, :d)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c),
                s(:send,
                  s(:lvar, :d), :class),
                s(:and,
                  s(:lvar, :d),
                  s(:send,
                    s(:lvar, :d), :call,
                    s(:sym, :x)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3)),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3),
                s(:int, 4)),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3)),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3),
                s(:int, 4)),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3)),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3),
                s(:int, 4)),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))))),
      s(:def, :test_proc_args_rest_block,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:restarg, :c),
                s(:blockarg, :d)),
              s(:array,
                s(:lvar, :c),
                s(:send,
                  s(:lvar, :d), :class),
                s(:and,
                  s(:lvar, :d),
                  s(:send,
                    s(:lvar, :d), :call,
                    s(:sym, :x)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1)),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1)),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1)),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))))),
      s(:def, :test_proc_args_pos_rest_post_block,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :a),
                s(:arg, :b),
                s(:restarg, :c),
                s(:arg, :d),
                s(:arg, :e),
                s(:blockarg, :f)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c),
                s(:lvar, :d),
                s(:lvar, :e),
                s(:send,
                  s(:lvar, :f), :class),
                s(:and,
                  s(:lvar, :f),
                  s(:send,
                    s(:lvar, :f), :call,
                    s(:sym, :x)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array),
              s(:int, 3),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3)),
              s(:int, 4),
              s(:int, 5),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3),
                s(:int, 4)),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array),
              s(:int, 3),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3)),
              s(:int, 4),
              s(:int, 5),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3),
                s(:int, 4)),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array),
              s(:int, 3),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3)),
              s(:int, 4),
              s(:int, 5),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3),
                s(:int, 4)),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))))),
      s(:def, :test_proc_args_rest_post_block,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:restarg, :c),
                s(:arg, :d),
                s(:arg, :e),
                s(:blockarg, :f)),
              s(:array,
                s(:lvar, :c),
                s(:lvar, :d),
                s(:lvar, :e),
                s(:send,
                  s(:lvar, :f), :class),
                s(:and,
                  s(:lvar, :f),
                  s(:send,
                    s(:lvar, :f), :call,
                    s(:sym, :x)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:int, 1),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1)),
              s(:int, 2),
              s(:int, 3),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:int, 1),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1)),
              s(:int, 2),
              s(:int, 3),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:int, 1),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array),
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1)),
              s(:int, 2),
              s(:int, 3),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:int, 1),
                s(:int, 2)),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))))),
      s(:def, :test_proc_args_pos_opt_block,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :a),
                s(:arg, :b),
                s(:optarg, :c,
                  s(:sym, :c)),
                s(:optarg, :d,
                  s(:sym, :d)),
                s(:blockarg, :e)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c),
                s(:lvar, :d),
                s(:send,
                  s(:lvar, :e), :class),
                s(:and,
                  s(:lvar, :e),
                  s(:send,
                    s(:lvar, :e), :call,
                    s(:sym, :x)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))))),
      s(:def, :test_proc_args_opt_block,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:optarg, :a,
                  s(:sym, :a)),
                s(:optarg, :b,
                  s(:sym, :b)),
                s(:optarg, :c,
                  s(:sym, :c)),
                s(:optarg, :d,
                  s(:sym, :d)),
                s(:blockarg, :e)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c),
                s(:lvar, :d),
                s(:send,
                  s(:lvar, :e), :class),
                s(:and,
                  s(:lvar, :e),
                  s(:send,
                    s(:lvar, :e), :call,
                    s(:sym, :x)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))))),
      s(:def, :test_proc_args_pos_opt_post_block,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :a),
                s(:arg, :b),
                s(:optarg, :c,
                  s(:sym, :c)),
                s(:optarg, :d,
                  s(:sym, :d)),
                s(:arg, :e),
                s(:arg, :f),
                s(:blockarg, :g)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c),
                s(:lvar, :d),
                s(:lvar, :e),
                s(:lvar, :f),
                s(:send,
                  s(:lvar, :g), :class),
                s(:and,
                  s(:lvar, :g),
                  s(:send,
                    s(:lvar, :g), :call,
                    s(:sym, :x)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:nil),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:nil),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:nil),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:int, 3),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:int, 4),
              s(:int, 5),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:int, 7))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:int, 3),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:int, 4),
              s(:int, 5),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6),
                  s(:int, 7)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:int, 3),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:int, 4),
              s(:int, 5),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6),
                  s(:int, 7)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))))),
      s(:def, :test_proc_args_opt_post_block,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:optarg, :a,
                  s(:sym, :a)),
                s(:optarg, :b,
                  s(:sym, :b)),
                s(:optarg, :c,
                  s(:sym, :c)),
                s(:optarg, :d,
                  s(:sym, :d)),
                s(:arg, :e),
                s(:arg, :f),
                s(:blockarg, :g)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c),
                s(:lvar, :d),
                s(:lvar, :e),
                s(:lvar, :f),
                s(:send,
                  s(:lvar, :g), :class),
                s(:and,
                  s(:lvar, :g),
                  s(:send,
                    s(:lvar, :g), :call,
                    s(:sym, :x)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:nil),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:int, 1),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:int, 2),
              s(:int, 3),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:int, 4),
              s(:int, 5),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:int, 7))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:int, 1),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:int, 2),
              s(:int, 3),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:int, 4),
              s(:int, 5),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6),
                  s(:int, 7)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:int, 1),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:int, 2),
              s(:int, 3),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:int, 4),
              s(:int, 5),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6),
                  s(:int, 7)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))))),
      s(:def, :test_proc_args_pos_opt_rest_block,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :a),
                s(:arg, :b),
                s(:optarg, :c,
                  s(:sym, :c)),
                s(:optarg, :d,
                  s(:sym, :d)),
                s(:restarg, :e),
                s(:blockarg, :f)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c),
                s(:lvar, :d),
                s(:lvar, :e),
                s(:send,
                  s(:lvar, :f), :class),
                s(:and,
                  s(:lvar, :f),
                  s(:send,
                    s(:lvar, :f), :call,
                    s(:sym, :x)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5)),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5),
                s(:int, 6)),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5)),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5),
                s(:int, 6)),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5)),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5),
                s(:int, 6)),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))))),
      s(:def, :test_proc_args_opt_rest_block,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:optarg, :a,
                  s(:sym, :a)),
                s(:optarg, :b,
                  s(:sym, :b)),
                s(:optarg, :c,
                  s(:sym, :c)),
                s(:optarg, :d,
                  s(:sym, :d)),
                s(:restarg, :e),
                s(:blockarg, :f)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c),
                s(:lvar, :d),
                s(:lvar, :e),
                s(:send,
                  s(:lvar, :f), :class),
                s(:and,
                  s(:lvar, :f),
                  s(:send,
                    s(:lvar, :f), :call,
                    s(:sym, :x)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5)),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5),
                s(:int, 6)),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5)),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5),
                s(:int, 6)),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5)),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5),
                s(:int, 6)),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))))),
      s(:def, :test_proc_args_pos_opt_rest_post_block,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:arg, :a),
                s(:arg, :b),
                s(:optarg, :c,
                  s(:sym, :c)),
                s(:optarg, :d,
                  s(:sym, :d)),
                s(:restarg, :e),
                s(:arg, :f),
                s(:arg, :g),
                s(:blockarg, :h)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c),
                s(:lvar, :d),
                s(:lvar, :e),
                s(:lvar, :f),
                s(:lvar, :g),
                s(:send,
                  s(:lvar, :h), :class),
                s(:and,
                  s(:lvar, :h),
                  s(:send,
                    s(:lvar, :h), :call,
                    s(:sym, :x)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:int, 3),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:array),
              s(:int, 4),
              s(:int, 5),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5)),
              s(:int, 6),
              s(:int, 7),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:int, 7))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5),
                s(:int, 6)),
              s(:int, 7),
              s(:int, 8),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:int, 7),
              s(:int, 8))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:int, 3),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:array),
              s(:int, 4),
              s(:int, 5),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5)),
              s(:int, 6),
              s(:int, 7),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6),
                  s(:int, 7)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5),
                s(:int, 6)),
              s(:int, 7),
              s(:int, 8),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6),
                  s(:int, 7),
                  s(:int, 8)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:nil),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:nil),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:int, 3),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:array),
              s(:int, 4),
              s(:int, 5),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5)),
              s(:int, 6),
              s(:int, 7),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6),
                  s(:int, 7)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5),
                s(:int, 6)),
              s(:int, 7),
              s(:int, 8),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6),
                  s(:int, 7),
                  s(:int, 8)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))))),
      s(:def, :test_proc_args_opt_rest_post_block,
        s(:args),
        s(:begin,
          s(:lvasgn, :pr,
            s(:block,
              s(:send, nil, :proc),
              s(:args,
                s(:optarg, :a,
                  s(:sym, :a)),
                s(:optarg, :b,
                  s(:sym, :b)),
                s(:optarg, :c,
                  s(:sym, :c)),
                s(:optarg, :d,
                  s(:sym, :d)),
                s(:restarg, :e),
                s(:arg, :f),
                s(:arg, :g),
                s(:blockarg, :h)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b),
                s(:lvar, :c),
                s(:lvar, :d),
                s(:lvar, :e),
                s(:lvar, :f),
                s(:lvar, :g),
                s(:send,
                  s(:lvar, :h), :class),
                s(:and,
                  s(:lvar, :h),
                  s(:send,
                    s(:lvar, :h), :call,
                    s(:sym, :x)))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:int, 1),
              s(:nil),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:int, 2),
              s(:int, 3),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:array),
              s(:int, 4),
              s(:int, 5),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5)),
              s(:int, 6),
              s(:int, 7),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:int, 7))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5),
                s(:int, 6)),
              s(:int, 7),
              s(:int, 8),
              s(:const, nil, :NilClass),
              s(:nil)),
            s(:send,
              s(:lvar, :pr), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:int, 7),
              s(:int, 8))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:int, 1),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:int, 2),
              s(:int, 3),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:array),
              s(:int, 4),
              s(:int, 5),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5)),
              s(:int, 6),
              s(:int, 7),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6),
                  s(:int, 7)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5),
                s(:int, 6)),
              s(:int, 7),
              s(:int, 8),
              s(:const, nil, :Proc),
              s(:sym, :proc)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6),
                  s(:int, 7),
                  s(:int, 8)),
                s(:args),
                s(:sym, :proc)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:nil),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:int, 1),
              s(:nil),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:int, 1),
              s(:int, 2),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:sym, :b),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:int, 2),
              s(:int, 3),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:sym, :c),
              s(:sym, :d),
              s(:array),
              s(:int, 3),
              s(:int, 4),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:sym, :d),
              s(:array),
              s(:int, 4),
              s(:int, 5),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array),
              s(:int, 5),
              s(:int, 6),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5)),
              s(:int, 6),
              s(:int, 7),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6),
                  s(:int, 7)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:array,
                s(:int, 5),
                s(:int, 6)),
              s(:int, 7),
              s(:int, 8),
              s(:const, nil, :Proc),
              s(:sym, :x)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :pr), :call,
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 4),
                  s(:int, 5),
                  s(:int, 6),
                  s(:int, 7),
                  s(:int, 8)),
                s(:args,
                  s(:arg, :x)),
                s(:lvar, :x)))))),
      s(:def, :test_proc_args_pos_unleashed,
        s(:args),
        s(:begin,
          s(:lvasgn, :r,
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :a),
                  s(:optarg, :b,
                    s(:int, 1)),
                  s(:restarg, :c),
                  s(:arg, :d),
                  s(:arg, :e)),
                s(:array,
                  s(:lvar, :a),
                  s(:lvar, :b),
                  s(:lvar, :c),
                  s(:lvar, :d),
                  s(:lvar, :e))), :call,
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1),
              s(:int, 2),
              s(:array,
                s(:int, 3)),
              s(:int, 4),
              s(:int, 5)),
            s(:lvar, :r),
            s(:str, "[ruby-core:19485]")))),
      s(:def, :test_parameters,
        s(:args),
        s(:begin,
          s(:send, nil, :assert_equal,
            s(:array),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args), nil), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args), nil), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :opt),
                s(:sym, :a))),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :a)), nil), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :opt),
                s(:sym, :a)),
              s(:array,
                s(:sym, :opt),
                s(:sym, :b))),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :a),
                  s(:arg, :b)), nil), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :opt),
                s(:sym, :a)),
              s(:array,
                s(:sym, :block),
                s(:sym, :b))),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:optarg, :a,
                    s(:sym, :a)),
                  s(:blockarg, :b)), nil), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :opt),
                s(:sym, :a)),
              s(:array,
                s(:sym, :opt),
                s(:sym, :b))),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :a),
                  s(:optarg, :b,
                    s(:sym, :b))), nil), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :rest),
                s(:sym, :a))),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:restarg, :a)), nil), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :opt),
                s(:sym, :a)),
              s(:array,
                s(:sym, :rest),
                s(:sym, :b)),
              s(:array,
                s(:sym, :block),
                s(:sym, :c))),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :a),
                  s(:restarg, :b),
                  s(:blockarg, :c)), nil), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :opt),
                s(:sym, :a)),
              s(:array,
                s(:sym, :rest),
                s(:sym, :b)),
              s(:array,
                s(:sym, :opt),
                s(:sym, :c))),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :a),
                  s(:restarg, :b),
                  s(:arg, :c)), nil), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :opt),
                s(:sym, :a)),
              s(:array,
                s(:sym, :rest),
                s(:sym, :b)),
              s(:array,
                s(:sym, :opt),
                s(:sym, :c)),
              s(:array,
                s(:sym, :block),
                s(:sym, :d))),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :a),
                  s(:restarg, :b),
                  s(:arg, :c),
                  s(:blockarg, :d)), nil), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :opt),
                s(:sym, :a)),
              s(:array,
                s(:sym, :opt),
                s(:sym, :b)),
              s(:array,
                s(:sym, :rest),
                s(:sym, :c)),
              s(:array,
                s(:sym, :opt),
                s(:sym, :d)),
              s(:array,
                s(:sym, :block),
                s(:sym, :e))),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :a),
                  s(:optarg, :b,
                    s(:sym, :b)),
                  s(:restarg, :c),
                  s(:arg, :d),
                  s(:blockarg, :e)), nil), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :opt),
                s(:nil)),
              s(:array,
                s(:sym, :block),
                s(:sym, :b))),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:mlhs,
                    s(:arg, :a)),
                  s(:blockarg, :b)),
                s(:lvar, :a)), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :opt),
                s(:sym, :a)),
              s(:array,
                s(:sym, :opt),
                s(:sym, :b)),
              s(:array,
                s(:sym, :opt),
                s(:sym, :c)),
              s(:array,
                s(:sym, :opt),
                s(:sym, :d)),
              s(:array,
                s(:sym, :rest),
                s(:sym, :e)),
              s(:array,
                s(:sym, :opt),
                s(:sym, :f)),
              s(:array,
                s(:sym, :opt),
                s(:sym, :g)),
              s(:array,
                s(:sym, :block),
                s(:sym, :h))),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args,
                  s(:arg, :a),
                  s(:arg, :b),
                  s(:optarg, :c,
                    s(:sym, :c)),
                  s(:optarg, :d,
                    s(:sym, :d)),
                  s(:restarg, :e),
                  s(:arg, :f),
                  s(:arg, :g),
                  s(:blockarg, :h)), nil), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :req))),
            s(:send,
              s(:send, nil, :method,
                s(:sym, :putc)), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :rest))),
            s(:send,
              s(:send, nil, :method,
                s(:sym, :p)), :parameters)))),
      s(:def, :pm0,
        s(:args), nil),
      s(:def, :pm1,
        s(:args,
          s(:arg, :a)), nil),
      s(:def, :pm2,
        s(:args,
          s(:arg, :a),
          s(:arg, :b)), nil),
      s(:def, :pmo1,
        s(:args,
          s(:optarg, :a,
            s(:sym, :a)),
          s(:blockarg, :b)), nil),
      s(:def, :pmo2,
        s(:args,
          s(:arg, :a),
          s(:optarg, :b,
            s(:sym, :b))), nil),
      s(:def, :pmo3,
        s(:args,
          s(:restarg, :a)), nil),
      s(:def, :pmo4,
        s(:args,
          s(:arg, :a),
          s(:restarg, :b),
          s(:blockarg, :c)), nil),
      s(:def, :pmo5,
        s(:args,
          s(:arg, :a),
          s(:restarg, :b),
          s(:arg, :c)), nil),
      s(:def, :pmo6,
        s(:args,
          s(:arg, :a),
          s(:restarg, :b),
          s(:arg, :c),
          s(:blockarg, :d)), nil),
      s(:def, :pmo7,
        s(:args,
          s(:arg, :a),
          s(:optarg, :b,
            s(:sym, :b)),
          s(:restarg, :c),
          s(:arg, :d),
          s(:blockarg, :e)), nil),
      s(:def, :pma1,
        s(:args,
          s(:mlhs,
            s(:arg, :a)),
          s(:blockarg, :b)),
        s(:lvar, :a)),
      s(:def, :pmk1,
        s(:args,
          s(:kwrestarg)), nil),
      s(:def, :pmk2,
        s(:args,
          s(:kwrestarg, :o)),
        s(:and,
          s(:nil),
          s(:lvar, :o))),
      s(:def, :pmk3,
        s(:args,
          s(:arg, :a),
          s(:kwrestarg, :o)),
        s(:and,
          s(:nil),
          s(:lvar, :o))),
      s(:def, :pmk4,
        s(:args,
          s(:optarg, :a,
            s(:nil)),
          s(:kwrestarg, :o)),
        s(:and,
          s(:nil),
          s(:lvar, :o))),
      s(:def, :pmk5,
        s(:args,
          s(:arg, :a),
          s(:optarg, :b,
            s(:nil)),
          s(:kwrestarg, :o)),
        s(:and,
          s(:nil),
          s(:lvar, :o))),
      s(:def, :pmk6,
        s(:args,
          s(:arg, :a),
          s(:optarg, :b,
            s(:nil)),
          s(:arg, :c),
          s(:kwrestarg, :o)),
        s(:and,
          s(:nil),
          s(:lvar, :o))),
      s(:def, :pmk7,
        s(:args,
          s(:arg, :a),
          s(:optarg, :b,
            s(:nil)),
          s(:restarg, :c),
          s(:arg, :d),
          s(:kwrestarg, :o)),
        s(:and,
          s(:nil),
          s(:lvar, :o))),
      s(:def, :test_bound_parameters,
        s(:args),
        s(:begin,
          s(:send, nil, :assert_equal,
            s(:array),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :pm0)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :req),
                s(:sym, :a))),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :pm1)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :req),
                s(:sym, :a)),
              s(:array,
                s(:sym, :req),
                s(:sym, :b))),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :pm2)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :opt),
                s(:sym, :a)),
              s(:array,
                s(:sym, :block),
                s(:sym, :b))),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :pmo1)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :req),
                s(:sym, :a)),
              s(:array,
                s(:sym, :opt),
                s(:sym, :b))),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :pmo2)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :rest),
                s(:sym, :a))),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :pmo3)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :req),
                s(:sym, :a)),
              s(:array,
                s(:sym, :rest),
                s(:sym, :b)),
              s(:array,
                s(:sym, :block),
                s(:sym, :c))),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :pmo4)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :req),
                s(:sym, :a)),
              s(:array,
                s(:sym, :rest),
                s(:sym, :b)),
              s(:array,
                s(:sym, :req),
                s(:sym, :c))),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :pmo5)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :req),
                s(:sym, :a)),
              s(:array,
                s(:sym, :rest),
                s(:sym, :b)),
              s(:array,
                s(:sym, :req),
                s(:sym, :c)),
              s(:array,
                s(:sym, :block),
                s(:sym, :d))),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :pmo6)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :req),
                s(:sym, :a)),
              s(:array,
                s(:sym, :opt),
                s(:sym, :b)),
              s(:array,
                s(:sym, :rest),
                s(:sym, :c)),
              s(:array,
                s(:sym, :req),
                s(:sym, :d)),
              s(:array,
                s(:sym, :block),
                s(:sym, :e))),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :pmo7)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :req)),
              s(:array,
                s(:sym, :block),
                s(:sym, :b))),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :pma1)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :keyrest))),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :pmk1)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :keyrest),
                s(:sym, :o))),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :pmk2)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :req),
                s(:sym, :a)),
              s(:array,
                s(:sym, :keyrest),
                s(:sym, :o))),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :pmk3)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :opt),
                s(:sym, :a)),
              s(:array,
                s(:sym, :keyrest),
                s(:sym, :o))),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :pmk4)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :req),
                s(:sym, :a)),
              s(:array,
                s(:sym, :opt),
                s(:sym, :b)),
              s(:array,
                s(:sym, :keyrest),
                s(:sym, :o))),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :pmk5)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :req),
                s(:sym, :a)),
              s(:array,
                s(:sym, :opt),
                s(:sym, :b)),
              s(:array,
                s(:sym, :req),
                s(:sym, :c)),
              s(:array,
                s(:sym, :keyrest),
                s(:sym, :o))),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :pmk6)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :req),
                s(:sym, :a)),
              s(:array,
                s(:sym, :opt),
                s(:sym, :b)),
              s(:array,
                s(:sym, :rest),
                s(:sym, :c)),
              s(:array,
                s(:sym, :req),
                s(:sym, :d)),
              s(:array,
                s(:sym, :keyrest),
                s(:sym, :o))),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :pmk7)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array),
            s(:send,
              s(:send,
                s(:send,
                  s(:str, ""), :method,
                  s(:sym, :upcase)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :rest))),
            s(:send,
              s(:send,
                s(:send,
                  s(:str, ""), :method,
                  s(:sym, :gsub)), :to_proc), :parameters)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:array,
                s(:sym, :rest))),
            s(:send,
              s(:send,
                s(:block,
                  s(:send, nil, :proc),
                  s(:args), nil), :curry), :parameters)))),
      s(:def, :test_to_s,
        s(:args),
        s(:begin,
          s(:send, nil, :assert_match,
            s(:regexp,
              s(:str, "^#<Proc:0x\\h+@"),
              s(:begin,
                s(:send,
                  s(:const, nil, :Regexp), :quote,
                  s(:str, "(string)"))),
              s(:str, ":\\d+>$"),
              s(:regopt)),
            s(:send,
              s(:block,
                s(:send, nil, :proc),
                s(:args), nil), :to_s)),
          s(:send, nil, :assert_match,
            s(:regexp,
              s(:str, "^#<Proc:0x\\h+@"),
              s(:begin,
                s(:send,
                  s(:const, nil, :Regexp), :quote,
                  s(:str, "(string)"))),
              s(:str, ":\\d+ \\(lambda\\)>$"),
              s(:regopt)),
            s(:send,
              s(:block,
                s(:send, nil, :lambda),
                s(:args), nil), :to_s)),
          s(:send, nil, :assert_match,
            s(:regexp,
              s(:str, "^#<Proc:0x\\h+ \\(lambda\\)>$"),
              s(:regopt)),
            s(:send,
              s(:send,
                s(:send, nil, :method,
                  s(:sym, :p)), :to_proc), :to_s)),
          s(:lvasgn, :x,
            s(:block,
              s(:send, nil, :proc),
              s(:args), nil)),
          s(:send,
            s(:lvar, :x), :taint),
          s(:send, nil, :assert_predicate,
            s(:send,
              s(:lvar, :x), :to_s),
            s(:sym, :tainted?)))),
      s(:cvasgn, :@@line_of_source_location_test,
        s(:send,
          s(:int, 1166), :+,
          s(:int, 1))),
      s(:def, :source_location_test,
        s(:args,
          s(:optarg, :a,
            s(:int, 1)),
          s(:optarg, :b,
            s(:int, 2))), nil),
      s(:def, :test_source_location,
        s(:args),
        s(:begin,
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :file),
              s(:lvasgn, :lineno)),
            s(:send,
              s(:send, nil, :method,
                s(:sym, :source_location_test)), :source_location)),
          s(:send, nil, :assert_match,
            s(:regexp,
              s(:str, "^"),
              s(:begin,
                s(:send,
                  s(:const, nil, :Regexp), :quote,
                  s(:str, "(string)"))),
              s(:str, "$"),
              s(:regopt)),
            s(:lvar, :file)),
          s(:send, nil, :assert_equal,
            s(:cvar, :@@line_of_source_location_test),
            s(:lvar, :lineno),
            s(:str, "Bug #2427")))),
      s(:cvasgn, :@@line_of_attr_reader_source_location_test,
        s(:send,
          s(:int, 1177), :+,
          s(:int, 3))),
      s(:cvasgn, :@@line_of_attr_writer_source_location_test,
        s(:send,
          s(:int, 1178), :+,
          s(:int, 3))),
      s(:cvasgn, :@@line_of_attr_accessor_source_location_test,
        s(:send,
          s(:int, 1179), :+,
          s(:int, 3))),
      s(:send, nil, :attr_reader,
        s(:sym, :attr_reader_source_location_test)),
      s(:send, nil, :attr_writer,
        s(:sym, :attr_writer_source_location_test)),
      s(:send, nil, :attr_accessor,
        s(:sym, :attr_accessor_source_location_test)),
      s(:def, :test_attr_source_location,
        s(:args),
        s(:begin,
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :file),
              s(:lvasgn, :lineno)),
            s(:send,
              s(:send, nil, :method,
                s(:sym, :attr_reader_source_location_test)), :source_location)),
          s(:send, nil, :assert_match,
            s(:regexp,
              s(:str, "^"),
              s(:begin,
                s(:send,
                  s(:const, nil, :Regexp), :quote,
                  s(:str, "(string)"))),
              s(:str, "$"),
              s(:regopt)),
            s(:lvar, :file)),
          s(:send, nil, :assert_equal,
            s(:cvar, :@@line_of_attr_reader_source_location_test),
            s(:lvar, :lineno)),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :file),
              s(:lvasgn, :lineno)),
            s(:send,
              s(:send, nil, :method,
                s(:sym, :attr_writer_source_location_test=)), :source_location)),
          s(:send, nil, :assert_match,
            s(:regexp,
              s(:str, "^"),
              s(:begin,
                s(:send,
                  s(:const, nil, :Regexp), :quote,
                  s(:str, "(string)"))),
              s(:str, "$"),
              s(:regopt)),
            s(:lvar, :file)),
          s(:send, nil, :assert_equal,
            s(:cvar, :@@line_of_attr_writer_source_location_test),
            s(:lvar, :lineno)),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :file),
              s(:lvasgn, :lineno)),
            s(:send,
              s(:send, nil, :method,
                s(:sym, :attr_accessor_source_location_test)), :source_location)),
          s(:send, nil, :assert_match,
            s(:regexp,
              s(:str, "^"),
              s(:begin,
                s(:send,
                  s(:const, nil, :Regexp), :quote,
                  s(:str, "(string)"))),
              s(:str, "$"),
              s(:regopt)),
            s(:lvar, :file)),
          s(:send, nil, :assert_equal,
            s(:cvar, :@@line_of_attr_accessor_source_location_test),
            s(:lvar, :lineno)),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :file),
              s(:lvasgn, :lineno)),
            s(:send,
              s(:send, nil, :method,
                s(:sym, :attr_accessor_source_location_test=)), :source_location)),
          s(:send, nil, :assert_match,
            s(:regexp,
              s(:str, "^"),
              s(:begin,
                s(:send,
                  s(:const, nil, :Regexp), :quote,
                  s(:str, "(string)"))),
              s(:str, "$"),
              s(:regopt)),
            s(:lvar, :file)),
          s(:send, nil, :assert_equal,
            s(:cvar, :@@line_of_attr_accessor_source_location_test),
            s(:lvar, :lineno)))),
      s(:def, :block_source_location_test,
        s(:args,
          s(:restarg, :args),
          s(:blockarg, :block)),
        s(:send,
          s(:lvar, :block), :source_location)),
      s(:def, :test_block_source_location,
        s(:args),
        s(:begin,
          s(:lvasgn, :exp_lineno,
            s(:send,
              s(:int, 1207), :+,
              s(:int, 3))),
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :file),
              s(:lvasgn, :lineno)),
            s(:block,
              s(:send, nil, :block_source_location_test,
                s(:int, 1),
                s(:int, 2),
                s(:int, 3)),
              s(:args), nil)),
          s(:send, nil, :assert_match,
            s(:regexp,
              s(:str, "^"),
              s(:begin,
                s(:send,
                  s(:const, nil, :Regexp), :quote,
                  s(:str, "(string)"))),
              s(:str, "$"),
              s(:regopt)),
            s(:lvar, :file)),
          s(:send, nil, :assert_equal,
            s(:lvar, :exp_lineno),
            s(:lvar, :lineno)))),
      s(:def, :test_splat_without_respond_to,
        s(:args),
        s(:begin,
          s(:defs,
            s(:lvasgn, :obj,
              s(:send,
                s(:const, nil, :Object), :new)), :respond_to?,
            s(:args,
              s(:arg, :m),
              s(:restarg)),
            s(:false)),
          s(:block,
            s(:send,
              s(:array,
                s(:lvar, :obj)), :each),
            s(:args,
              s(:arg, :a),
              s(:arg, :b)),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:lvar, :obj),
                s(:nil)),
              s(:array,
                s(:lvar, :a),
                s(:lvar, :b)),
              s(:str, "[ruby-core:24139]"))))),
      s(:def, :test_curry_with_trace,
        s(:args),
        s(:ensure,
          s(:begin,
            s(:send, nil, :set_trace_func,
              s(:block,
                s(:send, nil, :proc),
                s(:args), nil)),
            s(:send, nil, :test_curry)),
          s(:send, nil, :set_trace_func,
            s(:nil)))),
      s(:def, :test_block_propagation,
        s(:args),
        s(:begin,
          s(:lvasgn, :bug3792,
            s(:str, "[ruby-core:32075]")),
          s(:lvasgn, :c,
            s(:block,
              s(:send,
                s(:const, nil, :Class), :new),
              s(:args),
              s(:def, :foo,
                s(:args),
                s(:yield)))),
          s(:lvasgn, :o,
            s(:send,
              s(:lvar, :c), :new)),
          s(:lvasgn, :f,
            s(:send,
              s(:sym, :foo), :to_proc)),
          s(:block,
            s(:send, nil, :assert_nothing_raised,
              s(:const, nil, :LocalJumpError),
              s(:lvar, :bug3792)),
            s(:args),
            s(:send, nil, :assert_equal,
              s(:str, "bar"),
              s(:block,
                s(:send,
                  s(:lvar, :f), :call,
                  s(:lvar, :o)),
                s(:args),
                s(:str, "bar")),
              s(:lvar, :bug3792))),
          s(:block,
            s(:send, nil, :assert_nothing_raised,
              s(:const, nil, :LocalJumpError),
              s(:lvar, :bug3792)),
            s(:args),
            s(:send, nil, :assert_equal,
              s(:str, "zot"),
              s(:block,
                s(:send,
                  s(:send,
                    s(:send,
                      s(:lvar, :o), :method,
                      s(:sym, :foo)), :to_proc), :call),
                s(:args),
                s(:str, "zot")),
              s(:lvar, :bug3792))))),
      s(:def, :test_overridden_lambda,
        s(:args),
        s(:begin,
          s(:lvasgn, :bug8345,
            s(:str, "[ruby-core:54687] [Bug #8345]")),
          s(:send, nil, :assert_normal_exit,
            s(:str, "def lambda; end; method(:puts).to_proc"),
            s(:lvar, :bug8345)))),
      s(:def, :test_overridden_proc,
        s(:args),
        s(:begin,
          s(:lvasgn, :bug8345,
            s(:str, "[ruby-core:54688] [Bug #8345]")),
          s(:send, nil, :assert_normal_exit,
            s(:str, "def proc; end; ->{}.curry"),
            s(:lvar, :bug8345)))),
      s(:def, :get_binding,
        s(:args,
          s(:kwoptarg, :if,
            s(:int, 1)),
          s(:kwoptarg, :case,
            s(:int, 2)),
          s(:kwoptarg, :when,
            s(:int, 3)),
          s(:kwoptarg, :begin,
            s(:int, 4)),
          s(:kwoptarg, :end,
            s(:int, 5))),
        s(:begin,
          s(:or_asgn,
            s(:lvasgn, :a),
            s(:int, 0)),
          s(:send, nil, :binding))),
      s(:def, :test_local_variables,
        s(:args),
        s(:begin,
          s(:lvasgn, :b,
            s(:send, nil, :get_binding)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :if),
              s(:sym, :case),
              s(:sym, :when),
              s(:sym, :begin),
              s(:sym, :end),
              s(:sym, :a)),
            s(:send,
              s(:lvar, :b), :local_variables)),
          s(:lvasgn, :a,
            s(:block,
              s(:send, nil, :tap),
              s(:args,
                s(:shadowarg, :a),
                s(:shadowarg, :b)),
              s(:break,
                s(:send,
                  s(:send, nil, :binding), :local_variables)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :a),
              s(:sym, :b)),
            s(:send,
              s(:lvar, :a), :sort)))),
      s(:def, :test_local_variables_nested,
        s(:args),
        s(:begin,
          s(:lvasgn, :b,
            s(:block,
              s(:send, nil, :tap),
              s(:args),
              s(:break,
                s(:send, nil, :binding)))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :b)),
            s(:send,
              s(:lvar, :b), :local_variables),
            s(:str, "[ruby-dev:48351] [Bug #10001]")))),
      s(:def, :local_variables_of,
        s(:args,
          s(:arg, :bind)),
        s(:begin,
          s(:lvasgn, :this_should_not_be_in_bind,
            s(:int, 2)),
          s(:send,
            s(:lvar, :bind), :local_variables))),
      s(:def, :test_local_variables_in_other_context,
        s(:args),
        s(:begin,
          s(:lvasgn, :feature8773,
            s(:str, "[Feature #8773]")),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:sym, :feature8773)),
            s(:send, nil, :local_variables_of,
              s(:send, nil, :binding)),
            s(:lvar, :feature8773)))),
      s(:def, :test_local_variable_get,
        s(:args),
        s(:begin,
          s(:lvasgn, :b,
            s(:send, nil, :get_binding)),
          s(:send, nil, :assert_equal,
            s(:int, 0),
            s(:send,
              s(:lvar, :b), :local_variable_get,
              s(:sym, :a))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :NameError)),
            s(:args),
            s(:send,
              s(:lvar, :b), :local_variable_get,
              s(:sym, :b))),
          s(:send, nil, :assert_equal,
            s(:int, 1),
            s(:send,
              s(:lvar, :b), :local_variable_get,
              s(:sym, :if))),
          s(:send, nil, :assert_equal,
            s(:int, 2),
            s(:send,
              s(:lvar, :b), :local_variable_get,
              s(:sym, :case))),
          s(:send, nil, :assert_equal,
            s(:int, 3),
            s(:send,
              s(:lvar, :b), :local_variable_get,
              s(:sym, :when))),
          s(:send, nil, :assert_equal,
            s(:int, 4),
            s(:send,
              s(:lvar, :b), :local_variable_get,
              s(:sym, :begin))),
          s(:send, nil, :assert_equal,
            s(:int, 5),
            s(:send,
              s(:lvar, :b), :local_variable_get,
              s(:sym, :end))))),
      s(:def, :test_local_variable_set,
        s(:args),
        s(:begin,
          s(:lvasgn, :b,
            s(:send, nil, :get_binding)),
          s(:send,
            s(:lvar, :b), :local_variable_set,
            s(:sym, :a),
            s(:int, 10)),
          s(:send,
            s(:lvar, :b), :local_variable_set,
            s(:sym, :b),
            s(:int, 20)),
          s(:send, nil, :assert_equal,
            s(:int, 10),
            s(:send,
              s(:lvar, :b), :local_variable_get,
              s(:sym, :a))),
          s(:send, nil, :assert_equal,
            s(:int, 20),
            s(:send,
              s(:lvar, :b), :local_variable_get,
              s(:sym, :b))),
          s(:send, nil, :assert_equal,
            s(:int, 10),
            s(:send,
              s(:lvar, :b), :eval,
              s(:str, "a"))),
          s(:send, nil, :assert_equal,
            s(:int, 20),
            s(:send,
              s(:lvar, :b), :eval,
              s(:str, "b"))))),
      s(:def, :test_local_variable_defined?,
        s(:args),
        s(:begin,
          s(:lvasgn, :b,
            s(:send, nil, :get_binding)),
          s(:send, nil, :assert_equal,
            s(:true),
            s(:send,
              s(:lvar, :b), :local_variable_defined?,
              s(:sym, :a))),
          s(:send, nil, :assert_equal,
            s(:false),
            s(:send,
              s(:lvar, :b), :local_variable_defined?,
              s(:sym, :b))))),
      s(:def, :test_binding_receiver,
        s(:args),
        s(:begin,
          s(:lvasgn, :feature8779,
            s(:str, "[ruby-dev:47613] [Feature #8779]")),
          s(:send, nil, :assert_same,
            s(:self),
            s(:send,
              s(:send, nil, :binding), :receiver),
            s(:lvar, :feature8779)),
          s(:lvasgn, :obj,
            s(:send,
              s(:const, nil, :Object), :new)),
          s(:defs,
            s(:lvar, :obj), :b,
            s(:args),
            s(:send, nil, :binding)),
          s(:send, nil, :assert_same,
            s(:lvar, :obj),
            s(:send,
              s(:send,
                s(:lvar, :obj), :b), :receiver),
            s(:lvar, :feature8779)))),
      s(:def, :test_proc_mark,
        s(:args),
        s(:send, nil, :assert_normal_exit,
          s(:dstr,
            s(:str, "      def f\n"),
            s(:str, "        Enumerator.new{\n"),
            s(:str, "          100000.times {|i|\n"),
            s(:str, "            yield\n"),
            s(:str, "            s = \"\#{i}\"\n"),
            s(:str, "          }\n"),
            s(:str, "        }\n"),
            s(:str, "      end\n"),
            s(:str, "\n"),
            s(:str, "      def g\n"),
            s(:str, "        x = proc{}\n"),
            s(:str, "        f(&x)\n"),
            s(:str, "      end\n"),
            s(:str, "      e = g\n"),
            s(:str, "      e.each {}\n")))))))
