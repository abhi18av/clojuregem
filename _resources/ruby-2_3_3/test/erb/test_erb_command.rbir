s(:begin,
  s(:send, nil, :require,
    s(:str, "test/unit")),
  s(:class,
    s(:const, nil, :TestErbCommand),
    s(:const,
      s(:const,
        s(:const, nil, :Test), :Unit), :TestCase),
    s(:def, :test_var,
      s(:args),
      s(:send, nil, :assert_in_out_err,
        s(:array,
          s(:str, "-w"),
          s(:send,
            s(:const, nil, :File), :expand_path,
            s(:str, "../../../bin/erb"),
            s(:str, "(string)")),
          s(:str, "var=hoge")),
        s(:str, "<%=var%>"),
        s(:array,
          s(:str, "hoge"))))))
