s(:begin,
  s(:send, nil, :require,
    s(:str, "test/unit")),
  s(:send, nil, :require,
    s(:str, "date")),
  s(:class,
    s(:const, nil, :TestDateNew),
    s(:const,
      s(:const,
        s(:const, nil, :Test), :Unit), :TestCase),
    s(:begin,
      s(:def, :test_jd,
        s(:args),
        s(:begin,
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :jd)),
          s(:lvasgn, :dt,
            s(:send,
              s(:const, nil, :DateTime), :jd)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1)),
            s(:array,
              s(:send,
                s(:lvar, :dt), :year),
              s(:send,
                s(:lvar, :dt), :mon),
              s(:send,
                s(:lvar, :dt), :mday))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 0),
              s(:int, 0),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :dt), :hour),
              s(:send,
                s(:lvar, :dt), :min),
              s(:send,
                s(:lvar, :dt), :sec))),
          s(:lvasgn, :d2,
            s(:send,
              s(:const, nil, :Date), :jd)),
          s(:lvasgn, :dt2,
            s(:send,
              s(:const, nil, :DateTime), :jd)),
          s(:send, nil, :assert_equal,
            s(:lvar, :d),
            s(:lvar, :d2)),
          s(:send, nil, :assert_equal,
            s(:lvar, :dt),
            s(:lvar, :dt2)),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :jd,
              s(:int, 0))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :DateTime), :jd,
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday),
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec),
              s(:send,
                s(:lvar, :d), :offset))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :DateTime), :jd,
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:str, "+0900"))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:send,
                s(:send,
                  s(:int, 9), :to_r), :/,
                s(:int, 24))),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday),
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec),
              s(:send,
                s(:lvar, :d), :offset))))),
      s(:def, :test_jd__ex,
        s(:args),
        s(:block,
          s(:send, nil, :assert_raise,
            s(:const, nil, :ArgumentError)),
          s(:args),
          s(:send,
            s(:const, nil, :DateTime), :jd,
            s(:int, 0),
            s(:int, 23),
            s(:int, 59),
            s(:int, 60),
            s(:int, 0)))),
      s(:def, :test_ordinal,
        s(:args),
        s(:begin,
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :ordinal)),
          s(:lvasgn, :dt,
            s(:send,
              s(:const, nil, :DateTime), :ordinal)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1)),
            s(:array,
              s(:send,
                s(:lvar, :dt), :year),
              s(:send,
                s(:lvar, :dt), :mon),
              s(:send,
                s(:lvar, :dt), :mday))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 0),
              s(:int, 0),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :dt), :hour),
              s(:send,
                s(:lvar, :dt), :min),
              s(:send,
                s(:lvar, :dt), :sec))),
          s(:lvasgn, :d2,
            s(:send,
              s(:const, nil, :Date), :ordinal)),
          s(:lvasgn, :dt2,
            s(:send,
              s(:const, nil, :DateTime), :ordinal)),
          s(:send, nil, :assert_equal,
            s(:lvar, :d),
            s(:lvar, :d2)),
          s(:send, nil, :assert_equal,
            s(:lvar, :dt),
            s(:lvar, :dt2)),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :ordinal,
              s(:int, -4712),
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :ordinal,
              s(:int, -4712),
              s(:float, 1.0))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :DateTime), :ordinal,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday),
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec),
              s(:send,
                s(:lvar, :d), :offset))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :DateTime), :ordinal,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:str, "+0900"))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:send,
                s(:send,
                  s(:int, 9), :to_r), :/,
                s(:int, 24))),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday),
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec),
              s(:send,
                s(:lvar, :d), :offset))))),
      s(:def, :test_ordinal__neg,
        s(:args),
        s(:begin,
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :ordinal,
              s(:int, -1),
              s(:int, -1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -1),
              s(:int, 365)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :yday))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :DateTime), :ordinal,
              s(:int, -1),
              s(:int, -1),
              s(:int, -1),
              s(:int, -1),
              s(:int, -1),
              s(:int, 0))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -1),
              s(:int, 365),
              s(:int, 23),
              s(:int, 59),
              s(:int, 59),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :yday),
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec),
              s(:send,
                s(:lvar, :d), :offset))))),
      s(:def, :test_ordinal__ex,
        s(:args),
        s(:begin,
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:const, nil, :Date), :ordinal,
              s(:int, 2001),
              s(:int, 366))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:const, nil, :DateTime), :ordinal,
              s(:int, 2001),
              s(:int, 365),
              s(:int, 23),
              s(:int, 59),
              s(:int, 60),
              s(:int, 0))))),
      s(:def, :test_civil,
        s(:args),
        s(:begin,
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :civil)),
          s(:lvasgn, :dt,
            s(:send,
              s(:const, nil, :DateTime), :civil)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1)),
            s(:array,
              s(:send,
                s(:lvar, :dt), :year),
              s(:send,
                s(:lvar, :dt), :mon),
              s(:send,
                s(:lvar, :dt), :mday))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 0),
              s(:int, 0),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :dt), :hour),
              s(:send,
                s(:lvar, :dt), :min),
              s(:send,
                s(:lvar, :dt), :sec))),
          s(:lvasgn, :d2,
            s(:send,
              s(:const, nil, :Date), :civil)),
          s(:lvasgn, :dt2,
            s(:send,
              s(:const, nil, :DateTime), :civil)),
          s(:send, nil, :assert_equal,
            s(:lvar, :d),
            s(:lvar, :d2)),
          s(:send, nil, :assert_equal,
            s(:lvar, :dt),
            s(:lvar, :dt2)),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :civil,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :civil,
              s(:int, -4712),
              s(:int, 1),
              s(:float, 1.0))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :DateTime), :civil,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday),
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec),
              s(:send,
                s(:lvar, :d), :offset))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :DateTime), :civil,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:str, "+0900"))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:send,
                s(:send,
                  s(:int, 9), :to_r), :/,
                s(:int, 24))),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday),
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec),
              s(:send,
                s(:lvar, :d), :offset))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :DateTime), :civil,
              s(:int, 2001),
              s(:int, 2),
              s(:send,
                s(:int, 3), :+,
                s(:send,
                  s(:send,
                    s(:int, 1), :to_r), :/,
                  s(:int, 2))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 2001),
              s(:int, 2),
              s(:int, 3),
              s(:int, 12),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday),
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec),
              s(:send,
                s(:lvar, :d), :offset))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :DateTime), :civil,
              s(:int, 2001),
              s(:int, 2),
              s(:int, 3),
              s(:send,
                s(:int, 4), :+,
                s(:send,
                  s(:send,
                    s(:int, 1), :to_r), :/,
                  s(:int, 2))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 2001),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 30),
              s(:int, 0),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday),
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec),
              s(:send,
                s(:lvar, :d), :offset))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :DateTime), :civil,
              s(:int, 2001),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:send,
                s(:int, 5), :+,
                s(:send,
                  s(:send,
                    s(:int, 1), :to_r), :/,
                  s(:int, 2))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 2001),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 30),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday),
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec),
              s(:send,
                s(:lvar, :d), :offset))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :DateTime), :civil,
              s(:int, 2001),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:send,
                s(:int, 6), :+,
                s(:send,
                  s(:send,
                    s(:int, 1), :to_r), :/,
                  s(:int, 2))))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 2001),
              s(:int, 2),
              s(:int, 3),
              s(:int, 4),
              s(:int, 5),
              s(:int, 6),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday),
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec),
              s(:send,
                s(:lvar, :d), :offset))),
          s(:send, nil, :assert_equal,
            s(:send,
              s(:send,
                s(:int, 1), :to_r), :/,
              s(:int, 2)),
            s(:send,
              s(:lvar, :d), :sec_fraction)))),
      s(:def, :test_civil__neg,
        s(:args),
        s(:begin,
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :civil,
              s(:int, -1),
              s(:int, -1),
              s(:int, -1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -1),
              s(:int, 12),
              s(:int, 31)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :DateTime), :civil,
              s(:int, -1),
              s(:int, -1),
              s(:int, -1),
              s(:int, -1),
              s(:int, -1),
              s(:int, -1),
              s(:int, 0))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -1),
              s(:int, 12),
              s(:int, 31),
              s(:int, 23),
              s(:int, 59),
              s(:int, 59),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday),
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec),
              s(:send,
                s(:lvar, :d), :offset))))),
      s(:def, :test_civil__ex,
        s(:args),
        s(:begin,
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:const, nil, :Date), :civil,
              s(:int, 2001),
              s(:int, 2),
              s(:int, 29))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:const, nil, :DateTime), :civil,
              s(:int, 2001),
              s(:int, 2),
              s(:int, 28),
              s(:int, 23),
              s(:int, 59),
              s(:int, 60),
              s(:int, 0))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:const, nil, :DateTime), :civil,
              s(:int, 2001),
              s(:int, 2),
              s(:int, 28),
              s(:int, 24),
              s(:int, 59),
              s(:int, 59),
              s(:int, 0))))),
      s(:def, :test_civil__reform,
        s(:args),
        s(:begin,
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :jd,
              s(:const,
                s(:const, nil, :Date), :ENGLAND),
              s(:const,
                s(:const, nil, :Date), :ENGLAND))),
          s(:lvasgn, :dt,
            s(:send,
              s(:const, nil, :DateTime), :jd,
              s(:const,
                s(:const, nil, :Date), :ENGLAND),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:const,
                s(:const, nil, :Date), :ENGLAND))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1752),
              s(:int, 9),
              s(:int, 14)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1752),
              s(:int, 9),
              s(:int, 14)),
            s(:array,
              s(:send,
                s(:lvar, :dt), :year),
              s(:send,
                s(:lvar, :dt), :mon),
              s(:send,
                s(:lvar, :dt), :mday))),
          s(:op_asgn,
            s(:lvasgn, :d), :-,
            s(:int, 1)),
          s(:op_asgn,
            s(:lvasgn, :dt), :-,
            s(:int, 1)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1752),
              s(:int, 9),
              s(:int, 2)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1752),
              s(:int, 9),
              s(:int, 2)),
            s(:array,
              s(:send,
                s(:lvar, :dt), :year),
              s(:send,
                s(:lvar, :dt), :mon),
              s(:send,
                s(:lvar, :dt), :mday))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :jd,
              s(:const,
                s(:const, nil, :Date), :ITALY),
              s(:const,
                s(:const, nil, :Date), :ITALY))),
          s(:lvasgn, :dt,
            s(:send,
              s(:const, nil, :DateTime), :jd,
              s(:const,
                s(:const, nil, :Date), :ITALY),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:const,
                s(:const, nil, :Date), :ITALY))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1582),
              s(:int, 10),
              s(:int, 15)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1582),
              s(:int, 10),
              s(:int, 15)),
            s(:array,
              s(:send,
                s(:lvar, :dt), :year),
              s(:send,
                s(:lvar, :dt), :mon),
              s(:send,
                s(:lvar, :dt), :mday))),
          s(:op_asgn,
            s(:lvasgn, :d), :-,
            s(:int, 1)),
          s(:op_asgn,
            s(:lvasgn, :dt), :-,
            s(:int, 1)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1582),
              s(:int, 10),
              s(:int, 4)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1582),
              s(:int, 10),
              s(:int, 4)),
            s(:array,
              s(:send,
                s(:lvar, :dt), :year),
              s(:send,
                s(:lvar, :dt), :mon),
              s(:send,
                s(:lvar, :dt), :mday))))),
      s(:def, :test_commercial,
        s(:args),
        s(:begin,
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :commercial)),
          s(:lvasgn, :dt,
            s(:send,
              s(:const, nil, :DateTime), :commercial)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1)),
            s(:array,
              s(:send,
                s(:lvar, :dt), :year),
              s(:send,
                s(:lvar, :dt), :mon),
              s(:send,
                s(:lvar, :dt), :mday))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 0),
              s(:int, 0),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :dt), :hour),
              s(:send,
                s(:lvar, :dt), :min),
              s(:send,
                s(:lvar, :dt), :sec))),
          s(:lvasgn, :d2,
            s(:send,
              s(:const, nil, :Date), :commercial)),
          s(:lvasgn, :dt2,
            s(:send,
              s(:const, nil, :DateTime), :commercial)),
          s(:send, nil, :assert_equal,
            s(:lvar, :d),
            s(:lvar, :d2)),
          s(:send, nil, :assert_equal,
            s(:lvar, :dt),
            s(:lvar, :dt2)),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :commercial,
              s(:int, 1582),
              s(:int, 40),
              s(:int, 5))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1582),
              s(:int, 10),
              s(:int, 15)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :commercial,
              s(:int, 1582),
              s(:int, 40),
              s(:float, 5.0))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1582),
              s(:int, 10),
              s(:int, 15)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :DateTime), :commercial,
              s(:int, 1582),
              s(:int, 40),
              s(:int, 5),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1582),
              s(:int, 10),
              s(:int, 15),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday),
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec),
              s(:send,
                s(:lvar, :d), :offset))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :DateTime), :commercial,
              s(:int, 1582),
              s(:int, 40),
              s(:int, 5),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:str, "+0900"))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1582),
              s(:int, 10),
              s(:int, 15),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:send,
                s(:send,
                  s(:int, 9), :to_r), :/,
                s(:int, 24))),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday),
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec),
              s(:send,
                s(:lvar, :d), :offset))))),
      s(:def, :test_commercial__neg,
        s(:args),
        s(:begin,
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :commercial,
              s(:int, 1998),
              s(:int, -1),
              s(:int, -1))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1999),
              s(:int, 1),
              s(:int, 3)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :DateTime), :commercial,
              s(:int, 1998),
              s(:int, -1),
              s(:int, -1),
              s(:int, -1),
              s(:int, -1),
              s(:int, -1),
              s(:int, 0))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 1999),
              s(:int, 1),
              s(:int, 3),
              s(:int, 23),
              s(:int, 59),
              s(:int, 59),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday),
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec),
              s(:send,
                s(:lvar, :d), :offset))))),
      s(:def, :test_commercial__ex,
        s(:args),
        s(:begin,
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:const, nil, :Date), :commercial,
              s(:int, 1997),
              s(:int, 53),
              s(:int, 1))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:const, nil, :DateTime), :commercial,
              s(:int, 1997),
              s(:int, 52),
              s(:int, 1),
              s(:int, 23),
              s(:int, 59),
              s(:int, 60),
              s(:int, 0))))),
      s(:def, :test_weeknum,
        s(:args),
        s(:begin,
          s(:if,
            s(:send,
              s(:const, nil, :Date), :respond_to?,
              s(:sym, :weeknum),
              s(:true)), nil,
            s(:send, nil, :skip)),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :__send__,
              s(:sym, :weeknum))),
          s(:lvasgn, :dt,
            s(:send,
              s(:const, nil, :DateTime), :__send__,
              s(:sym, :weeknum))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1)),
            s(:array,
              s(:send,
                s(:lvar, :dt), :year),
              s(:send,
                s(:lvar, :dt), :mon),
              s(:send,
                s(:lvar, :dt), :mday))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 0),
              s(:int, 0),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :dt), :hour),
              s(:send,
                s(:lvar, :dt), :min),
              s(:send,
                s(:lvar, :dt), :sec))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :__send__,
              s(:sym, :weeknum),
              s(:int, 2002),
              s(:int, 11),
              s(:int, 4),
              s(:int, 0))),
          s(:send, nil, :assert_equal,
            s(:int, 2452355),
            s(:send,
              s(:lvar, :d), :jd)),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :DateTime), :__send__,
              s(:sym, :weeknum),
              s(:int, 2002),
              s(:int, 11),
              s(:int, 4),
              s(:int, 0),
              s(:int, 11),
              s(:int, 22),
              s(:int, 33))),
          s(:send, nil, :assert_equal,
            s(:int, 2452355),
            s(:send,
              s(:lvar, :d), :jd)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 11),
              s(:int, 22),
              s(:int, 33)),
            s(:array,
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:const, nil, :Date), :__send__,
              s(:sym, :weeknum),
              s(:int, 1999),
              s(:int, 53),
              s(:int, 0),
              s(:int, 0))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:const, nil, :Date), :__send__,
              s(:sym, :weeknum),
              s(:int, 1999),
              s(:int, -53),
              s(:int, -1),
              s(:int, 0))))),
      s(:def, :test_nth_kday,
        s(:args),
        s(:begin,
          s(:if,
            s(:send,
              s(:const, nil, :Date), :respond_to?,
              s(:sym, :nth_kday),
              s(:true)), nil,
            s(:send, nil, :skip)),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :__send__,
              s(:sym, :nth_kday))),
          s(:lvasgn, :dt,
            s(:send,
              s(:const, nil, :DateTime), :__send__,
              s(:sym, :nth_kday))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, -4712),
              s(:int, 1),
              s(:int, 1)),
            s(:array,
              s(:send,
                s(:lvar, :dt), :year),
              s(:send,
                s(:lvar, :dt), :mon),
              s(:send,
                s(:lvar, :dt), :mday))),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 0),
              s(:int, 0),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :dt), :hour),
              s(:send,
                s(:lvar, :dt), :min),
              s(:send,
                s(:lvar, :dt), :sec))),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :__send__,
              s(:sym, :nth_kday),
              s(:int, 1992),
              s(:int, 2),
              s(:int, 5),
              s(:int, 6))),
          s(:send, nil, :assert_equal,
            s(:int, 2448682),
            s(:send,
              s(:lvar, :d), :jd)),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :DateTime), :__send__,
              s(:sym, :nth_kday),
              s(:int, 1992),
              s(:int, 2),
              s(:int, 5),
              s(:int, 6),
              s(:int, 11),
              s(:int, 22),
              s(:int, 33))),
          s(:send, nil, :assert_equal,
            s(:int, 2448682),
            s(:send,
              s(:lvar, :d), :jd)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 11),
              s(:int, 22),
              s(:int, 33)),
            s(:array,
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:const, nil, :Date), :__send__,
              s(:sym, :nth_kday),
              s(:int, 2006),
              s(:int, 5),
              s(:int, 5),
              s(:int, 0))),
          s(:block,
            s(:send, nil, :assert_raise,
              s(:const, nil, :ArgumentError)),
            s(:args),
            s(:send,
              s(:const, nil, :Date), :__send__,
              s(:sym, :nth_kday),
              s(:int, 2006),
              s(:int, 5),
              s(:int, -5),
              s(:int, 0))))),
      s(:def, :test_today,
        s(:args),
        s(:begin,
          s(:lvasgn, :z,
            s(:send,
              s(:const, nil, :Time), :now)),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :today)),
          s(:lvasgn, :t,
            s(:send,
              s(:const, nil, :Time), :now)),
          s(:lvasgn, :t2,
            s(:send,
              s(:const, nil, :Time), :utc,
              s(:send,
                s(:lvar, :t), :year),
              s(:send,
                s(:lvar, :t), :mon),
              s(:send,
                s(:lvar, :t), :mday))),
          s(:lvasgn, :t3,
            s(:send,
              s(:const, nil, :Time), :utc,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday))),
          s(:send, nil, :assert_in_delta,
            s(:lvar, :t2),
            s(:lvar, :t3),
            s(:send,
              s(:send,
                s(:lvar, :t), :-,
                s(:lvar, :z)), :+,
              s(:int, 2))),
          s(:send, nil, :assert_equal,
            s(:false),
            s(:send,
              s(:const, nil, :DateTime), :respond_to?,
              s(:sym, :today))))),
      s(:def, :test_now,
        s(:args),
        s(:begin,
          s(:send, nil, :assert_equal,
            s(:false),
            s(:send,
              s(:const, nil, :Date), :respond_to?,
              s(:sym, :now))),
          s(:lvasgn, :z,
            s(:send,
              s(:const, nil, :Time), :now)),
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :DateTime), :now)),
          s(:lvasgn, :t,
            s(:send,
              s(:const, nil, :Time), :now)),
          s(:lvasgn, :t2,
            s(:send,
              s(:const, nil, :Time), :local,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday),
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec))),
          s(:send, nil, :assert_in_delta,
            s(:lvar, :t),
            s(:lvar, :t2),
            s(:send,
              s(:send,
                s(:lvar, :t), :-,
                s(:lvar, :z)), :+,
              s(:int, 2))))))))
