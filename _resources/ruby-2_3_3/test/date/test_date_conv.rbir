s(:begin,
  s(:send, nil, :require,
    s(:str, "test/unit")),
  s(:send, nil, :require,
    s(:str, "date")),
  s(:class,
    s(:const, nil, :TestDateConv),
    s(:const,
      s(:const,
        s(:const, nil, :Test), :Unit), :TestCase),
    s(:begin,
      s(:def, :test_to_class,
        s(:args),
        s(:block,
          s(:send,
            s(:array,
              s(:send,
                s(:const, nil, :Time), :now),
              s(:send,
                s(:const, nil, :Date), :today),
              s(:send,
                s(:const, nil, :DateTime), :now)), :each),
          s(:args,
            s(:arg, :o)),
          s(:begin,
            s(:send, nil, :assert_instance_of,
              s(:const, nil, :Time),
              s(:send,
                s(:lvar, :o), :to_time)),
            s(:send, nil, :assert_instance_of,
              s(:const, nil, :Date),
              s(:send,
                s(:lvar, :o), :to_date)),
            s(:send, nil, :assert_instance_of,
              s(:const, nil, :DateTime),
              s(:send,
                s(:lvar, :o), :to_datetime))))),
      s(:def, :test_to_time__from_time,
        s(:args),
        s(:begin,
          s(:lvasgn, :t,
            s(:send,
              s(:const, nil, :Time), :mktime,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 456789))),
          s(:lvasgn, :t2,
            s(:send,
              s(:lvar, :t), :to_time)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 456789)),
            s(:array,
              s(:send,
                s(:lvar, :t2), :year),
              s(:send,
                s(:lvar, :t2), :mon),
              s(:send,
                s(:lvar, :t2), :mday),
              s(:send,
                s(:lvar, :t2), :hour),
              s(:send,
                s(:lvar, :t2), :min),
              s(:send,
                s(:lvar, :t2), :sec),
              s(:send,
                s(:lvar, :t2), :usec))),
          s(:lvasgn, :t,
            s(:send,
              s(:const, nil, :Time), :utc,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 456789))),
          s(:lvasgn, :t2,
            s(:send,
              s(:send,
                s(:lvar, :t), :to_time), :utc)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 456789)),
            s(:array,
              s(:send,
                s(:lvar, :t2), :year),
              s(:send,
                s(:lvar, :t2), :mon),
              s(:send,
                s(:lvar, :t2), :mday),
              s(:send,
                s(:lvar, :t2), :hour),
              s(:send,
                s(:lvar, :t2), :min),
              s(:send,
                s(:lvar, :t2), :sec),
              s(:send,
                s(:lvar, :t2), :usec))))),
      s(:def, :test_to_time__from_date,
        s(:args),
        s(:begin,
          s(:lvasgn, :d,
            s(:send,
              s(:const, nil, :Date), :new,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19))),
          s(:lvasgn, :t,
            s(:send,
              s(:lvar, :d), :to_time)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :t), :year),
              s(:send,
                s(:lvar, :t), :mon),
              s(:send,
                s(:lvar, :t), :mday),
              s(:send,
                s(:lvar, :t), :hour),
              s(:send,
                s(:lvar, :t), :min),
              s(:send,
                s(:lvar, :t), :sec),
              s(:send,
                s(:lvar, :t), :usec))))),
      s(:def, :test_to_time__from_datetime,
        s(:args),
        s(:begin,
          s(:lvasgn, :d,
            s(:send,
              s(:send,
                s(:const, nil, :DateTime), :new,
                s(:int, 2004),
                s(:int, 9),
                s(:int, 19),
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:send,
                  s(:send,
                    s(:int, 9), :to_r), :/,
                  s(:int, 24))), :+,
              s(:send,
                s(:send,
                  s(:int, 456789), :to_r), :/,
                s(:int, 86400000000)))),
          s(:lvasgn, :t,
            s(:send,
              s(:lvar, :d), :to_time)),
          s(:if,
            s(:send,
              s(:send,
                s(:lvar, :t), :utc_offset), :==,
              s(:send,
                s(:send,
                  s(:int, 9), :*,
                  s(:int, 60)), :*,
                s(:int, 60))),
            s(:send, nil, :assert_equal,
              s(:array,
                s(:int, 2004),
                s(:int, 9),
                s(:int, 19),
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 456789)),
              s(:array,
                s(:send,
                  s(:lvar, :t), :year),
                s(:send,
                  s(:lvar, :t), :mon),
                s(:send,
                  s(:lvar, :t), :mday),
                s(:send,
                  s(:lvar, :t), :hour),
                s(:send,
                  s(:lvar, :t), :min),
                s(:send,
                  s(:lvar, :t), :sec),
                s(:send,
                  s(:lvar, :t), :usec))), nil),
          s(:lvasgn, :d,
            s(:send,
              s(:send,
                s(:const, nil, :DateTime), :new,
                s(:int, 2004),
                s(:int, 9),
                s(:int, 19),
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 0)), :+,
              s(:send,
                s(:send,
                  s(:int, 456789), :to_r), :/,
                s(:int, 86400000000)))),
          s(:lvasgn, :t,
            s(:send,
              s(:send,
                s(:lvar, :d), :to_time), :utc)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 456789)),
            s(:array,
              s(:send,
                s(:lvar, :t), :year),
              s(:send,
                s(:lvar, :t), :mon),
              s(:send,
                s(:lvar, :t), :mday),
              s(:send,
                s(:lvar, :t), :hour),
              s(:send,
                s(:lvar, :t), :min),
              s(:send,
                s(:lvar, :t), :sec),
              s(:send,
                s(:lvar, :t), :usec))),
          s(:if,
            s(:send,
              s(:send,
                s(:const, nil, :Time), :allocate), :respond_to?,
              s(:sym, :nsec)),
            s(:begin,
              s(:lvasgn, :d,
                s(:send,
                  s(:send,
                    s(:const, nil, :DateTime), :new,
                    s(:int, 2004),
                    s(:int, 9),
                    s(:int, 19),
                    s(:int, 1),
                    s(:int, 2),
                    s(:int, 3),
                    s(:int, 0)), :+,
                  s(:send,
                    s(:send,
                      s(:int, 456789123), :to_r), :/,
                    s(:int, 86400000000000)))),
              s(:lvasgn, :t,
                s(:send,
                  s(:send,
                    s(:lvar, :d), :to_time), :utc)),
              s(:send, nil, :assert_equal,
                s(:array,
                  s(:int, 2004),
                  s(:int, 9),
                  s(:int, 19),
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:int, 456789123)),
                s(:array,
                  s(:send,
                    s(:lvar, :t), :year),
                  s(:send,
                    s(:lvar, :t), :mon),
                  s(:send,
                    s(:lvar, :t), :mday),
                  s(:send,
                    s(:lvar, :t), :hour),
                  s(:send,
                    s(:lvar, :t), :min),
                  s(:send,
                    s(:lvar, :t), :sec),
                  s(:send,
                    s(:lvar, :t), :nsec)))), nil),
          s(:if,
            s(:send,
              s(:send,
                s(:const, nil, :Time), :allocate), :respond_to?,
              s(:sym, :subsec)),
            s(:begin,
              s(:lvasgn, :d,
                s(:send,
                  s(:send,
                    s(:const, nil, :DateTime), :new,
                    s(:int, 2004),
                    s(:int, 9),
                    s(:int, 19),
                    s(:int, 1),
                    s(:int, 2),
                    s(:int, 3),
                    s(:int, 0)), :+,
                  s(:send,
                    s(:send,
                      s(:int, 456789123456789123), :to_r), :/,
                    s(:int, 86400000000000000000000)))),
              s(:lvasgn, :t,
                s(:send,
                  s(:send,
                    s(:lvar, :d), :to_time), :utc)),
              s(:send, nil, :assert_equal,
                s(:array,
                  s(:int, 2004),
                  s(:int, 9),
                  s(:int, 19),
                  s(:int, 1),
                  s(:int, 2),
                  s(:int, 3),
                  s(:send, nil, :Rational,
                    s(:int, 456789123456789123),
                    s(:int, 1000000000000000000))),
                s(:array,
                  s(:send,
                    s(:lvar, :t), :year),
                  s(:send,
                    s(:lvar, :t), :mon),
                  s(:send,
                    s(:lvar, :t), :mday),
                  s(:send,
                    s(:lvar, :t), :hour),
                  s(:send,
                    s(:lvar, :t), :min),
                  s(:send,
                    s(:lvar, :t), :sec),
                  s(:send,
                    s(:lvar, :t), :subsec)))), nil))),
      s(:def, :test_to_date__from_time,
        s(:args),
        s(:begin,
          s(:lvasgn, :t,
            s(:send,
              s(:const, nil, :Time), :mktime,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 456789))),
          s(:lvasgn, :d,
            s(:send,
              s(:lvar, :t), :to_date)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday),
              s(:send,
                s(:lvar, :d), :day_fraction))),
          s(:lvasgn, :t,
            s(:send,
              s(:const, nil, :Time), :utc,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 456789))),
          s(:lvasgn, :d,
            s(:send,
              s(:lvar, :t), :to_date)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday),
              s(:send,
                s(:lvar, :d), :day_fraction))))),
      s(:def, :test_to_date__from_date,
        s(:args),
        s(:begin,
          s(:lvasgn, :d,
            s(:send,
              s(:send,
                s(:const, nil, :Date), :new,
                s(:int, 2004),
                s(:int, 9),
                s(:int, 19)), :+,
              s(:send,
                s(:send,
                  s(:int, 1), :to_r), :/,
                s(:int, 2)))),
          s(:lvasgn, :d2,
            s(:send,
              s(:lvar, :d), :to_date)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:send,
                s(:send,
                  s(:int, 1), :to_r), :/,
                s(:int, 2))),
            s(:array,
              s(:send,
                s(:lvar, :d2), :year),
              s(:send,
                s(:lvar, :d2), :mon),
              s(:send,
                s(:lvar, :d2), :mday),
              s(:send,
                s(:lvar, :d2), :day_fraction))))),
      s(:def, :test_to_date__from_datetime,
        s(:args),
        s(:begin,
          s(:lvasgn, :d,
            s(:send,
              s(:send,
                s(:const, nil, :DateTime), :new,
                s(:int, 2004),
                s(:int, 9),
                s(:int, 19),
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:send,
                  s(:send,
                    s(:int, 9), :to_r), :/,
                  s(:int, 24))), :+,
              s(:send,
                s(:send,
                  s(:int, 456789), :to_r), :/,
                s(:int, 86400000000)))),
          s(:lvasgn, :d2,
            s(:send,
              s(:lvar, :d), :to_date)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :d2), :year),
              s(:send,
                s(:lvar, :d2), :mon),
              s(:send,
                s(:lvar, :d2), :mday),
              s(:send,
                s(:lvar, :d2), :day_fraction))),
          s(:lvasgn, :d,
            s(:send,
              s(:send,
                s(:const, nil, :DateTime), :new,
                s(:int, 2004),
                s(:int, 9),
                s(:int, 19),
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 0)), :+,
              s(:send,
                s(:send,
                  s(:int, 456789), :to_r), :/,
                s(:int, 86400000000)))),
          s(:lvasgn, :d2,
            s(:send,
              s(:lvar, :d), :to_date)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :d2), :year),
              s(:send,
                s(:lvar, :d2), :mon),
              s(:send,
                s(:lvar, :d2), :mday),
              s(:send,
                s(:lvar, :d2), :day_fraction))))),
      s(:def, :test_to_datetime__from_time,
        s(:args),
        s(:begin,
          s(:lvasgn, :t,
            s(:send,
              s(:const, nil, :Time), :mktime,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 456789))),
          s(:lvasgn, :d,
            s(:send,
              s(:lvar, :t), :to_datetime)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:send,
                s(:send,
                  s(:int, 456789), :to_r), :/,
                s(:int, 1000000)),
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :t), :utc_offset), :to_r), :/,
                s(:int, 86400))),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday),
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec),
              s(:send,
                s(:lvar, :d), :sec_fraction),
              s(:send,
                s(:lvar, :d), :offset))),
          s(:lvasgn, :t,
            s(:send,
              s(:const, nil, :Time), :utc,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:int, 456789))),
          s(:lvasgn, :d,
            s(:send,
              s(:lvar, :t), :to_datetime)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:send,
                s(:send,
                  s(:int, 456789), :to_r), :/,
                s(:int, 1000000)),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :d), :year),
              s(:send,
                s(:lvar, :d), :mon),
              s(:send,
                s(:lvar, :d), :mday),
              s(:send,
                s(:lvar, :d), :hour),
              s(:send,
                s(:lvar, :d), :min),
              s(:send,
                s(:lvar, :d), :sec),
              s(:send,
                s(:lvar, :d), :sec_fraction),
              s(:send,
                s(:lvar, :d), :offset))),
          s(:lvasgn, :t,
            s(:send,
              s(:const, nil, :Time), :now)),
          s(:lvasgn, :d,
            s(:send,
              s(:lvar, :t), :to_datetime)),
          s(:send, nil, :require,
            s(:str, "time")),
          s(:send, nil, :assert_equal,
            s(:send,
              s(:lvar, :t), :iso8601,
              s(:int, 10)),
            s(:send,
              s(:lvar, :d), :iso8601,
              s(:int, 10))))),
      s(:def, :test_to_datetime__from_date,
        s(:args),
        s(:begin,
          s(:lvasgn, :d,
            s(:send,
              s(:send,
                s(:const, nil, :Date), :new,
                s(:int, 2004),
                s(:int, 9),
                s(:int, 19)), :+,
              s(:send,
                s(:send,
                  s(:int, 1), :to_r), :/,
                s(:int, 2)))),
          s(:lvasgn, :d2,
            s(:send,
              s(:lvar, :d), :to_datetime)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :d2), :year),
              s(:send,
                s(:lvar, :d2), :mon),
              s(:send,
                s(:lvar, :d2), :mday),
              s(:send,
                s(:lvar, :d2), :hour),
              s(:send,
                s(:lvar, :d2), :min),
              s(:send,
                s(:lvar, :d2), :sec),
              s(:send,
                s(:lvar, :d2), :sec_fraction),
              s(:send,
                s(:lvar, :d2), :offset))))),
      s(:def, :test_to_datetime__from_datetime,
        s(:args),
        s(:begin,
          s(:lvasgn, :d,
            s(:send,
              s(:send,
                s(:const, nil, :DateTime), :new,
                s(:int, 2004),
                s(:int, 9),
                s(:int, 19),
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:send,
                  s(:send,
                    s(:int, 9), :to_r), :/,
                  s(:int, 24))), :+,
              s(:send,
                s(:send,
                  s(:int, 456789), :to_r), :/,
                s(:int, 86400000000)))),
          s(:lvasgn, :d2,
            s(:send,
              s(:lvar, :d), :to_datetime)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:send,
                s(:send,
                  s(:int, 456789), :to_r), :/,
                s(:int, 1000000)),
              s(:send,
                s(:send,
                  s(:int, 9), :to_r), :/,
                s(:int, 24))),
            s(:array,
              s(:send,
                s(:lvar, :d2), :year),
              s(:send,
                s(:lvar, :d2), :mon),
              s(:send,
                s(:lvar, :d2), :mday),
              s(:send,
                s(:lvar, :d2), :hour),
              s(:send,
                s(:lvar, :d2), :min),
              s(:send,
                s(:lvar, :d2), :sec),
              s(:send,
                s(:lvar, :d2), :sec_fraction),
              s(:send,
                s(:lvar, :d2), :offset))),
          s(:lvasgn, :d,
            s(:send,
              s(:send,
                s(:const, nil, :DateTime), :new,
                s(:int, 2004),
                s(:int, 9),
                s(:int, 19),
                s(:int, 1),
                s(:int, 2),
                s(:int, 3),
                s(:int, 0)), :+,
              s(:send,
                s(:send,
                  s(:int, 456789), :to_r), :/,
                s(:int, 86400000000)))),
          s(:lvasgn, :d2,
            s(:send,
              s(:lvar, :d), :to_datetime)),
          s(:send, nil, :assert_equal,
            s(:array,
              s(:int, 2004),
              s(:int, 9),
              s(:int, 19),
              s(:int, 1),
              s(:int, 2),
              s(:int, 3),
              s(:send,
                s(:send,
                  s(:int, 456789), :to_r), :/,
                s(:int, 1000000)),
              s(:int, 0)),
            s(:array,
              s(:send,
                s(:lvar, :d2), :year),
              s(:send,
                s(:lvar, :d2), :mon),
              s(:send,
                s(:lvar, :d2), :mday),
              s(:send,
                s(:lvar, :d2), :hour),
              s(:send,
                s(:lvar, :d2), :min),
              s(:send,
                s(:lvar, :d2), :sec),
              s(:send,
                s(:lvar, :d2), :sec_fraction),
              s(:send,
                s(:lvar, :d2), :offset))))))))
