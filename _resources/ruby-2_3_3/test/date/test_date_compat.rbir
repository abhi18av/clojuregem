s(:begin,
  s(:send, nil, :require,
    s(:str, "test/unit")),
  s(:send, nil, :require,
    s(:str, "date")),
  s(:class,
    s(:const, nil, :TestDateCompat),
    s(:const,
      s(:const,
        s(:const, nil, :Test), :Unit), :TestCase),
    s(:def, :test_compat,
      s(:args),
      s(:begin,
        s(:send, nil, :assert_equal,
          s(:send,
            s(:const, nil, :DateTime), :new),
          s(:send,
            s(:const, nil, :Date), :new)),
        s(:send, nil, :assert_equal,
          s(:send,
            s(:const, nil, :DateTime), :new,
            s(:int, 2002),
            s(:int, 3),
            s(:int, 19)),
          s(:send,
            s(:const, nil, :Date), :new,
            s(:int, 2002),
            s(:int, 3),
            s(:int, 19))),
        s(:send, nil, :assert_equal,
          s(:send,
            s(:const, nil, :DateTime), :new,
            s(:int, 2002),
            s(:int, 3),
            s(:int, 19),
            s(:int, 0),
            s(:int, 0),
            s(:int, 0)),
          s(:send,
            s(:const, nil, :Date), :new,
            s(:int, 2002),
            s(:int, 3),
            s(:int, 19))),
        s(:send, nil, :assert_equal,
          s(:send,
            s(:const, nil, :DateTime), :new,
            s(:int, 2002),
            s(:int, 3),
            s(:int, 19),
            s(:int, 0),
            s(:int, 0),
            s(:int, 0),
            s(:int, 0)),
          s(:send,
            s(:const, nil, :Date), :new,
            s(:int, 2002),
            s(:int, 3),
            s(:int, 19))),
        s(:send, nil, :assert_equal,
          s(:send,
            s(:const, nil, :DateTime), :new,
            s(:int, 2002),
            s(:int, 3),
            s(:int, 19),
            s(:int, 0),
            s(:int, 0),
            s(:int, 0),
            s(:send,
              s(:int, 0), :to_r)),
          s(:send,
            s(:const, nil, :Date), :new,
            s(:int, 2002),
            s(:int, 3),
            s(:int, 19))),
        s(:send, nil, :assert_equal,
          s(:send,
            s(:const, nil, :DateTime), :new,
            s(:int, 2002),
            s(:int, 3),
            s(:int, 19),
            s(:int, 0),
            s(:int, 0),
            s(:int, 0),
            s(:int, 0),
            s(:const,
              s(:const, nil, :Date), :GREGORIAN)),
          s(:send,
            s(:const, nil, :Date), :new,
            s(:int, 2002),
            s(:int, 3),
            s(:int, 19),
            s(:const,
              s(:const, nil, :Date), :GREGORIAN))),
        s(:send, nil, :assert_equal,
          s(:send,
            s(:const, nil, :DateTime), :new,
            s(:int, 2002),
            s(:int, 3),
            s(:int, 19),
            s(:int, 0),
            s(:int, 0),
            s(:int, 0),
            s(:int, 0),
            s(:const,
              s(:const, nil, :Date), :JULIAN)),
          s(:send,
            s(:const, nil, :Date), :new,
            s(:int, 2002),
            s(:int, 3),
            s(:int, 19),
            s(:const,
              s(:const, nil, :Date), :JULIAN))),
        s(:send, nil, :assert,
          s(:send,
            s(:send,
              s(:const, nil, :Date), :new,
              s(:int, 2002),
              s(:int, 3),
              s(:int, 19)), :!=,
            s(:send,
              s(:const, nil, :DateTime), :new,
              s(:int, 2002),
              s(:int, 3),
              s(:int, 19),
              s(:int, 12),
              s(:int, 0),
              s(:int, 0)))),
        s(:send, nil, :assert,
          s(:send,
            s(:send,
              s(:const, nil, :Date), :new,
              s(:int, 2002),
              s(:int, 3),
              s(:int, 19)), :!=,
            s(:send,
              s(:const, nil, :DateTime), :new,
              s(:int, 2002),
              s(:int, 3),
              s(:int, 19),
              s(:int, 0),
              s(:int, 0),
              s(:int, 1)))),
        s(:send, nil, :assert,
          s(:send,
            s(:send,
              s(:const, nil, :Date), :new,
              s(:int, 2002),
              s(:int, 3),
              s(:int, 19)), :===,
            s(:send,
              s(:const, nil, :DateTime), :new,
              s(:int, 2002),
              s(:int, 3),
              s(:int, 19),
              s(:int, 12),
              s(:int, 0),
              s(:int, 0)))),
        s(:send, nil, :assert,
          s(:send,
            s(:send,
              s(:const, nil, :Date), :new,
              s(:int, 2002),
              s(:int, 3),
              s(:int, 19)), :===,
            s(:send,
              s(:const, nil, :DateTime), :new,
              s(:int, 2002),
              s(:int, 3),
              s(:int, 19),
              s(:int, 0),
              s(:int, 0),
              s(:int, 1))))))))
