s(:module,
  s(:const, nil, :DifferentOFS),
  s(:begin,
    s(:module,
      s(:const, nil, :WithDifferentOFS),
      s(:begin,
        s(:def, :setup,
          s(:args),
          s(:begin,
            s(:zsuper),
            s(:masgn,
              s(:mlhs,
                s(:ivasgn, :@ofs),
                s(:gvasgn, :$,)),
              s(:array,
                s(:gvar, :$,),
                s(:str, "-"))))),
        s(:def, :teardown,
          s(:args),
          s(:begin,
            s(:gvasgn, :$,,
              s(:ivar, :@ofs)),
            s(:zsuper))))),
    s(:defs,
      s(:self), :extended,
      s(:args,
        s(:arg, :klass)),
      s(:begin,
        s(:super,
          s(:lvar, :klass)),
        s(:send,
          s(:send,
            s(:lvar, :klass), :const_set,
            s(:sym, :DifferentOFS),
            s(:block,
              s(:send,
                s(:send,
                  s(:const, nil, :Class), :new,
                  s(:lvar, :klass)), :class_eval),
              s(:args),
              s(:send, nil, :include,
                s(:const, nil, :WithDifferentOFS)))), :name)))))
