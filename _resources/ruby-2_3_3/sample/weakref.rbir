s(:begin,
  s(:send, nil, :require,
    s(:str, "weakref")),
  s(:lvasgn, :foo,
    s(:send,
      s(:const, nil, :Object), :new)),
  s(:send, nil, :p,
    s(:send,
      s(:lvar, :foo), :to_s)),
  s(:lvasgn, :foo,
    s(:send,
      s(:const, nil, :WeakRef), :new,
      s(:lvar, :foo))),
  s(:send, nil, :p,
    s(:send,
      s(:lvar, :foo), :to_s)),
  s(:send,
    s(:const, nil, :ObjectSpace), :garbage_collect),
  s(:send,
    s(:const, nil, :ObjectSpace), :garbage_collect),
  s(:send, nil, :p,
    s(:send,
      s(:lvar, :foo), :to_s)))
