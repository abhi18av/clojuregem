s(:begin,
  s(:lvasgn, :freq,
    s(:send,
      s(:const, nil, :Hash), :new,
      s(:int, 0))),
  s(:while,
    s(:lvasgn, :line,
      s(:send, nil, :gets)),
    s(:block,
      s(:send,
        s(:lvar, :line), :scan,
        s(:regexp,
          s(:str, "\\w+"),
          s(:regopt))),
      s(:args,
        s(:arg, :word)),
      s(:op_asgn,
        s(:send,
          s(:lvar, :freq), :[],
          s(:lvar, :word)), :+,
        s(:int, 1)))),
  s(:for,
    s(:lvasgn, :word),
    s(:send,
      s(:send,
        s(:lvar, :freq), :keys), :sort!),
    s(:send, nil, :print,
      s(:lvar, :word),
      s(:str, " -- "),
      s(:send,
        s(:lvar, :freq), :[],
        s(:lvar, :word)),
      s(:str, "\n"))))
