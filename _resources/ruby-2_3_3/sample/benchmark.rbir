s(:begin,
  s(:send, nil, :require,
    s(:str, "benchmark")),
  s(:send, nil, :include,
    s(:const, nil, :Benchmark)),
  s(:lvasgn, :n,
    s(:or,
      s(:send,
        s(:send,
          s(:send,
            s(:const, nil, :ARGV), :[],
            s(:int, 0)), :to_i), :nonzero?),
      s(:int, 50000))),
  s(:send, nil, :puts,
    s(:dstr,
      s(:str, "["),
      s(:begin,
        s(:lvar, :n)),
      s(:str, " times iterations of `a = \"1\"']"))),
  s(:block,
    s(:send, nil, :benchmark,
      s(:const, nil, :CAPTION),
      s(:int, 7),
      s(:const, nil, :FORMAT)),
    s(:args,
      s(:arg, :x)),
    s(:begin,
      s(:block,
        s(:send,
          s(:lvar, :x), :report,
          s(:str, "for:")),
        s(:args),
        s(:for,
          s(:lvasgn, :_),
          s(:irange,
            s(:int, 1),
            s(:lvar, :n)),
          s(:lvasgn, :_,
            s(:str, "1")))),
      s(:block,
        s(:send,
          s(:lvar, :x), :report,
          s(:str, "times:")),
        s(:args),
        s(:block,
          s(:send,
            s(:lvar, :n), :times),
          s(:args),
          s(:lvasgn, :_,
            s(:str, "1")))),
      s(:block,
        s(:send,
          s(:lvar, :x), :report,
          s(:str, "upto:")),
        s(:args),
        s(:block,
          s(:send,
            s(:int, 1), :upto,
            s(:lvar, :n)),
          s(:args),
          s(:lvasgn, :_,
            s(:str, "1")))))),
  s(:block,
    s(:send, nil, :benchmark),
    s(:args),
    s(:array,
      s(:block,
        s(:send, nil, :measure),
        s(:args),
        s(:for,
          s(:lvasgn, :_),
          s(:irange,
            s(:int, 1),
            s(:lvar, :n)),
          s(:lvasgn, :_,
            s(:str, "1")))),
      s(:block,
        s(:send, nil, :measure),
        s(:args),
        s(:block,
          s(:send,
            s(:lvar, :n), :times),
          s(:args),
          s(:lvasgn, :_,
            s(:str, "1")))),
      s(:block,
        s(:send, nil, :measure),
        s(:args),
        s(:block,
          s(:send,
            s(:int, 1), :upto,
            s(:lvar, :n)),
          s(:args),
          s(:lvasgn, :_,
            s(:str, "1")))))))
