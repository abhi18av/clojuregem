s(:begin,
  s(:send, nil, :require,
    s(:str, "tempfile")),
  s(:lvasgn, :f,
    s(:send,
      s(:const, nil, :Tempfile), :new,
      s(:str, "foo"))),
  s(:send,
    s(:lvar, :f), :print,
    s(:str, "foo\n")),
  s(:send,
    s(:lvar, :f), :close),
  s(:send,
    s(:lvar, :f), :open),
  s(:send, nil, :p,
    s(:send,
      s(:lvar, :f), :gets)),
  s(:send,
    s(:lvar, :f), :close!))
