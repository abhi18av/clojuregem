s(:begin,
  s(:send, nil, :require,
    s(:str, "webrick")),
  s(:lvasgn, :httpd,
    s(:send,
      s(:const,
        s(:const, nil, :WEBrick), :HTTPServer), :new,
      s(:hash,
        s(:pair,
          s(:sym, :DocumentRoot),
          s(:send,
            s(:const, nil, :File), :dirname,
            s(:str, "(string)"))),
        s(:pair,
          s(:sym, :Port),
          s(:int, 10080)),
        s(:pair,
          s(:sym, :Logger),
          s(:send,
            s(:const,
              s(:const, nil, :WEBrick), :Log), :new,
            s(:gvar, :$stderr),
            s(:const,
              s(:const,
                s(:const, nil, :WEBrick), :Log), :DEBUG))),
        s(:pair,
          s(:sym, :AccessLog),
          s(:array,
            s(:array,
              s(:gvar, :$stderr),
              s(:const,
                s(:const,
                  s(:const, nil, :WEBrick), :AccessLog), :COMMON_LOG_FORMAT)),
            s(:array,
              s(:gvar, :$stderr),
              s(:const,
                s(:const,
                  s(:const, nil, :WEBrick), :AccessLog), :REFERER_LOG_FORMAT)),
            s(:array,
              s(:gvar, :$stderr),
              s(:const,
                s(:const,
                  s(:const, nil, :WEBrick), :AccessLog), :AGENT_LOG_FORMAT)))),
        s(:pair,
          s(:sym, :CGIPathEnv),
          s(:send,
            s(:const, nil, :ENV), :[],
            s(:str, "PATH")))))),
  s(:send, nil, :require,
    s(:str, "./hello")),
  s(:send,
    s(:lvar, :httpd), :mount,
    s(:str, "/hello"),
    s(:const, nil, :HelloServlet)),
  s(:send, nil, :require,
    s(:str, "./demo-servlet")),
  s(:send,
    s(:lvar, :httpd), :mount,
    s(:str, "/urlencoded"),
    s(:const, nil, :DemoServlet),
    s(:str, "application/x-www-form-urlencoded")),
  s(:send,
    s(:lvar, :httpd), :mount,
    s(:str, "/multipart"),
    s(:const, nil, :DemoServlet),
    s(:str, "multipart/form-data")),
  s(:block,
    s(:send, nil, :trap,
      s(:sym, :INT)),
    s(:args),
    s(:send,
      s(:lvar, :httpd), :shutdown)),
  s(:send,
    s(:lvar, :httpd), :start))
