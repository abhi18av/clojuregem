s(:begin,
  s(:send, nil, :require,
    s(:str, "bigdecimal")),
  s(:send, nil, :require,
    s(:str, "bigdecimal/newton")),
  s(:send, nil, :include,
    s(:const, nil, :Newton)),
  s(:class,
    s(:const, nil, :Function), nil,
    s(:begin,
      s(:def, :initialize,
        s(:args),
        s(:begin,
          s(:ivasgn, :@zero,
            s(:send,
              s(:const, nil, :BigDecimal), :new,
              s(:str, "0.0"))),
          s(:ivasgn, :@one,
            s(:send,
              s(:const, nil, :BigDecimal), :new,
              s(:str, "1.0"))),
          s(:ivasgn, :@two,
            s(:send,
              s(:const, nil, :BigDecimal), :new,
              s(:str, "2.0"))),
          s(:ivasgn, :@ten,
            s(:send,
              s(:const, nil, :BigDecimal), :new,
              s(:str, "10.0"))),
          s(:ivasgn, :@eps,
            s(:send,
              s(:const, nil, :BigDecimal), :new,
              s(:str, "1.0e-16"))))),
      s(:def, :zero,
        s(:args),
        s(:ivar, :@zero)),
      s(:def, :one,
        s(:args),
        s(:ivar, :@one)),
      s(:def, :two,
        s(:args),
        s(:ivar, :@two)),
      s(:def, :ten,
        s(:args),
        s(:ivar, :@ten)),
      s(:def, :eps,
        s(:args),
        s(:ivar, :@eps)),
      s(:def, :values,
        s(:args,
          s(:arg, :x)),
        s(:begin,
          s(:lvasgn, :f,
            s(:array)),
          s(:lvasgn, :f1,
            s(:send,
              s(:send,
                s(:send,
                  s(:send,
                    s(:lvar, :x), :[],
                    s(:int, 0)), :*,
                  s(:send,
                    s(:lvar, :x), :[],
                    s(:int, 0))), :+,
                s(:send,
                  s(:send,
                    s(:lvar, :x), :[],
                    s(:int, 1)), :*,
                  s(:send,
                    s(:lvar, :x), :[],
                    s(:int, 1)))), :-,
              s(:ivar, :@two))),
          s(:lvasgn, :f2,
            s(:send,
              s(:send,
                s(:lvar, :x), :[],
                s(:int, 0)), :-,
              s(:send,
                s(:lvar, :x), :[],
                s(:int, 1)))),
          s(:op_asgn,
            s(:lvasgn, :f), :<<,
            s(:lvar, :f1)),
          s(:op_asgn,
            s(:lvasgn, :f), :<<,
            s(:lvar, :f2)),
          s(:lvar, :f))))),
  s(:lvasgn, :f,
    s(:send,
      s(:const, nil, :BigDecimal), :limit,
      s(:int, 100))),
  s(:lvasgn, :f,
    s(:send,
      s(:const, nil, :Function), :new)),
  s(:lvasgn, :x,
    s(:array,
      s(:send,
        s(:lvar, :f), :zero),
      s(:send,
        s(:lvar, :f), :zero))),
  s(:lvasgn, :n,
    s(:send, nil, :nlsolve,
      s(:lvar, :f),
      s(:lvar, :x))),
  s(:send, nil, :p,
    s(:lvar, :x)))
