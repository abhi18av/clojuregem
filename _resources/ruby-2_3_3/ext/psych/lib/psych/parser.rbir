s(:module,
  s(:const, nil, :Psych),
  s(:class,
    s(:const, nil, :Parser), nil,
    s(:begin,
      s(:class,
        s(:const, nil, :Mark),
        s(:send,
          s(:const, nil, :Struct), :new,
          s(:sym, :index),
          s(:sym, :line),
          s(:sym, :column)), nil),
      s(:send, nil, :attr_accessor,
        s(:sym, :handler)),
      s(:send, nil, :attr_writer,
        s(:sym, :external_encoding)),
      s(:def, :initialize,
        s(:args,
          s(:optarg, :handler,
            s(:send,
              s(:const, nil, :Handler), :new))),
        s(:begin,
          s(:ivasgn, :@handler,
            s(:lvar, :handler)),
          s(:ivasgn, :@external_encoding,
            s(:const, nil, :ANY)))))))
