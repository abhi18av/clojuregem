s(:module,
  s(:const, nil, :Psych),
  s(:module,
    s(:const, nil, :JSON),
    s(:module,
      s(:const, nil, :YAMLEvents),
      s(:begin,
        s(:def, :start_document,
          s(:args,
            s(:arg, :version),
            s(:arg, :tag_directives),
            s(:arg, :implicit)),
          s(:super,
            s(:lvar, :version),
            s(:lvar, :tag_directives),
            s(:send,
              s(:send, nil, :streaming?), :!))),
        s(:def, :end_document,
          s(:args,
            s(:optarg, :implicit_end,
              s(:send,
                s(:send, nil, :streaming?), :!))),
          s(:super,
            s(:lvar, :implicit_end))),
        s(:def, :start_mapping,
          s(:args,
            s(:arg, :anchor),
            s(:arg, :tag),
            s(:arg, :implicit),
            s(:arg, :style)),
          s(:super,
            s(:lvar, :anchor),
            s(:nil),
            s(:true),
            s(:const,
              s(:const,
                s(:const, nil, :Nodes), :Mapping), :FLOW))),
        s(:def, :start_sequence,
          s(:args,
            s(:arg, :anchor),
            s(:arg, :tag),
            s(:arg, :implicit),
            s(:arg, :style)),
          s(:super,
            s(:lvar, :anchor),
            s(:nil),
            s(:true),
            s(:const,
              s(:const,
                s(:const, nil, :Nodes), :Sequence), :FLOW))),
        s(:def, :scalar,
          s(:args,
            s(:arg, :value),
            s(:arg, :anchor),
            s(:arg, :tag),
            s(:arg, :plain),
            s(:arg, :quoted),
            s(:arg, :style)),
          s(:if,
            s(:send,
              s(:str, "tag:yaml.org,2002:null"), :==,
              s(:lvar, :tag)),
            s(:super,
              s(:str, "null"),
              s(:nil),
              s(:nil),
              s(:true),
              s(:false),
              s(:const,
                s(:const,
                  s(:const, nil, :Nodes), :Scalar), :PLAIN)),
            s(:zsuper)))))))
