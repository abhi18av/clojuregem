s(:module,
  s(:const, nil, :Psych),
  s(:module,
    s(:const, nil, :Nodes),
    s(:class,
      s(:const, nil, :Document),
      s(:const,
        s(:const,
          s(:const, nil, :Psych), :Nodes), :Node),
      s(:begin,
        s(:send, nil, :attr_accessor,
          s(:sym, :version)),
        s(:send, nil, :attr_accessor,
          s(:sym, :tag_directives)),
        s(:send, nil, :attr_accessor,
          s(:sym, :implicit)),
        s(:send, nil, :attr_accessor,
          s(:sym, :implicit_end)),
        s(:def, :initialize,
          s(:args,
            s(:optarg, :version,
              s(:array)),
            s(:optarg, :tag_directives,
              s(:array)),
            s(:optarg, :implicit,
              s(:false))),
          s(:begin,
            s(:super),
            s(:ivasgn, :@version,
              s(:lvar, :version)),
            s(:ivasgn, :@tag_directives,
              s(:lvar, :tag_directives)),
            s(:ivasgn, :@implicit,
              s(:lvar, :implicit)),
            s(:ivasgn, :@implicit_end,
              s(:true)))),
        s(:def, :root,
          s(:args),
          s(:send,
            s(:send, nil, :children), :first))))))
