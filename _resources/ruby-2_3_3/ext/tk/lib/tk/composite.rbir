s(:begin,
  s(:send, nil, :require,
    s(:str, "tk")),
  s(:module,
    s(:const, nil, :TkComposite),
    s(:begin,
      s(:send, nil, :include,
        s(:const, nil, :Tk)),
      s(:send, nil, :extend,
        s(:const, nil, :Tk)),
      s(:def, :_choice_classname_of_baseframe,
        s(:args),
        s(:begin,
          s(:lvasgn, :base_class_name,
            s(:nil)),
          s(:lvasgn, :klass,
            s(:send,
              s(:const, nil, :WidgetClassNames), :[],
              s(:const,
                s(:send,
                  s(:self), :class), :WidgetClassName))),
          s(:if,
            s(:lvar, :klass),
            s(:if,
              s(:or,
                s(:or,
                  s(:send,
                    s(:lvar, :klass), :<=,
                    s(:const, nil, :TkFrame)),
                  s(:send,
                    s(:lvar, :klass), :<,
                    s(:const,
                      s(:const, nil, :Tk), :Frame))),
                s(:send,
                  s(:lvar, :klass), :<,
                  s(:const, nil, :TkComposite))),
              s(:if,
                s(:send,
                  s(:send,
                    s(:self), :class), :<=,
                  s(:lvar, :klass)),
                s(:begin,
                  s(:lvasgn, :base_class_name,
                    s(:send,
                      s(:send,
                        s(:self), :class), :name)),
                  s(:if,
                    s(:send,
                      s(:lvar, :base_class_name), :==,
                      s(:str, "")),
                    s(:lvasgn, :base_class_name,
                      s(:send,
                        s(:lvar, :klass), :name)), nil)),
                s(:lvasgn, :base_class_name,
                  s(:send,
                    s(:lvar, :klass), :name))),
              s(:if,
                s(:or,
                  s(:or,
                    s(:send,
                      s(:send,
                        s(:self), :class), :<,
                      s(:const, nil, :TkFrame)),
                    s(:send,
                      s(:send,
                        s(:send,
                          s(:self), :class), :superclass), :<,
                      s(:const,
                        s(:const, nil, :Tk), :Frame))),
                  s(:send,
                    s(:send,
                      s(:send,
                        s(:self), :class), :superclass), :<,
                    s(:const, nil, :TkComposite))),
                s(:begin,
                  s(:lvasgn, :base_class_name,
                    s(:send,
                      s(:send,
                        s(:self), :class), :name)),
                  s(:if,
                    s(:send,
                      s(:lvar, :base_class_name), :==,
                      s(:str, "")),
                    s(:lvasgn, :base_class_name,
                      s(:nil)), nil)),
                s(:lvasgn, :base_class_name,
                  s(:nil)))),
            s(:if,
              s(:and,
                s(:const,
                  s(:send,
                    s(:self), :class), :WidgetClassName),
                s(:send,
                  s(:send,
                    s(:const,
                      s(:send,
                        s(:self), :class), :WidgetClassName), :empty?), :!)),
              s(:lvasgn, :base_class_name,
                s(:const,
                  s(:send,
                    s(:self), :class), :WidgetClassName)),
              s(:if,
                s(:or,
                  s(:or,
                    s(:send,
                      s(:send,
                        s(:self), :class), :<,
                      s(:const, nil, :TkFrame)),
                    s(:send,
                      s(:send,
                        s(:send,
                          s(:self), :class), :superclass), :<,
                      s(:const,
                        s(:const, nil, :Tk), :Frame))),
                  s(:send,
                    s(:send,
                      s(:send,
                        s(:self), :class), :superclass), :<,
                    s(:const, nil, :TkComposite))),
                s(:begin,
                  s(:lvasgn, :base_class_name,
                    s(:send,
                      s(:send,
                        s(:self), :class), :name)),
                  s(:if,
                    s(:send,
                      s(:lvar, :base_class_name), :==,
                      s(:str, "")),
                    s(:lvasgn, :base_class_name,
                      s(:nil)), nil)),
                s(:lvasgn, :base_class_name,
                  s(:nil))))),
          s(:lvar, :base_class_name))),
      s(:send, nil, :private,
        s(:sym, :_choice_classname_of_baseframe)),
      s(:def, :initialize,
        s(:args,
          s(:restarg, :args)),
        s(:begin,
          s(:ivasgn, :@delegates,
            s(:hash)),
          s(:ivasgn, :@option_methods,
            s(:hash)),
          s(:ivasgn, :@option_setting,
            s(:hash)),
          s(:if,
            s(:send,
              s(:send,
                s(:lvar, :args), :[],
                s(:int, -1)), :kind_of?,
              s(:const, nil, :Hash)),
            s(:lvasgn, :keys,
              s(:send, nil, :_symbolkey2str,
                s(:send,
                  s(:lvar, :args), :pop))),
            s(:lvasgn, :keys,
              s(:hash))),
          s(:lvasgn, :parent,
            s(:send,
              s(:lvar, :args), :shift)),
          s(:if,
            s(:send,
              s(:lvar, :keys), :has_key?,
              s(:str, "parent")),
            s(:lvasgn, :parent,
              s(:send,
                s(:lvar, :keys), :delete,
                s(:str, "parent"))), nil),
          s(:if,
            s(:send,
              s(:lvar, :keys), :key?,
              s(:str, "classname")),
            s(:send,
              s(:lvar, :keys), :[]=,
              s(:str, "class"),
              s(:send,
                s(:lvar, :keys), :delete,
                s(:str, "classname"))), nil),
          s(:if,
            s(:send,
              s(:begin,
                s(:lvasgn, :base_class_name,
                  s(:send,
                    s(:begin,
                      s(:send,
                        s(:lvar, :keys), :delete,
                        s(:str, "class"))), :to_s))), :empty?),
            s(:lvasgn, :base_class_name,
              s(:send, nil, :_choice_classname_of_baseframe)), nil),
          s(:if,
            s(:lvar, :base_class_name),
            s(:ivasgn, :@frame,
              s(:send,
                s(:const, nil, :TkFrame), :new,
                s(:lvar, :parent),
                s(:hash,
                  s(:pair,
                    s(:sym, :class),
                    s(:lvar, :base_class_name))))),
            s(:ivasgn, :@frame,
              s(:send,
                s(:const, nil, :TkFrame), :new,
                s(:lvar, :parent)))),
          s(:ivasgn, :@path,
            s(:ivasgn, :@epath,
              s(:send,
                s(:ivar, :@frame), :path))),
          s(:if,
            s(:send,
              s(:lvar, :keys), :empty?), nil,
            s(:send,
              s(:lvar, :args), :push,
              s(:lvar, :keys))),
          s(:send, nil, :initialize_composite,
            s(:splat,
              s(:lvar, :args))))),
      s(:def, :database_classname,
        s(:args),
        s(:send,
          s(:ivar, :@frame), :database_classname)),
      s(:def, :database_class,
        s(:args),
        s(:send,
          s(:ivar, :@frame), :database_class)),
      s(:def, :epath,
        s(:args),
        s(:ivar, :@epath)),
      s(:def, :initialize_composite,
        s(:args,
          s(:restarg, :args)), nil),
      s(:send, nil, :private,
        s(:sym, :initialize_composite)),
      s(:def, :inspect,
        s(:args),
        s(:begin,
          s(:lvasgn, :str,
            s(:zsuper)),
          s(:send,
            s(:send,
              s(:send,
                s(:send,
                  s(:lvar, :str), :chop), :<<,
                s(:str, " @epath=")), :<<,
              s(:send,
                s(:ivar, :@epath), :inspect)), :<<,
            s(:str, ">")))),
      s(:def, :_get_opt_method_list,
        s(:args,
          s(:arg, :arg)),
        s(:begin,
          s(:masgn,
            s(:mlhs,
              s(:lvasgn, :m_set),
              s(:lvasgn, :m_cget),
              s(:lvasgn, :m_info)),
            s(:lvar, :arg)),
          s(:lvasgn, :m_set,
            s(:send,
              s(:lvar, :m_set), :to_s)),
          s(:if,
            s(:and,
              s(:send,
                s(:lvar, :m_cget), :!),
              s(:send,
                s(:send,
                  s(:send,
                    s(:self), :method,
                    s(:lvar, :m_set)), :arity), :==,
                s(:int, -1))),
            s(:lvasgn, :m_cget,
              s(:lvar, :m_set)), nil),
          s(:if,
            s(:lvar, :m_cget),
            s(:lvasgn, :m_cget,
              s(:send,
                s(:lvar, :m_cget), :to_s)), nil),
          s(:if,
            s(:lvar, :m_info),
            s(:lvasgn, :m_info,
              s(:send,
                s(:lvar, :m_info), :to_s)), nil),
          s(:array,
            s(:lvar, :m_set),
            s(:lvar, :m_cget),
            s(:lvar, :m_info)))),
      s(:send, nil, :private,
        s(:sym, :_get_opt_method_list)),
      s(:def, :option_methods,
        s(:args,
          s(:restarg, :opts)),
        s(:if,
          s(:and,
            s(:send,
              s(:send,
                s(:lvar, :opts), :size), :==,
              s(:int, 1)),
            s(:send,
              s(:send,
                s(:lvar, :opts), :[],
                s(:int, 0)), :kind_of?,
              s(:const, nil, :Hash))),
          s(:block,
            s(:send,
              s(:send,
                s(:lvar, :opts), :[],
                s(:int, 0)), :each),
            s(:args,
              s(:arg, :name),
              s(:arg, :arg)),
            s(:begin,
              s(:masgn,
                s(:mlhs,
                  s(:lvasgn, :m_set),
                  s(:lvasgn, :m_cget),
                  s(:lvasgn, :m_info)),
                s(:send, nil, :_get_opt_method_list,
                  s(:lvar, :arg))),
              s(:send,
                s(:ivar, :@option_methods), :[]=,
                s(:send,
                  s(:lvar, :name), :to_s),
                s(:hash,
                  s(:pair,
                    s(:sym, :set),
                    s(:lvar, :m_set)),
                  s(:pair,
                    s(:sym, :cget),
                    s(:lvar, :m_cget)),
                  s(:pair,
                    s(:sym, :info),
                    s(:lvar, :m_info)))))),
          s(:block,
            s(:send,
              s(:lvar, :opts), :each),
            s(:args,
              s(:arg, :arg)),
            s(:begin,
              s(:masgn,
                s(:mlhs,
                  s(:lvasgn, :m_set),
                  s(:lvasgn, :m_cget),
                  s(:lvasgn, :m_info)),
                s(:send, nil, :_get_opt_method_list,
                  s(:lvar, :arg))),
              s(:send,
                s(:ivar, :@option_methods), :[]=,
                s(:lvar, :m_set),
                s(:hash,
                  s(:pair,
                    s(:sym, :set),
                    s(:lvar, :m_set)),
                  s(:pair,
                    s(:sym, :cget),
                    s(:lvar, :m_cget)),
                  s(:pair,
                    s(:sym, :info),
                    s(:lvar, :m_info)))))))),
      s(:def, :delegate_alias,
        s(:args,
          s(:arg, :alias_opt),
          s(:arg, :option),
          s(:restarg, :wins)),
        s(:begin,
          s(:if,
            s(:send,
              s(:send,
                s(:lvar, :wins), :length), :==,
              s(:int, 0)),
            s(:send, nil, :fail,
              s(:const, nil, :ArgumentError),
              s(:str, "target widgets are not given")), nil),
          s(:if,
            s(:and,
              s(:send,
                s(:lvar, :alias_opt), :!=,
                s(:lvar, :option)),
              s(:begin,
                s(:or,
                  s(:send,
                    s(:lvar, :alias_opt), :==,
                    s(:str, "DEFAULT")),
                  s(:send,
                    s(:lvar, :option), :==,
                    s(:str, "DEFAULT"))))),
            s(:send, nil, :fail,
              s(:const, nil, :ArgumentError),
              s(:str, "cannot alias 'DEFAULT' option")), nil),
          s(:lvasgn, :alias_opt,
            s(:send,
              s(:lvar, :alias_opt), :to_s)),
          s(:lvasgn, :option,
            s(:send,
              s(:lvar, :option), :to_s)),
          s(:if,
            s(:send,
              s(:send,
                s(:ivar, :@delegates), :[],
                s(:lvar, :alias_opt)), :kind_of?,
              s(:const, nil, :Array)),
            s(:if,
              s(:begin,
                s(:lvasgn, :elem,
                  s(:send,
                    s(:send,
                      s(:ivar, :@delegates), :[],
                      s(:lvar, :alias_opt)), :assoc,
                    s(:lvar, :option)))),
              s(:block,
                s(:send,
                  s(:lvar, :wins), :each),
                s(:args,
                  s(:arg, :w)),
                s(:send,
                  s(:send,
                    s(:lvar, :elem), :[],
                    s(:int, 1)), :push,
                  s(:lvar, :w))),
              s(:send,
                s(:send,
                  s(:ivar, :@delegates), :[],
                  s(:lvar, :alias_opt)), :<<,
                s(:array,
                  s(:lvar, :option),
                  s(:lvar, :wins)))),
            s(:send,
              s(:ivar, :@delegates), :[]=,
              s(:lvar, :alias_opt),
              s(:array,
                s(:array,
                  s(:lvar, :option),
                  s(:lvar, :wins))))))),
      s(:def, :delegate,
        s(:args,
          s(:arg, :option),
          s(:restarg, :wins)),
        s(:send, nil, :delegate_alias,
          s(:lvar, :option),
          s(:lvar, :option),
          s(:splat,
            s(:lvar, :wins)))),
      s(:def, :__cget_delegates,
        s(:args,
          s(:arg, :slot)),
        s(:begin,
          s(:lvasgn, :slot,
            s(:send,
              s(:lvar, :slot), :to_s)),
          s(:if,
            s(:send,
              s(:ivar, :@option_methods), :include?,
              s(:lvar, :slot)),
            s(:if,
              s(:send,
                s(:send,
                  s(:ivar, :@option_methods), :[],
                  s(:lvar, :slot)), :[],
                s(:sym, :cget)),
              s(:return,
                s(:send,
                  s(:self), :__send__,
                  s(:send,
                    s(:send,
                      s(:ivar, :@option_methods), :[],
                      s(:lvar, :slot)), :[],
                    s(:sym, :cget)))),
              s(:if,
                s(:send,
                  s(:ivar, :@option_setting), :[],
                  s(:lvar, :slot)),
                s(:return,
                  s(:send,
                    s(:ivar, :@option_setting), :[],
                    s(:lvar, :slot))),
                s(:return,
                  s(:str, "")))), nil),
          s(:lvasgn, :tbl,
            s(:send,
              s(:ivar, :@delegates), :[],
              s(:lvar, :slot))),
          s(:if,
            s(:lvar, :tbl), nil,
            s(:lvasgn, :tbl,
              s(:send,
                s(:ivar, :@delegates), :[],
                s(:str, "DEFAULT")))),
          s(:kwbegin,
            s(:rescue,
              s(:if,
                s(:lvar, :tbl),
                s(:begin,
                  s(:masgn,
                    s(:mlhs,
                      s(:lvasgn, :opt),
                      s(:lvasgn, :wins)),
                    s(:send,
                      s(:lvar, :tbl), :[],
                      s(:int, -1))),
                  s(:if,
                    s(:send,
                      s(:lvar, :opt), :==,
                      s(:str, "DEFAULT")),
                    s(:lvasgn, :opt,
                      s(:lvar, :slot)), nil),
                  s(:if,
                    s(:and,
                      s(:lvar, :wins),
                      s(:send,
                        s(:lvar, :wins), :[],
                        s(:int, -1))),
                    s(:return,
                      s(:send,
                        s(:send,
                          s(:lvar, :wins), :[],
                          s(:int, -1)), :cget_strict,
                        s(:lvar, :opt))), nil)), nil),
              s(:resbody, nil, nil, nil), nil)),
          s(:return,
            s(:const, nil, :None)))),
      s(:send, nil, :private,
        s(:sym, :__cget_delegates)),
      s(:def, :cget_tkstring,
        s(:args,
          s(:arg, :slot)),
        s(:if,
          s(:send,
            s(:begin,
              s(:lvasgn, :ret,
                s(:send, nil, :__cget_delegates,
                  s(:lvar, :slot)))), :==,
            s(:const, nil, :None)),
          s(:super,
            s(:lvar, :slot)),
          s(:send, nil, :_get_eval_string,
            s(:lvar, :ret)))),
      s(:def, :cget,
        s(:args,
          s(:arg, :slot)),
        s(:if,
          s(:send,
            s(:begin,
              s(:lvasgn, :ret,
                s(:send, nil, :__cget_delegates,
                  s(:lvar, :slot)))), :==,
            s(:const, nil, :None)),
          s(:super,
            s(:lvar, :slot)),
          s(:lvar, :ret))),
      s(:def, :cget_strict,
        s(:args,
          s(:arg, :slot)),
        s(:if,
          s(:send,
            s(:begin,
              s(:lvasgn, :ret,
                s(:send, nil, :__cget_delegates,
                  s(:lvar, :slot)))), :==,
            s(:const, nil, :None)),
          s(:super,
            s(:lvar, :slot)),
          s(:lvar, :ret))),
      s(:def, :configure,
        s(:args,
          s(:arg, :slot),
          s(:optarg, :value,
            s(:const, nil, :None))),
        s(:begin,
          s(:if,
            s(:send,
              s(:lvar, :slot), :kind_of?,
              s(:const, nil, :Hash)),
            s(:begin,
              s(:block,
                s(:send,
                  s(:lvar, :slot), :each),
                s(:args,
                  s(:arg, :slot),
                  s(:arg, :value)),
                s(:send, nil, :configure,
                  s(:lvar, :slot),
                  s(:lvar, :value))),
              s(:return,
                s(:self))), nil),
          s(:lvasgn, :slot,
            s(:send,
              s(:lvar, :slot), :to_s)),
          s(:if,
            s(:send,
              s(:ivar, :@option_methods), :include?,
              s(:lvar, :slot)),
            s(:begin,
              s(:if,
                s(:send,
                  s(:send,
                    s(:ivar, :@option_methods), :[],
                    s(:lvar, :slot)), :[],
                  s(:sym, :cget)), nil,
                s(:if,
                  s(:send,
                    s(:lvar, :value), :kind_of?,
                    s(:const, nil, :Symbol)),
                  s(:send,
                    s(:ivar, :@option_setting), :[]=,
                    s(:lvar, :slot),
                    s(:send,
                      s(:lvar, :value), :to_s)),
                  s(:send,
                    s(:ivar, :@option_setting), :[]=,
                    s(:lvar, :slot),
                    s(:lvar, :value)))),
              s(:return,
                s(:send,
                  s(:self), :__send__,
                  s(:send,
                    s(:send,
                      s(:ivar, :@option_methods), :[],
                      s(:lvar, :slot)), :[],
                    s(:sym, :set)),
                  s(:lvar, :value)))), nil),
          s(:lvasgn, :tbl,
            s(:send,
              s(:ivar, :@delegates), :[],
              s(:lvar, :slot))),
          s(:if,
            s(:lvar, :tbl), nil,
            s(:lvasgn, :tbl,
              s(:send,
                s(:ivar, :@delegates), :[],
                s(:str, "DEFAULT")))),
          s(:kwbegin,
            s(:rescue,
              s(:if,
                s(:lvar, :tbl),
                s(:begin,
                  s(:lvasgn, :last,
                    s(:nil)),
                  s(:block,
                    s(:send,
                      s(:lvar, :tbl), :each),
                    s(:args,
                      s(:arg, :opt),
                      s(:arg, :wins)),
                    s(:begin,
                      s(:if,
                        s(:send,
                          s(:lvar, :opt), :==,
                          s(:str, "DEFAULT")),
                        s(:lvasgn, :opt,
                          s(:lvar, :slot)), nil),
                      s(:block,
                        s(:send,
                          s(:lvar, :wins), :each),
                        s(:args,
                          s(:arg, :w)),
                        s(:lvasgn, :last,
                          s(:send,
                            s(:lvar, :w), :configure,
                            s(:lvar, :opt),
                            s(:lvar, :value)))))),
                  s(:return,
                    s(:lvar, :last))), nil),
              s(:resbody, nil, nil, nil), nil)),
          s(:super,
            s(:lvar, :slot),
            s(:lvar, :value)))),
      s(:def, :configinfo,
        s(:args,
          s(:optarg, :slot,
            s(:nil))),
        s(:if,
          s(:const,
            s(:const, nil, :TkComm), :GET_CONFIGINFO_AS_ARRAY),
          s(:if,
            s(:lvar, :slot),
            s(:begin,
              s(:lvasgn, :slot,
                s(:send,
                  s(:lvar, :slot), :to_s)),
              s(:if,
                s(:send,
                  s(:ivar, :@option_methods), :include?,
                  s(:lvar, :slot)),
                s(:if,
                  s(:send,
                    s(:send,
                      s(:ivar, :@option_methods), :[],
                      s(:lvar, :slot)), :[],
                    s(:sym, :info)),
                  s(:return,
                    s(:send,
                      s(:self), :__send__,
                      s(:send,
                        s(:send,
                          s(:ivar, :@option_methods), :[],
                          s(:lvar, :slot)), :[],
                        s(:sym, :info)))),
                  s(:return,
                    s(:array,
                      s(:lvar, :slot),
                      s(:str, ""),
                      s(:str, ""),
                      s(:str, ""),
                      s(:send,
                        s(:self), :cget,
                        s(:lvar, :slot))))), nil),
              s(:lvasgn, :tbl,
                s(:send,
                  s(:ivar, :@delegates), :[],
                  s(:lvar, :slot))),
              s(:if,
                s(:lvar, :tbl), nil,
                s(:lvasgn, :tbl,
                  s(:send,
                    s(:ivar, :@delegates), :[],
                    s(:str, "DEFAULT")))),
              s(:kwbegin,
                s(:rescue,
                  s(:if,
                    s(:lvar, :tbl),
                    s(:if,
                      s(:send,
                        s(:send,
                          s(:lvar, :tbl), :length), :==,
                        s(:int, 1)),
                      s(:begin,
                        s(:masgn,
                          s(:mlhs,
                            s(:lvasgn, :opt),
                            s(:lvasgn, :wins)),
                          s(:send,
                            s(:lvar, :tbl), :[],
                            s(:int, 0))),
                        s(:if,
                          s(:or,
                            s(:send,
                              s(:lvar, :slot), :==,
                              s(:lvar, :opt)),
                            s(:send,
                              s(:lvar, :opt), :==,
                              s(:str, "DEFAULT"))),
                          s(:return,
                            s(:send,
                              s(:send,
                                s(:lvar, :wins), :[],
                                s(:int, -1)), :configinfo,
                              s(:lvar, :slot))),
                          s(:begin,
                            s(:lvasgn, :info,
                              s(:send,
                                s(:send,
                                  s(:lvar, :wins), :[],
                                  s(:int, -1)), :configinfo,
                                s(:lvar, :opt))),
                            s(:send,
                              s(:lvar, :info), :[]=,
                              s(:int, 0),
                              s(:lvar, :slot)),
                            s(:return,
                              s(:lvar, :info))))),
                      s(:begin,
                        s(:masgn,
                          s(:mlhs,
                            s(:lvasgn, :opt),
                            s(:lvasgn, :wins)),
                          s(:send,
                            s(:lvar, :tbl), :[],
                            s(:int, -1))),
                        s(:return,
                          s(:array,
                            s(:lvar, :slot),
                            s(:str, ""),
                            s(:str, ""),
                            s(:str, ""),
                            s(:send,
                              s(:send,
                                s(:lvar, :wins), :[],
                                s(:int, -1)), :cget,
                              s(:lvar, :opt)))))), nil),
                  s(:resbody, nil, nil, nil), nil)),
              s(:super,
                s(:lvar, :slot))),
            s(:begin,
              s(:lvasgn, :info_list,
                s(:super,
                  s(:lvar, :slot))),
              s(:lvasgn, :tbl,
                s(:send,
                  s(:ivar, :@delegates), :[],
                  s(:str, "DEFAULT"))),
              s(:if,
                s(:lvar, :tbl),
                s(:begin,
                  s(:lvasgn, :wins,
                    s(:send,
                      s(:send,
                        s(:lvar, :tbl), :[],
                        s(:int, 0)), :[],
                      s(:int, 1))),
                  s(:if,
                    s(:and,
                      s(:lvar, :wins),
                      s(:send,
                        s(:lvar, :wins), :[],
                        s(:int, -1))),
                    s(:block,
                      s(:send,
                        s(:send,
                          s(:send,
                            s(:lvar, :wins), :[],
                            s(:int, -1)), :configinfo), :each),
                      s(:args,
                        s(:arg, :info)),
                      s(:begin,
                        s(:lvasgn, :slot,
                          s(:send,
                            s(:lvar, :info), :[],
                            s(:int, 0))),
                        s(:send,
                          s(:block,
                            s(:send,
                              s(:lvar, :info_list), :delete_if),
                            s(:args,
                              s(:arg, :i)),
                            s(:send,
                              s(:send,
                                s(:lvar, :i), :[],
                                s(:int, 0)), :==,
                              s(:lvar, :slot))), :<<,
                          s(:lvar, :info)))), nil)), nil),
              s(:block,
                s(:send,
                  s(:ivar, :@delegates), :each),
                s(:args,
                  s(:arg, :slot),
                  s(:arg, :tbl)),
                s(:begin,
                  s(:if,
                    s(:send,
                      s(:lvar, :slot), :==,
                      s(:str, "DEFAULT")),
                    s(:next), nil),
                  s(:if,
                    s(:send,
                      s(:send,
                        s(:lvar, :tbl), :length), :==,
                      s(:int, 1)),
                    s(:begin,
                      s(:masgn,
                        s(:mlhs,
                          s(:lvasgn, :opt),
                          s(:lvasgn, :wins)),
                        s(:send,
                          s(:lvar, :tbl), :[],
                          s(:int, 0))),
                      s(:if,
                        s(:and,
                          s(:lvar, :wins),
                          s(:send,
                            s(:lvar, :wins), :[],
                            s(:int, -1))), nil,
                        s(:next)),
                      s(:if,
                        s(:send,
                          s(:lvar, :slot), :==,
                          s(:lvar, :opt)),
                        s(:send,
                          s(:block,
                            s(:send,
                              s(:lvar, :info_list), :delete_if),
                            s(:args,
                              s(:arg, :i)),
                            s(:send,
                              s(:send,
                                s(:lvar, :i), :[],
                                s(:int, 0)), :==,
                              s(:lvar, :slot))), :<<,
                          s(:send,
                            s(:send,
                              s(:lvar, :wins), :[],
                              s(:int, -1)), :configinfo,
                            s(:lvar, :slot))),
                        s(:begin,
                          s(:lvasgn, :info,
                            s(:send,
                              s(:send,
                                s(:lvar, :wins), :[],
                                s(:int, -1)), :configinfo,
                              s(:lvar, :opt))),
                          s(:send,
                            s(:lvar, :info), :[]=,
                            s(:int, 0),
                            s(:lvar, :slot)),
                          s(:send,
                            s(:block,
                              s(:send,
                                s(:lvar, :info_list), :delete_if),
                              s(:args,
                                s(:arg, :i)),
                              s(:send,
                                s(:send,
                                  s(:lvar, :i), :[],
                                  s(:int, 0)), :==,
                                s(:lvar, :slot))), :<<,
                            s(:lvar, :info))))),
                    s(:begin,
                      s(:masgn,
                        s(:mlhs,
                          s(:lvasgn, :opt),
                          s(:lvasgn, :wins)),
                        s(:send,
                          s(:lvar, :tbl), :[],
                          s(:int, -1))),
                      s(:send,
                        s(:block,
                          s(:send,
                            s(:lvar, :info_list), :delete_if),
                          s(:args,
                            s(:arg, :i)),
                          s(:send,
                            s(:send,
                              s(:lvar, :i), :[],
                              s(:int, 0)), :==,
                            s(:lvar, :slot))), :<<,
                        s(:array,
                          s(:lvar, :slot),
                          s(:str, ""),
                          s(:str, ""),
                          s(:str, ""),
                          s(:send,
                            s(:send,
                              s(:lvar, :wins), :[],
                              s(:int, -1)), :cget,
                            s(:lvar, :opt)))))))),
              s(:block,
                s(:send,
                  s(:ivar, :@option_methods), :each),
                s(:args,
                  s(:arg, :slot),
                  s(:arg, :m)),
                s(:begin,
                  s(:if,
                    s(:send,
                      s(:lvar, :m), :[],
                      s(:sym, :info)),
                    s(:lvasgn, :info,
                      s(:send,
                        s(:self), :__send__,
                        s(:send,
                          s(:lvar, :m), :[],
                          s(:sym, :info)))),
                    s(:lvasgn, :info,
                      s(:array,
                        s(:lvar, :slot),
                        s(:str, ""),
                        s(:str, ""),
                        s(:str, ""),
                        s(:send,
                          s(:self), :cget,
                          s(:lvar, :slot))))),
                  s(:send,
                    s(:block,
                      s(:send,
                        s(:lvar, :info_list), :delete_if),
                      s(:args,
                        s(:arg, :i)),
                      s(:send,
                        s(:send,
                          s(:lvar, :i), :[],
                          s(:int, 0)), :==,
                        s(:lvar, :slot))), :<<,
                    s(:lvar, :info)))),
              s(:lvar, :info_list))),
          s(:if,
            s(:lvar, :slot),
            s(:begin,
              s(:lvasgn, :slot,
                s(:send,
                  s(:lvar, :slot), :to_s)),
              s(:if,
                s(:send,
                  s(:ivar, :@option_methods), :include?,
                  s(:lvar, :slot)),
                s(:if,
                  s(:send,
                    s(:send,
                      s(:ivar, :@option_methods), :[],
                      s(:lvar, :slot)), :[],
                    s(:sym, :info)),
                  s(:return,
                    s(:send,
                      s(:self), :__send__,
                      s(:send,
                        s(:send,
                          s(:ivar, :@option_methods), :[],
                          s(:lvar, :slot)), :[],
                        s(:sym, :info)))),
                  s(:return,
                    s(:hash,
                      s(:pair,
                        s(:lvar, :slot),
                        s(:array,
                          s(:str, ""),
                          s(:str, ""),
                          s(:str, ""),
                          s(:send,
                            s(:self), :cget,
                            s(:lvar, :slot))))))), nil),
              s(:lvasgn, :tbl,
                s(:send,
                  s(:ivar, :@delegates), :[],
                  s(:lvar, :slot))),
              s(:if,
                s(:lvar, :tbl), nil,
                s(:lvasgn, :tbl,
                  s(:send,
                    s(:ivar, :@delegates), :[],
                    s(:str, "DEFAULT")))),
              s(:kwbegin,
                s(:rescue,
                  s(:if,
                    s(:lvar, :tbl),
                    s(:if,
                      s(:send,
                        s(:send,
                          s(:lvar, :tbl), :length), :==,
                        s(:int, 1)),
                      s(:begin,
                        s(:masgn,
                          s(:mlhs,
                            s(:lvasgn, :opt),
                            s(:lvasgn, :wins)),
                          s(:send,
                            s(:lvar, :tbl), :[],
                            s(:int, 0))),
                        s(:if,
                          s(:or,
                            s(:send,
                              s(:lvar, :slot), :==,
                              s(:lvar, :opt)),
                            s(:send,
                              s(:lvar, :opt), :==,
                              s(:str, "DEFAULT"))),
                          s(:return,
                            s(:send,
                              s(:send,
                                s(:lvar, :wins), :[],
                                s(:int, -1)), :configinfo,
                              s(:lvar, :slot))),
                          s(:return,
                            s(:hash,
                              s(:pair,
                                s(:lvar, :slot),
                                s(:send,
                                  s(:send,
                                    s(:send,
                                      s(:lvar, :wins), :[],
                                      s(:int, -1)), :configinfo,
                                    s(:lvar, :opt)), :[],
                                  s(:lvar, :opt))))))),
                      s(:begin,
                        s(:masgn,
                          s(:mlhs,
                            s(:lvasgn, :opt),
                            s(:lvasgn, :wins)),
                          s(:send,
                            s(:lvar, :tbl), :[],
                            s(:int, -1))),
                        s(:return,
                          s(:hash,
                            s(:pair,
                              s(:lvar, :slot),
                              s(:array,
                                s(:str, ""),
                                s(:str, ""),
                                s(:str, ""),
                                s(:send,
                                  s(:send,
                                    s(:lvar, :wins), :[],
                                    s(:int, -1)), :cget,
                                  s(:lvar, :opt)))))))), nil),
                  s(:resbody, nil, nil, nil), nil)),
              s(:super,
                s(:lvar, :slot))),
            s(:begin,
              s(:lvasgn, :info_list,
                s(:super,
                  s(:lvar, :slot))),
              s(:lvasgn, :tbl,
                s(:send,
                  s(:ivar, :@delegates), :[],
                  s(:str, "DEFAULT"))),
              s(:if,
                s(:lvar, :tbl),
                s(:begin,
                  s(:lvasgn, :wins,
                    s(:send,
                      s(:send,
                        s(:lvar, :tbl), :[],
                        s(:int, 0)), :[],
                      s(:int, 1))),
                  s(:if,
                    s(:and,
                      s(:lvar, :wins),
                      s(:send,
                        s(:lvar, :wins), :[],
                        s(:int, -1))),
                    s(:send,
                      s(:lvar, :info_list), :update,
                      s(:send,
                        s(:send,
                          s(:lvar, :wins), :[],
                          s(:int, -1)), :configinfo)), nil)), nil),
              s(:block,
                s(:send,
                  s(:ivar, :@delegates), :each),
                s(:args,
                  s(:arg, :slot),
                  s(:arg, :tbl)),
                s(:begin,
                  s(:if,
                    s(:send,
                      s(:lvar, :slot), :==,
                      s(:str, "DEFAULT")),
                    s(:next), nil),
                  s(:if,
                    s(:send,
                      s(:send,
                        s(:lvar, :tbl), :length), :==,
                      s(:int, 1)),
                    s(:begin,
                      s(:masgn,
                        s(:mlhs,
                          s(:lvasgn, :opt),
                          s(:lvasgn, :wins)),
                        s(:send,
                          s(:lvar, :tbl), :[],
                          s(:int, 0))),
                      s(:if,
                        s(:and,
                          s(:lvar, :wins),
                          s(:send,
                            s(:lvar, :wins), :[],
                            s(:int, -1))), nil,
                        s(:next)),
                      s(:if,
                        s(:send,
                          s(:lvar, :slot), :==,
                          s(:lvar, :opt)),
                        s(:send,
                          s(:lvar, :info_list), :update,
                          s(:send,
                            s(:send,
                              s(:lvar, :wins), :[],
                              s(:int, -1)), :configinfo,
                            s(:lvar, :slot))),
                        s(:send,
                          s(:lvar, :info_list), :update,
                          s(:hash,
                            s(:pair,
                              s(:lvar, :slot),
                              s(:send,
                                s(:send,
                                  s(:send,
                                    s(:lvar, :wins), :[],
                                    s(:int, -1)), :configinfo,
                                  s(:lvar, :opt)), :[],
                                s(:lvar, :opt))))))),
                    s(:begin,
                      s(:masgn,
                        s(:mlhs,
                          s(:lvasgn, :opt),
                          s(:lvasgn, :wins)),
                        s(:send,
                          s(:lvar, :tbl), :[],
                          s(:int, -1))),
                      s(:send,
                        s(:lvar, :info_list), :update,
                        s(:hash,
                          s(:pair,
                            s(:lvar, :slot),
                            s(:array,
                              s(:str, ""),
                              s(:str, ""),
                              s(:str, ""),
                              s(:send,
                                s(:send,
                                  s(:lvar, :wins), :[],
                                  s(:int, -1)), :cget,
                                s(:lvar, :opt)))))))))),
              s(:block,
                s(:send,
                  s(:ivar, :@option_methods), :each),
                s(:args,
                  s(:arg, :slot),
                  s(:arg, :m)),
                s(:begin,
                  s(:if,
                    s(:send,
                      s(:lvar, :m), :[],
                      s(:sym, :info)),
                    s(:lvasgn, :info,
                      s(:send,
                        s(:self), :__send__,
                        s(:send,
                          s(:lvar, :m), :[],
                          s(:sym, :info)))),
                    s(:lvasgn, :info,
                      s(:hash,
                        s(:pair,
                          s(:lvar, :slot),
                          s(:array,
                            s(:str, ""),
                            s(:str, ""),
                            s(:str, ""),
                            s(:send,
                              s(:self), :cget,
                              s(:lvar, :slot))))))),
                  s(:send,
                    s(:lvar, :info_list), :update,
                    s(:lvar, :info)))),
              s(:lvar, :info_list))))))))
