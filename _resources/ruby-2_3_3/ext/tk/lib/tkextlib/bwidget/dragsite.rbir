s(:begin,
  s(:send, nil, :require,
    s(:str, "tk")),
  s(:send, nil, :require,
    s(:str, "tkextlib/bwidget.rb")),
  s(:module,
    s(:const, nil, :Tk),
    s(:module,
      s(:const, nil, :BWidget),
      s(:module,
        s(:const, nil, :DragSite), nil))),
  s(:module,
    s(:const,
      s(:const,
        s(:const, nil, :Tk), :BWidget), :DragSite),
    s(:begin,
      s(:send, nil, :include,
        s(:const, nil, :Tk)),
      s(:send, nil, :extend,
        s(:const, nil, :Tk)),
      s(:defs,
        s(:self), :include,
        s(:args,
          s(:arg, :klass),
          s(:arg, :type),
          s(:arg, :event)),
        s(:send, nil, :tk_call,
          s(:str, "DragSite::include"),
          s(:lvar, :klass),
          s(:lvar, :type),
          s(:lvar, :event))),
      s(:defs,
        s(:self), :register,
        s(:args,
          s(:arg, :path),
          s(:optarg, :keys,
            s(:hash))),
        s(:send, nil, :tk_call,
          s(:str, "DragSite::register"),
          s(:lvar, :path),
          s(:splat,
            s(:send, nil, :hash_kv,
              s(:lvar, :keys))))),
      s(:defs,
        s(:self), :set_drag,
        s(:args,
          s(:arg, :path),
          s(:arg, :subpath),
          s(:arg, :initcmd),
          s(:arg, :endcmd),
          s(:optarg, :force,
            s(:const, nil, :None))),
        s(:send, nil, :tk_call,
          s(:str, "DragSite::setdrag"),
          s(:lvar, :path),
          s(:lvar, :subpath),
          s(:lvar, :initcmd),
          s(:lvar, :endcmd),
          s(:lvar, :force))))))
