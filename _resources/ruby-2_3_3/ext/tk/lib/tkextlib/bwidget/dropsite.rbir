s(:begin,
  s(:send, nil, :require,
    s(:str, "tk")),
  s(:send, nil, :require,
    s(:str, "tkextlib/bwidget.rb")),
  s(:module,
    s(:const, nil, :Tk),
    s(:module,
      s(:const, nil, :BWidget),
      s(:module,
        s(:const, nil, :DropSite), nil))),
  s(:module,
    s(:const,
      s(:const,
        s(:const, nil, :Tk), :BWidget), :DropSite),
    s(:begin,
      s(:send, nil, :include,
        s(:const, nil, :Tk)),
      s(:send, nil, :extend,
        s(:const, nil, :Tk)),
      s(:defs,
        s(:self), :include,
        s(:args,
          s(:arg, :klass),
          s(:arg, :type)),
        s(:send, nil, :tk_call,
          s(:str, "DropSite::include"),
          s(:lvar, :klass),
          s(:lvar, :type))),
      s(:defs,
        s(:self), :register,
        s(:args,
          s(:arg, :path),
          s(:optarg, :keys,
            s(:hash))),
        s(:send, nil, :tk_call,
          s(:str, "DropSite::register"),
          s(:lvar, :path),
          s(:splat,
            s(:send, nil, :hash_kv,
              s(:lvar, :keys))))),
      s(:defs,
        s(:self), :set_cursor,
        s(:args,
          s(:arg, :cursor)),
        s(:send, nil, :tk_call,
          s(:str, "DropSite::setcursor"),
          s(:lvar, :cursor))),
      s(:defs,
        s(:self), :set_drop,
        s(:args,
          s(:arg, :path),
          s(:arg, :subpath),
          s(:arg, :dropover),
          s(:arg, :drop),
          s(:optarg, :force,
            s(:const, nil, :None))),
        s(:send, nil, :tk_call,
          s(:str, "DropSite::setdrop"),
          s(:lvar, :path),
          s(:lvar, :subpath),
          s(:lvar, :dropover),
          s(:lvar, :drop),
          s(:lvar, :force))),
      s(:defs,
        s(:self), :set_operation,
        s(:args,
          s(:arg, :op)),
        s(:send, nil, :tk_call,
          s(:str, "DropSite::setoperation"),
          s(:lvar, :op))))))
