s(:begin,
  s(:send, nil, :require,
    s(:str, "tk")),
  s(:send, nil, :require,
    s(:str, "tk/image")),
  s(:send, nil, :require,
    s(:str, "tkextlib/bwidget.rb")),
  s(:module,
    s(:const, nil, :Tk),
    s(:module,
      s(:const, nil, :BWidget),
      s(:class,
        s(:const, nil, :Bitmap),
        s(:const, nil, :TkPhotoImage), nil))),
  s(:class,
    s(:const,
      s(:const,
        s(:const, nil, :Tk), :BWidget), :Bitmap), nil,
    s(:def, :initialize,
      s(:args,
        s(:arg, :name)),
      s(:begin,
        s(:ivasgn, :@path,
          s(:send, nil, :tk_call_without_enc,
            s(:str, "Bitmap::get"),
            s(:lvar, :name))),
        s(:send,
          s(:const, nil, :Tk_IMGTBL), :[]=,
          s(:ivar, :@path),
          s(:self))))))
