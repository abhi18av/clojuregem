s(:begin,
  s(:send, nil, :require,
    s(:str, "tk")),
  s(:send, nil, :require,
    s(:str, "tkextlib/blt.rb")),
  s(:module,
    s(:const,
      s(:const, nil, :Tk), :BLT),
    s(:class,
      s(:const, nil, :Printer),
      s(:const, nil, :TkObject),
      s(:begin,
        s(:send, nil, :extend,
          s(:const, nil, :TkCore)),
        s(:casgn, nil, :TkCommandNames,
          s(:send,
            s(:array,
              s(:send,
                s(:str, "::blt::printer"), :freeze)), :freeze)),
        s(:defs,
          s(:self), :enum,
          s(:args,
            s(:arg, :attribute)),
          s(:send, nil, :simplelist,
            s(:send, nil, :tk_call,
              s(:str, "::blt::printer"),
              s(:str, "enum"),
              s(:lvar, :attribute)))),
        s(:defs,
          s(:self), :names,
          s(:args,
            s(:optarg, :pat,
              s(:const, nil, :None))),
          s(:send, nil, :simplelist,
            s(:send, nil, :tk_call,
              s(:str, "::blt::printer"),
              s(:str, "names"),
              s(:lvar, :pat)))),
        s(:defs,
          s(:self), :open,
          s(:args,
            s(:arg, :printer)),
          s(:send,
            s(:self), :new,
            s(:lvar, :printer))),
        s(:def, :initialize,
          s(:args,
            s(:arg, :printer)),
          s(:ivasgn, :@printer_id,
            s(:send, nil, :tk_call,
              s(:str, "::blt::printer"),
              s(:str, "open"),
              s(:lvar, :printer)))),
        s(:def, :close,
          s(:args),
          s(:begin,
            s(:send, nil, :tk_call,
              s(:str, "::blt::print"),
              s(:str, "close"),
              s(:ivar, :@printer_id)),
            s(:self))),
        s(:def, :get_attrs,
          s(:args,
            s(:arg, :var)),
          s(:begin,
            s(:send, nil, :tk_call,
              s(:str, "::blt::print"),
              s(:str, "getattrs"),
              s(:ivar, :@printer_id),
              s(:lvar, :var)),
            s(:lvar, :var))),
        s(:def, :set_attrs,
          s(:args,
            s(:arg, :var)),
          s(:begin,
            s(:send, nil, :tk_call,
              s(:str, "::blt::print"),
              s(:str, "setattrs"),
              s(:ivar, :@printer_id),
              s(:lvar, :var)),
            s(:self))),
        s(:def, :snap,
          s(:args,
            s(:arg, :win)),
          s(:begin,
            s(:send, nil, :tk_call,
              s(:str, "::blt::print"),
              s(:str, "snap"),
              s(:ivar, :@printer_id),
              s(:lvar, :win)),
            s(:self))),
        s(:def, :write,
          s(:args,
            s(:arg, :str)),
          s(:begin,
            s(:send, nil, :tk_call,
              s(:str, "::blt::print"),
              s(:str, "write"),
              s(:ivar, :@printer_id),
              s(:lvar, :str)),
            s(:self))),
        s(:def, :write_with_title,
          s(:args,
            s(:arg, :title),
            s(:arg, :str)),
          s(:begin,
            s(:send, nil, :tk_call,
              s(:str, "::blt::print"),
              s(:str, "write"),
              s(:ivar, :@printer_id),
              s(:lvar, :title),
              s(:lvar, :str)),
            s(:self)))))))
