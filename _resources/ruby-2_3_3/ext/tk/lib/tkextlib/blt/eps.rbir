s(:begin,
  s(:send, nil, :require,
    s(:str, "tk")),
  s(:send, nil, :require,
    s(:str, "tk/canvas")),
  s(:send, nil, :require,
    s(:str, "tkextlib/blt.rb")),
  s(:module,
    s(:const,
      s(:const, nil, :Tk), :BLT),
    s(:class,
      s(:const, nil, :EPS),
      s(:const, nil, :TkcItem),
      s(:begin,
        s(:casgn, nil, :CItemTypeName,
          s(:send,
            s(:str, "eps"), :freeze)),
        s(:send,
          s(:const, nil, :CItemTypeToClass), :[]=,
          s(:const, nil, :CItemTypeName),
          s(:self))))),
  s(:class,
    s(:const,
      s(:const, nil, :Tk), :Canvas), nil,
    s(:begin,
      s(:alias,
        s(:sym, :__BLT_EPS_item_strval_optkeys),
        s(:sym, :__item_strval_optkeys)),
      s(:def, :__item_strval_optkeys,
        s(:args,
          s(:arg, :id)),
        s(:send,
          s(:send, nil, :__BLT_EPS_item_strval_optkeys,
            s(:lvar, :id)), :+,
          s(:array,
            s(:str, "shadowcolor"),
            s(:str, "title"),
            s(:str, "titlecolor")))),
      s(:send, nil, :private,
        s(:sym, :__item_strval_optkeys)),
      s(:alias,
        s(:sym, :__BLT_EPS_item_boolval_optkeys),
        s(:sym, :__item_boolval_optkeys)),
      s(:def, :__item_boolval_optkeys,
        s(:args,
          s(:arg, :id)),
        s(:send,
          s(:send, nil, :__BLT_EPS_item_boolval_optkeys,
            s(:lvar, :id)), :+,
          s(:array,
            s(:str, "showimage")))),
      s(:send, nil, :private,
        s(:sym, :__item_boolval_optkeys)))))
