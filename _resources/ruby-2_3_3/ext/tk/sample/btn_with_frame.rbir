s(:begin,
  s(:send, nil, :require,
    s(:str, "tk")),
  s(:class,
    s(:const, nil, :Button_with_Frame),
    s(:const, nil, :TkButton),
    s(:begin,
      s(:def, :create_self,
        s(:args,
          s(:arg, :keys)),
        s(:begin,
          s(:ivasgn, :@frame,
            s(:send,
              s(:const, nil, :TkFrame), :new,
              s(:hash,
                s(:pair,
                  s(:str, "widgetname"),
                  s(:ivar, :@path)),
                s(:pair,
                  s(:str, "background"),
                  s(:str, "yellow"))))),
          s(:send, nil, :install_win,
            s(:ivar, :@path)),
          s(:super,
            s(:lvar, :keys)),
          s(:send, nil, :TkPack,
            s(:ivar, :@path),
            s(:hash,
              s(:pair,
                s(:sym, :padx),
                s(:int, 7)),
              s(:pair,
                s(:sym, :pady),
                s(:int, 7)))),
          s(:ivasgn, :@epath,
            s(:send,
              s(:ivar, :@frame), :path)))),
      s(:def, :epath,
        s(:args),
        s(:ivar, :@epath)))),
  s(:block,
    s(:send,
      s(:const, nil, :Button_with_Frame), :new,
      s(:hash,
        s(:pair,
          s(:sym, :text),
          s(:str, "QUIT")),
        s(:pair,
          s(:sym, :command),
          s(:block,
            s(:send, nil, :proc),
            s(:args),
            s(:send, nil, :exit))))),
    s(:args),
    s(:send, nil, :pack,
      s(:hash,
        s(:pair,
          s(:sym, :padx),
          s(:int, 15)),
        s(:pair,
          s(:sym, :pady),
          s(:int, 5))))),
  s(:send,
    s(:const, nil, :Tk), :mainloop))
