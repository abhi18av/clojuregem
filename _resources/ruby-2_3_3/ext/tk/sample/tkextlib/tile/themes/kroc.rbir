s(:begin,
  s(:lvasgn, :imgdir,
    s(:send,
      s(:const, nil, :File), :join,
      s(:send,
        s(:const, nil, :File), :dirname,
        s(:str, "(string)")),
      s(:str, "kroc"),
      s(:str, "kroc"))),
  s(:gvasgn, :$images,
    s(:send,
      s(:const,
        s(:const, nil, :Tk), :Tile), :load_images,
      s(:lvar, :imgdir),
      s(:str, "*.gif"))),
  s(:if,
    s(:send,
      s(:send,
        s(:const, nil, :TkPackage), :vcompare,
        s(:send,
          s(:const,
            s(:const, nil, :Tk), :Tile), :package_version),
        s(:str, "0.5")), :>=,
      s(:int, 0)),
    s(:gvasgn, :$TNotebook_Tab,
      s(:send,
        s(:const,
          s(:const,
            s(:const, nil, :Tk), :Tile), :TNotebook), :style,
        s(:str, "Tab"))),
    s(:gvasgn, :$TNotebook_Tab,
      s(:str, "Tab.TNotebook"))),
  s(:def, :kroc_rb_settings,
    s(:args),
    s(:begin,
      s(:send,
        s(:const,
          s(:const,
            s(:const, nil, :Tk), :Tile), :Style), :default,
        s(:hash,
          s(:pair,
            s(:sym, :background),
            s(:str, "#FCB64F")),
          s(:pair,
            s(:sym, :troughcolor),
            s(:str, "#F8C278")),
          s(:pair,
            s(:sym, :borderwidth),
            s(:int, 1)))),
      s(:send,
        s(:const,
          s(:const,
            s(:const, nil, :Tk), :Tile), :Style), :default,
        s(:hash,
          s(:pair,
            s(:sym, :font),
            s(:const,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :Tile), :Font), :Default)),
          s(:pair,
            s(:sym, :borderwidth),
            s(:int, 1)))),
      s(:send,
        s(:const,
          s(:const,
            s(:const, nil, :Tk), :Tile), :Style), :map,
        s(:hash,
          s(:pair,
            s(:sym, :background),
            s(:array,
              s(:sym, :active),
              s(:str, "#694418"))))),
      s(:send,
        s(:const,
          s(:const,
            s(:const, nil, :Tk), :Tile), :Style), :map,
        s(:hash,
          s(:pair,
            s(:sym, :foreground),
            s(:array,
              s(:sym, :disabled),
              s(:str, "#B2B2B2"),
              s(:sym, :active),
              s(:str, "#FFE7CB"))))),
      s(:send,
        s(:const,
          s(:const,
            s(:const, nil, :Tk), :Tile), :Style), :default,
        s(:const,
          s(:const,
            s(:const, nil, :Tk), :Tile), :TButton),
        s(:hash,
          s(:pair,
            s(:sym, :padding),
            s(:array,
              s(:int, 10),
              s(:int, 4))))),
      s(:send,
        s(:const,
          s(:const,
            s(:const, nil, :Tk), :Tile), :Style), :default,
        s(:gvar, :$TNotebook_Tab),
        s(:hash,
          s(:pair,
            s(:sym, :padding),
            s(:array,
              s(:int, 10),
              s(:int, 3))),
          s(:pair,
            s(:sym, :font),
            s(:const,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :Tile), :Font), :Default)))),
      s(:send,
        s(:const,
          s(:const,
            s(:const, nil, :Tk), :Tile), :Style), :map,
        s(:gvar, :$TNotebook_Tab),
        s(:hash,
          s(:pair,
            s(:sym, :background),
            s(:array,
              s(:sym, :selected),
              s(:str, "#FCB64F"),
              s(:str, ""),
              s(:str, "#FFE6BA"))),
          s(:pair,
            s(:sym, :foreground),
            s(:array,
              s(:str, ""),
              s(:str, "black"))),
          s(:pair,
            s(:sym, :padding),
            s(:array,
              s(:sym, :selected),
              s(:array,
                s(:int, 10),
                s(:int, 6),
                s(:int, 10),
                s(:int, 3)))))),
      s(:send,
        s(:const,
          s(:const,
            s(:const, nil, :Tk), :Tile), :Style), :map,
        s(:const,
          s(:const,
            s(:const, nil, :Tk), :Tile), :TScrollbar),
        s(:hash,
          s(:pair,
            s(:sym, :background),
            s(:array,
              s(:sym, :pressed),
              s(:str, "#694418"))),
          s(:pair,
            s(:sym, :arrowcolor),
            s(:array,
              s(:sym, :pressed),
              s(:str, "#FEF7CB"))),
          s(:pair,
            s(:sym, :relief),
            s(:array,
              s(:sym, :pressed),
              s(:sym, :sunken))))),
      s(:send,
        s(:const,
          s(:const,
            s(:const, nil, :Tk), :Tile), :Style), :layout,
        s(:send,
          s(:const,
            s(:const, nil, :Tk), :Tile), :style,
          s(:str, "Vertical"),
          s(:const,
            s(:const,
              s(:const, nil, :Tk), :Tile), :TScrollbar)),
        s(:array,
          s(:str, "Scrollbar.trough"),
          s(:hash,
            s(:pair,
              s(:sym, :children),
              s(:array,
                s(:str, "Scrollbar.uparrow"),
                s(:hash,
                  s(:pair,
                    s(:sym, :side),
                    s(:sym, :top))),
                s(:str, "Scrollbar.downarrow"),
                s(:hash,
                  s(:pair,
                    s(:sym, :side),
                    s(:sym, :bottom))),
                s(:str, "Scrollbar.uparrow"),
                s(:hash,
                  s(:pair,
                    s(:sym, :side),
                    s(:sym, :bottom))),
                s(:str, "Scrollbar.thumb"),
                s(:hash,
                  s(:pair,
                    s(:sym, :side),
                    s(:sym, :top)),
                  s(:pair,
                    s(:sym, :expand),
                    s(:true)))))))),
      s(:send,
        s(:const,
          s(:const,
            s(:const, nil, :Tk), :Tile), :Style), :layout,
        s(:send,
          s(:const,
            s(:const, nil, :Tk), :Tile), :style,
          s(:str, "Horizontal"),
          s(:const,
            s(:const,
              s(:const, nil, :Tk), :Tile), :TScrollbar)),
        s(:array,
          s(:str, "Scrollbar.trough"),
          s(:hash,
            s(:pair,
              s(:sym, :children),
              s(:array,
                s(:str, "Scrollbar.leftarrow"),
                s(:hash,
                  s(:pair,
                    s(:sym, :side),
                    s(:sym, :left))),
                s(:str, "Scrollbar.rightarrow"),
                s(:hash,
                  s(:pair,
                    s(:sym, :side),
                    s(:sym, :right))),
                s(:str, "Scrollbar.leftarrow"),
                s(:hash,
                  s(:pair,
                    s(:sym, :side),
                    s(:sym, :right))),
                s(:str, "Scrollbar.thumb"),
                s(:hash,
                  s(:pair,
                    s(:sym, :side),
                    s(:sym, :left)),
                  s(:pair,
                    s(:sym, :expand),
                    s(:true)))))))),
      s(:if,
        s(:send,
          s(:const,
            s(:const,
              s(:const, nil, :Tk), :Tile), :TILE_SPEC_VERSION_ID), :>=,
          s(:int, 8)),
        s(:begin,
          s(:send,
            s(:const,
              s(:const,
                s(:const, nil, :Tk), :Tile), :Style), :element_create,
            s(:str, "Button.button"),
            s(:sym, :image),
            s(:array,
              s(:send,
                s(:gvar, :$images), :[],
                s(:str, "button-n")),
              s(:sym, :pressed),
              s(:send,
                s(:gvar, :$images), :[],
                s(:str, "button-p")),
              s(:sym, :active),
              s(:send,
                s(:gvar, :$images), :[],
                s(:str, "button-h"))),
            s(:hash,
              s(:pair,
                s(:sym, :border),
                s(:int, 3)),
              s(:pair,
                s(:sym, :sticky),
                s(:sym, :ew)))),
          s(:send,
            s(:const,
              s(:const,
                s(:const, nil, :Tk), :Tile), :Style), :element_create,
            s(:str, "Checkbutton.indicator"),
            s(:sym, :image),
            s(:array,
              s(:send,
                s(:gvar, :$images), :[],
                s(:str, "check-nu")),
              s(:array,
                s(:sym, :pressed),
                s(:sym, :selected)),
              s(:send,
                s(:gvar, :$images), :[],
                s(:str, "check-nc")),
              s(:sym, :pressed),
              s(:send,
                s(:gvar, :$images), :[],
                s(:str, "check-nu")),
              s(:array,
                s(:sym, :active),
                s(:sym, :selected)),
              s(:send,
                s(:gvar, :$images), :[],
                s(:str, "check-hc")),
              s(:sym, :active),
              s(:send,
                s(:gvar, :$images), :[],
                s(:str, "check-hu")),
              s(:sym, :selected),
              s(:send,
                s(:gvar, :$images), :[],
                s(:str, "check-nc"))),
            s(:hash,
              s(:pair,
                s(:sym, :sticky),
                s(:sym, :w)))),
          s(:send,
            s(:const,
              s(:const,
                s(:const, nil, :Tk), :Tile), :Style), :element_create,
            s(:str, "Radiobutton.indicator"),
            s(:sym, :image),
            s(:array,
              s(:send,
                s(:gvar, :$images), :[],
                s(:str, "radio-nu")),
              s(:array,
                s(:sym, :pressed),
                s(:sym, :selected)),
              s(:send,
                s(:gvar, :$images), :[],
                s(:str, "radio-nc")),
              s(:sym, :pressed),
              s(:send,
                s(:gvar, :$images), :[],
                s(:str, "radio-nu")),
              s(:array,
                s(:sym, :active),
                s(:sym, :selected)),
              s(:send,
                s(:gvar, :$images), :[],
                s(:str, "radio-hc")),
              s(:sym, :active),
              s(:send,
                s(:gvar, :$images), :[],
                s(:str, "radio-hu")),
              s(:sym, :selected),
              s(:send,
                s(:gvar, :$images), :[],
                s(:str, "radio-nc"))),
            s(:hash,
              s(:pair,
                s(:sym, :sticky),
                s(:sym, :w))))),
        s(:if,
          s(:send,
            s(:send,
              s(:const, nil, :TkPackage), :vcompare,
              s(:send,
                s(:const,
                  s(:const, nil, :Tk), :Tile), :package_version),
              s(:str, "0.5")), :>=,
            s(:int, 0)),
          s(:begin,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :Tile), :Style), :element_create,
              s(:str, "Button.button"),
              s(:sym, :image),
              s(:send,
                s(:gvar, :$images), :[],
                s(:str, "button-n")),
              s(:hash,
                s(:pair,
                  s(:sym, :map),
                  s(:array,
                    s(:sym, :pressed),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "button-p")),
                    s(:sym, :active),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "button-h")))),
                s(:pair,
                  s(:sym, :border),
                  s(:int, 3)),
                s(:pair,
                  s(:sym, :sticky),
                  s(:sym, :ew)))),
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :Tile), :Style), :element_create,
              s(:str, "Checkbutton.indicator"),
              s(:sym, :image),
              s(:send,
                s(:gvar, :$images), :[],
                s(:str, "check-nu")),
              s(:hash,
                s(:pair,
                  s(:sym, :map),
                  s(:array,
                    s(:array,
                      s(:sym, :pressed),
                      s(:sym, :selected)),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "check-nc")),
                    s(:sym, :pressed),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "check-nu")),
                    s(:array,
                      s(:sym, :active),
                      s(:sym, :selected)),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "check-hc")),
                    s(:sym, :active),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "check-hu")),
                    s(:sym, :selected),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "check-nc")))),
                s(:pair,
                  s(:sym, :sticky),
                  s(:sym, :w)))),
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :Tile), :Style), :element_create,
              s(:str, "Radiobutton.indicator"),
              s(:sym, :image),
              s(:send,
                s(:gvar, :$images), :[],
                s(:str, "radio-nu")),
              s(:hash,
                s(:pair,
                  s(:sym, :map),
                  s(:array,
                    s(:array,
                      s(:sym, :pressed),
                      s(:sym, :selected)),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "radio-nc")),
                    s(:sym, :pressed),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "radio-nu")),
                    s(:array,
                      s(:sym, :active),
                      s(:sym, :selected)),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "radio-hc")),
                    s(:sym, :active),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "radio-hu")),
                    s(:sym, :selected),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "radio-nc")))),
                s(:pair,
                  s(:sym, :sticky),
                  s(:sym, :w))))),
          s(:begin,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :Tile), :Style), :element_create,
              s(:str, "Button.button"),
              s(:sym, :pixmap),
              s(:hash,
                s(:pair,
                  s(:sym, :images),
                  s(:array,
                    s(:sym, :pressed),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "button-p")),
                    s(:sym, :active),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "button-h")),
                    s(:str, ""),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "button-n")))),
                s(:pair,
                  s(:sym, :border),
                  s(:int, 3)),
                s(:pair,
                  s(:sym, :tiling),
                  s(:sym, :tile)))),
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :Tile), :Style), :element_create,
              s(:str, "Checkbutton.indicator"),
              s(:sym, :pixmap),
              s(:hash,
                s(:pair,
                  s(:sym, :images),
                  s(:array,
                    s(:array,
                      s(:sym, :pressed),
                      s(:sym, :selected)),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "check-nc")),
                    s(:sym, :pressed),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "check-nu")),
                    s(:array,
                      s(:sym, :active),
                      s(:sym, :selected)),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "check-hc")),
                    s(:sym, :active),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "check-hu")),
                    s(:sym, :selected),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "check-nc")),
                    s(:str, ""),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "check-nu")))),
                s(:pair,
                  s(:sym, :tiling),
                  s(:sym, :fixed)))),
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :Tile), :Style), :element_create,
              s(:str, "Radiobutton.indicator"),
              s(:sym, :pixmap),
              s(:hash,
                s(:pair,
                  s(:sym, :images),
                  s(:array,
                    s(:array,
                      s(:sym, :pressed),
                      s(:sym, :selected)),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "radio-nc")),
                    s(:sym, :pressed),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "radio-nu")),
                    s(:array,
                      s(:sym, :active),
                      s(:sym, :selected)),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "radio-hc")),
                    s(:sym, :active),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "radio-hu")),
                    s(:sym, :selected),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "radio-nc")),
                    s(:str, ""),
                    s(:send,
                      s(:gvar, :$images), :[],
                      s(:str, "radio-nu")))),
                s(:pair,
                  s(:sym, :tiling),
                  s(:sym, :fixed))))))),
      s(:send,
        s(:const,
          s(:const,
            s(:const, nil, :Tk), :Tile), :Style), :layout,
        s(:str, "TButton"),
        s(:array,
          s(:str, "Button.button"),
          s(:hash,
            s(:pair,
              s(:sym, :children),
              s(:array,
                s(:str, "Button.focus"),
                s(:hash,
                  s(:pair,
                    s(:sym, :children),
                    s(:array,
                      s(:str, "Button.padding"),
                      s(:hash,
                        s(:pair,
                          s(:sym, :children),
                          s(:array,
                            s(:str, "Button.label"),
                            s(:hash,
                              s(:pair,
                                s(:sym, :expand),
                                s(:true)),
                              s(:pair,
                                s(:sym, :sticky),
                                s(:str, "")))))))))))))),
      s(:send,
        s(:const,
          s(:const,
            s(:const, nil, :Tk), :Tile), :Style), :layout,
        s(:str, "TCheckbutton"),
        s(:array,
          s(:str, "Checkbutton.background"),
          s(:str, "Checkbutton.border"),
          s(:hash,
            s(:pair,
              s(:sym, :children),
              s(:array,
                s(:str, "Checkbutton.padding"),
                s(:hash,
                  s(:pair,
                    s(:sym, :children),
                    s(:array,
                      s(:str, "Checkbutton.indicator"),
                      s(:hash,
                        s(:pair,
                          s(:sym, :side),
                          s(:sym, :left))),
                      s(:str, "Checkbutton.focus"),
                      s(:hash,
                        s(:pair,
                          s(:sym, :side),
                          s(:sym, :left)),
                        s(:pair,
                          s(:sym, :children),
                          s(:array,
                            s(:str, "Checkbutton.label")))))))))))),
      s(:send,
        s(:const,
          s(:const,
            s(:const, nil, :Tk), :Tile), :Style), :layout,
        s(:str, "TRadiobutton"),
        s(:array,
          s(:str, "Radiobutton.background"),
          s(:str, "Radiobutton.border"),
          s(:hash,
            s(:pair,
              s(:sym, :children),
              s(:array,
                s(:str, "Radiobutton.padding"),
                s(:hash,
                  s(:pair,
                    s(:sym, :children),
                    s(:array,
                      s(:str, "Radiobutton.indicator"),
                      s(:hash,
                        s(:pair,
                          s(:sym, :side),
                          s(:sym, :left))),
                      s(:str, "Radiobutton.focus"),
                      s(:hash,
                        s(:pair,
                          s(:sym, :expand),
                          s(:true)),
                        s(:pair,
                          s(:sym, :sticky),
                          s(:sym, :w)),
                        s(:pair,
                          s(:sym, :children),
                          s(:array,
                            s(:str, "Radiobutton.label"),
                            s(:hash,
                              s(:pair,
                                s(:sym, :side),
                                s(:sym, :right)),
                              s(:pair,
                                s(:sym, :expand),
                                s(:true)))))))))))))))),
  s(:send,
    s(:const,
      s(:const,
        s(:const, nil, :Tk), :Tile), :Style), :theme_create,
    s(:str, "kroc-rb"),
    s(:hash,
      s(:pair,
        s(:sym, :parent),
        s(:str, "alt")),
      s(:pair,
        s(:sym, :settings),
        s(:block,
          s(:send, nil, :proc),
          s(:args),
          s(:send, nil, :kroc_rb_settings))))))
