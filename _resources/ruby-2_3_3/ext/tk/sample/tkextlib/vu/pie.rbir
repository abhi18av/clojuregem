s(:begin,
  s(:send, nil, :require,
    s(:str, "tk")),
  s(:send, nil, :require,
    s(:str, "tkextlib/vu/pie")),
  s(:lvasgn, :pie,
    s(:block,
      s(:send,
        s(:const,
          s(:const,
            s(:const, nil, :Tk), :Vu), :Pie), :new,
        s(:hash,
          s(:pair,
            s(:sym, :label),
            s(:str, "My Revolving Budget")))),
      s(:args),
      s(:begin,
        s(:send, nil, :itemconfigure,
          s(:str, "Welfare"),
          s(:hash,
            s(:pair,
              s(:sym, :value),
              s(:float, 3.004)))),
        s(:send, nil, :itemconfigure,
          s(:str, "Military"),
          s(:hash,
            s(:pair,
              s(:sym, :value),
              s(:float, 7.006)))),
        s(:send, nil, :itemconfigure,
          s(:str, "Transport"),
          s(:hash,
            s(:pair,
              s(:sym, :value),
              s(:float, 1.6)),
            s(:pair,
              s(:sym, :explode),
              s(:int, 15)))),
        s(:send, nil, :itemconfigure,
          s(:str, "Parks"),
          s(:hash,
            s(:pair,
              s(:sym, :value),
              s(:float, 0.9)))),
        s(:send, nil, :itemconfigure,
          s(:str, "Schools"),
          s(:hash,
            s(:pair,
              s(:sym, :value),
              s(:int, 2)))),
        s(:send, nil, :itemconfigure,
          s(:str, "Debt"),
          s(:hash,
            s(:pair,
              s(:sym, :value),
              s(:int, 4)),
            s(:pair,
              s(:sym, :explode),
              s(:int, 10)))),
        s(:send, nil, :configure,
          s(:hash,
            s(:pair,
              s(:sym, :angle),
              s(:int, 10)),
            s(:pair,
              s(:sym, :origin),
              s(:int, 90)),
            s(:pair,
              s(:sym, :shadow),
              s(:int, 10))))))),
  s(:lvasgn, :spin,
    s(:send,
      s(:const, nil, :TkTimer), :new,
      s(:int, 60),
      s(:int, -1),
      s(:block,
        s(:send, nil, :proc),
        s(:args,
          s(:arg, :obj)),
        s(:send,
          s(:lvar, :pie), :configure,
          s(:hash,
            s(:pair,
              s(:sym, :origin),
              s(:send,
                s(:send,
                  s(:lvar, :pie), :[],
                  s(:sym, :origin)), :+,
                s(:int, 1)))))))),
  s(:lvasgn, :f,
    s(:send,
      s(:const, nil, :TkFrame), :new)),
  s(:lvasgn, :fast_btn,
    s(:send,
      s(:const, nil, :TkButton), :new,
      s(:lvar, :f),
      s(:hash,
        s(:pair,
          s(:sym, :text),
          s(:str, "Spin Faster")),
        s(:pair,
          s(:sym, :command),
          s(:block,
            s(:send, nil, :proc),
            s(:args),
            s(:send,
              s(:lvar, :spin), :start)))))),
  s(:lvasgn, :slow_btn,
    s(:send,
      s(:const, nil, :TkButton), :new,
      s(:lvar, :f),
      s(:hash,
        s(:pair,
          s(:sym, :text),
          s(:str, "Spin Slower")),
        s(:pair,
          s(:sym, :command),
          s(:block,
            s(:send, nil, :proc),
            s(:args),
            s(:send,
              s(:lvar, :spin), :stop)))))),
  s(:lvasgn, :quit_btn,
    s(:send,
      s(:const, nil, :TkButton), :new,
      s(:lvar, :f),
      s(:hash,
        s(:pair,
          s(:sym, :text),
          s(:str, "Exit")),
        s(:pair,
          s(:sym, :command),
          s(:block,
            s(:send, nil, :proc),
            s(:args),
            s(:send, nil, :exit)))))),
  s(:send,
    s(:const, nil, :Tk), :grid,
    s(:lvar, :pie),
    s(:hash,
      s(:pair,
        s(:sym, :sticky),
        s(:sym, :news)))),
  s(:send,
    s(:const, nil, :Tk), :grid,
    s(:lvar, :f),
    s(:hash,
      s(:pair,
        s(:sym, :sticky),
        s(:sym, :ew)))),
  s(:send,
    s(:const, nil, :Tk), :pack,
    s(:lvar, :fast_btn),
    s(:lvar, :slow_btn),
    s(:lvar, :quit_btn),
    s(:hash,
      s(:pair,
        s(:sym, :in),
        s(:lvar, :f)),
      s(:pair,
        s(:sym, :side),
        s(:sym, :left)),
      s(:pair,
        s(:sym, :fill),
        s(:sym, :both)),
      s(:pair,
        s(:sym, :expand),
        s(:true)),
      s(:pair,
        s(:sym, :padx),
        s(:int, 6)),
      s(:pair,
        s(:sym, :pady),
        s(:int, 4)))),
  s(:send,
    s(:send,
      s(:const, nil, :Tk), :root), :grid_columnconfigure,
    s(:int, 0),
    s(:hash,
      s(:pair,
        s(:sym, :weight),
        s(:int, 1)))),
  s(:send,
    s(:send,
      s(:const, nil, :Tk), :root), :grid_rowconfigure,
    s(:int, 0),
    s(:hash,
      s(:pair,
        s(:sym, :weight),
        s(:int, 1)))),
  s(:lvasgn, :priv,
    s(:hash,
      s(:pair,
        s(:sym, :x),
        s(:int, 0)),
      s(:pair,
        s(:sym, :y),
        s(:int, 0)),
      s(:pair,
        s(:sym, :pie_in),
        s(:false)),
      s(:pair,
        s(:sym, :angle),
        s(:send,
          s(:lvar, :pie), :[],
          s(:sym, :angle))),
      s(:pair,
        s(:sym, :origin),
        s(:send,
          s(:lvar, :pie), :[],
          s(:sym, :origin))))),
  s(:send,
    s(:lvar, :pie), :bind,
    s(:str, "ButtonPress-1"),
    s(:block,
      s(:send, nil, :proc),
      s(:args,
        s(:arg, :w),
        s(:arg, :x),
        s(:arg, :y)),
      s(:begin,
        s(:send,
          s(:lvar, :priv), :[]=,
          s(:sym, :x),
          s(:lvar, :x)),
        s(:send,
          s(:lvar, :priv), :[]=,
          s(:sym, :y),
          s(:lvar, :y)),
        s(:send,
          s(:lvar, :priv), :[]=,
          s(:sym, :pie_in),
          s(:begin,
            s(:send,
              s(:send,
                s(:send,
                  s(:lvar, :w), :winfo_width), :/,
                s(:float, 1.8)), :>,
              s(:lvar, :x)))),
        s(:send,
          s(:lvar, :priv), :[]=,
          s(:sym, :angle),
          s(:send,
            s(:lvar, :w), :[],
            s(:sym, :angle))),
        s(:send,
          s(:lvar, :priv), :[]=,
          s(:sym, :origin),
          s(:send,
            s(:lvar, :w), :[],
            s(:sym, :origin))))),
    s(:str, "%W %x %y")),
  s(:send,
    s(:lvar, :pie), :bind,
    s(:str, "B1-Motion"),
    s(:block,
      s(:send, nil, :proc),
      s(:args,
        s(:arg, :w),
        s(:arg, :x),
        s(:arg, :y)),
      s(:if,
        s(:send,
          s(:lvar, :priv), :[],
          s(:sym, :pie_in)),
        s(:send,
          s(:lvar, :w), :configure,
          s(:hash,
            s(:pair,
              s(:sym, :angle),
              s(:send,
                s(:send,
                  s(:lvar, :priv), :[],
                  s(:sym, :angle)), :+,
                s(:send,
                  s(:begin,
                    s(:send,
                      s(:send,
                        s(:lvar, :priv), :[],
                        s(:sym, :y)), :-,
                      s(:lvar, :y))), :/,
                  s(:int, 3)))),
            s(:pair,
              s(:sym, :origin),
              s(:send,
                s(:begin,
                  s(:send,
                    s(:send,
                      s(:lvar, :priv), :[],
                      s(:sym, :origin)), :+,
                    s(:send,
                      s(:send,
                        s(:begin,
                          s(:if,
                            s(:begin,
                              s(:send,
                                s(:send,
                                  s(:send,
                                    s(:lvar, :w), :winfo_height), :/,
                                  s(:float, 2.2)), :>,
                                s(:lvar, :y))),
                            s(:int, -1),
                            s(:int, 1))), :*,
                        s(:begin,
                          s(:send,
                            s(:send,
                              s(:lvar, :priv), :[],
                              s(:sym, :x)), :-,
                            s(:lvar, :x)))), :/,
                      s(:int, 3)))), :%,
                s(:int, 360))))), nil)),
    s(:str, "%W %x %y")),
  s(:send,
    s(:const, nil, :Tk), :mainloop))
