s(:begin,
  s(:if,
    s(:send,
      s(:const, nil, :Object), :const_defined?,
      s(:str, "DemoVar")), nil,
    s(:send, nil, :fail,
      s(:const, nil, :RuntimeError),
      s(:str, "This is NOT a stand alone script. This script is called from 'demo.rb'. "))),
  s(:module,
    s(:const, nil, :DemoDialog),
    s(:begin,
      s(:cvasgn, :@@tmpl,
        s(:send,
          s(:const, nil, :TkVariable), :new_hash)),
      s(:cvasgn, :@@msg,
        s(:send,
          s(:const, nil, :TkVariable), :new_hash)),
      s(:cvasgn, :@@msgdlg,
        s(:nil)),
      s(:cvasgn, :@@progmsg,
        s(:send,
          s(:const, nil, :TkVariable), :new)),
      s(:cvasgn, :@@progval,
        s(:send,
          s(:const, nil, :TkVariable), :new)),
      s(:cvasgn, :@@progdlg,
        s(:nil)),
      s(:cvasgn, :@@resources,
        s(:send,
          s(:const, nil, :TkVariable), :new,
          s(:str, "en"))),
      s(:defs,
        s(:self), :create,
        s(:args,
          s(:arg, :nb)),
        s(:begin,
          s(:lvasgn, :frame,
            s(:send,
              s(:lvar, :nb), :insert,
              s(:str, "end"),
              s(:str, "demoDlg"),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Dialog"))))),
          s(:lvasgn, :titf1,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :TitleFrame), :new,
              s(:lvar, :frame),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Resources"))))),
          s(:lvasgn, :titf2,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :TitleFrame), :new,
              s(:lvar, :frame),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Template Dialog"))))),
          s(:lvasgn, :titf3,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :TitleFrame), :new,
              s(:lvar, :frame),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Message Dialog"))))),
          s(:lvasgn, :titf4,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :TitleFrame), :new,
              s(:lvar, :frame),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Other dialog"))))),
          s(:lvasgn, :subf,
            s(:send,
              s(:lvar, :titf1), :get_frame)),
          s(:lvasgn, :cmd,
            s(:block,
              s(:send, nil, :proc),
              s(:args),
              s(:send,
                s(:const, nil, :TkOption), :read_file,
                s(:send,
                  s(:const, nil, :File), :join,
                  s(:const,
                    s(:const,
                      s(:const, nil, :Tk), :BWidget), :LIBRARY),
                  s(:str, "lang"),
                  s(:send,
                    s(:send,
                      s(:cvar, :@@resources), :value), :+,
                    s(:str, ".rc")))))),
          s(:send,
            s(:const, nil, :Tk), :pack,
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "English")),
                s(:pair,
                  s(:sym, :value),
                  s(:str, "en")),
                s(:pair,
                  s(:sym, :variable),
                  s(:cvar, :@@resources)),
                s(:pair,
                  s(:sym, :command),
                  s(:lvar, :cmd)))),
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "French")),
                s(:pair,
                  s(:sym, :value),
                  s(:str, "fr")),
                s(:pair,
                  s(:sym, :variable),
                  s(:cvar, :@@resources)),
                s(:pair,
                  s(:sym, :command),
                  s(:lvar, :cmd)))),
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "German")),
                s(:pair,
                  s(:sym, :value),
                  s(:str, "de")),
                s(:pair,
                  s(:sym, :variable),
                  s(:cvar, :@@resources)),
                s(:pair,
                  s(:sym, :command),
                  s(:lvar, :cmd)))),
            s(:hash,
              s(:pair,
                s(:sym, :side),
                s(:sym, :left)))),
          s(:send, nil, :_tmpldlg,
            s(:send,
              s(:lvar, :titf2), :get_frame)),
          s(:send, nil, :_msgdlg,
            s(:send,
              s(:lvar, :titf3), :get_frame)),
          s(:send, nil, :_stddlg,
            s(:send,
              s(:lvar, :titf4), :get_frame)),
          s(:send,
            s(:lvar, :titf1), :pack,
            s(:hash,
              s(:pair,
                s(:sym, :fill),
                s(:sym, :x)),
              s(:pair,
                s(:sym, :pady),
                s(:int, 2)),
              s(:pair,
                s(:sym, :padx),
                s(:int, 2)))),
          s(:send,
            s(:lvar, :titf4), :pack,
            s(:hash,
              s(:pair,
                s(:sym, :side),
                s(:sym, :bottom)),
              s(:pair,
                s(:sym, :fill),
                s(:sym, :x)),
              s(:pair,
                s(:sym, :pady),
                s(:int, 2)),
              s(:pair,
                s(:sym, :padx),
                s(:int, 2)))),
          s(:send,
            s(:const, nil, :Tk), :pack,
            s(:lvar, :titf2),
            s(:lvar, :titf3),
            s(:hash,
              s(:pair,
                s(:sym, :side),
                s(:sym, :left)),
              s(:pair,
                s(:sym, :padx),
                s(:int, 2)),
              s(:pair,
                s(:sym, :fill),
                s(:sym, :both)),
              s(:pair,
                s(:sym, :expand),
                s(:true)))))),
      s(:defs,
        s(:self), :_tmpldlg,
        s(:args,
          s(:arg, :parent)),
        s(:begin,
          s(:send,
            s(:cvar, :@@tmpl), :[]=,
            s(:str, "side"),
            s(:sym, :bottom)),
          s(:send,
            s(:cvar, :@@tmpl), :[]=,
            s(:str, "anchor"),
            s(:sym, :c)),
          s(:lvasgn, :labf1,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :LabelFrame), :new,
              s(:lvar, :parent),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Button side")),
                s(:pair,
                  s(:sym, :side),
                  s(:sym, :top)),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)),
                s(:pair,
                  s(:sym, :relief),
                  s(:sym, :sunken)),
                s(:pair,
                  s(:sym, :borderwidth),
                  s(:int, 1))))),
          s(:lvasgn, :subf,
            s(:send,
              s(:lvar, :labf1), :get_frame)),
          s(:send,
            s(:const, nil, :Tk), :pack,
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Bottom")),
                s(:pair,
                  s(:sym, :value),
                  s(:sym, :bottom)),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@tmpl), :ref,
                    s(:str, "side"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Left")),
                s(:pair,
                  s(:sym, :value),
                  s(:sym, :left)),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@tmpl), :ref,
                    s(:str, "side"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Right")),
                s(:pair,
                  s(:sym, :value),
                  s(:sym, :right)),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@tmpl), :ref,
                    s(:str, "side"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Top")),
                s(:pair,
                  s(:sym, :value),
                  s(:sym, :top)),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@tmpl), :ref,
                    s(:str, "side"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:hash,
              s(:pair,
                s(:sym, :fill),
                s(:sym, :x)),
              s(:pair,
                s(:sym, :anchor),
                s(:sym, :w)))),
          s(:lvasgn, :labf2,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :LabelFrame), :new,
              s(:lvar, :parent),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Button anchor")),
                s(:pair,
                  s(:sym, :side),
                  s(:sym, :top)),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)),
                s(:pair,
                  s(:sym, :relief),
                  s(:sym, :sunken)),
                s(:pair,
                  s(:sym, :borderwidth),
                  s(:int, 1))))),
          s(:lvasgn, :subf,
            s(:send,
              s(:lvar, :labf2), :get_frame)),
          s(:send,
            s(:const, nil, :Tk), :pack,
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "North")),
                s(:pair,
                  s(:sym, :value),
                  s(:sym, :n)),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@tmpl), :ref,
                    s(:str, "anchor"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "West")),
                s(:pair,
                  s(:sym, :value),
                  s(:sym, :w)),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@tmpl), :ref,
                    s(:str, "anchor"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "East")),
                s(:pair,
                  s(:sym, :value),
                  s(:sym, :e)),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@tmpl), :ref,
                    s(:str, "anchor"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "South")),
                s(:pair,
                  s(:sym, :value),
                  s(:sym, :s)),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@tmpl), :ref,
                    s(:str, "anchor"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Center")),
                s(:pair,
                  s(:sym, :value),
                  s(:sym, :c)),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@tmpl), :ref,
                    s(:str, "anchor"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:hash,
              s(:pair,
                s(:sym, :fill),
                s(:sym, :x)),
              s(:pair,
                s(:sym, :anchor),
                s(:sym, :w)))),
          s(:lvasgn, :sep,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :Separator), :new,
              s(:lvar, :parent),
              s(:hash,
                s(:pair,
                  s(:sym, :orient),
                  s(:sym, :horizontal))))),
          s(:lvasgn, :button,
            s(:send,
              s(:const, nil, :TkButton), :new,
              s(:lvar, :parent),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Show")),
                s(:pair,
                  s(:sym, :command),
                  s(:block,
                    s(:send, nil, :proc),
                    s(:args),
                    s(:send, nil, :_show_tmpldlg)))))),
          s(:send,
            s(:lvar, :button), :pack,
            s(:hash,
              s(:pair,
                s(:sym, :side),
                s(:sym, :bottom)))),
          s(:send,
            s(:lvar, :sep), :pack,
            s(:hash,
              s(:pair,
                s(:sym, :side),
                s(:sym, :bottom)),
              s(:pair,
                s(:sym, :fill),
                s(:sym, :x)),
              s(:pair,
                s(:sym, :pady),
                s(:int, 10)))),
          s(:send,
            s(:const, nil, :Tk), :pack,
            s(:lvar, :labf1),
            s(:lvar, :labf2),
            s(:hash,
              s(:pair,
                s(:sym, :side),
                s(:sym, :left)),
              s(:pair,
                s(:sym, :padx),
                s(:int, 4)),
              s(:pair,
                s(:sym, :anchor),
                s(:sym, :n)))))),
      s(:defs,
        s(:self), :_msgdlg,
        s(:args,
          s(:arg, :parent)),
        s(:begin,
          s(:send,
            s(:cvar, :@@msg), :[]=,
            s(:str, "type"),
            s(:str, "ok")),
          s(:send,
            s(:cvar, :@@msg), :[]=,
            s(:str, "icon"),
            s(:str, "info")),
          s(:lvasgn, :labf1,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :LabelFrame), :new,
              s(:lvar, :parent),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Type")),
                s(:pair,
                  s(:sym, :side),
                  s(:sym, :top)),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)),
                s(:pair,
                  s(:sym, :relief),
                  s(:sym, :sunken)),
                s(:pair,
                  s(:sym, :borderwidth),
                  s(:int, 1))))),
          s(:lvasgn, :subf,
            s(:send,
              s(:lvar, :labf1), :get_frame)),
          s(:send,
            s(:const, nil, :Tk), :pack,
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Ok")),
                s(:pair,
                  s(:sym, :value),
                  s(:str, "ok")),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@msg), :ref,
                    s(:str, "type"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Ok, Cancel")),
                s(:pair,
                  s(:sym, :value),
                  s(:str, "okcancel")),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@msg), :ref,
                    s(:str, "type"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Retry, Cancel")),
                s(:pair,
                  s(:sym, :value),
                  s(:str, "retrycancel")),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@msg), :ref,
                    s(:str, "type"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Yes, No")),
                s(:pair,
                  s(:sym, :value),
                  s(:str, "yesno")),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@msg), :ref,
                    s(:str, "type"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Yes, No, Cancel")),
                s(:pair,
                  s(:sym, :value),
                  s(:str, "yesnocancel")),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@msg), :ref,
                    s(:str, "type"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Abort, Retry, Ignore")),
                s(:pair,
                  s(:sym, :value),
                  s(:str, "abortretryignore")),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@msg), :ref,
                    s(:str, "type"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:hash,
              s(:pair,
                s(:sym, :fill),
                s(:sym, :x)),
              s(:pair,
                s(:sym, :anchor),
                s(:sym, :w)))),
          s(:send,
            s(:const, nil, :Tk), :pack,
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "User")),
                s(:pair,
                  s(:sym, :value),
                  s(:str, "user")),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@msg), :ref,
                    s(:str, "type"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :Entry), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :textvariable),
                  s(:send,
                    s(:cvar, :@@msg), :ref,
                    s(:str, "buttons"))))),
            s(:hash,
              s(:pair,
                s(:sym, :side),
                s(:sym, :left)))),
          s(:lvasgn, :labf2,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :LabelFrame), :new,
              s(:lvar, :parent),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Icon")),
                s(:pair,
                  s(:sym, :side),
                  s(:sym, :top)),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)),
                s(:pair,
                  s(:sym, :relief),
                  s(:sym, :sunken)),
                s(:pair,
                  s(:sym, :borderwidth),
                  s(:int, 1))))),
          s(:lvasgn, :subf,
            s(:send,
              s(:lvar, :labf2), :get_frame)),
          s(:send,
            s(:const, nil, :Tk), :pack,
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Information")),
                s(:pair,
                  s(:sym, :value),
                  s(:str, "info")),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@msg), :ref,
                    s(:str, "icon"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Question")),
                s(:pair,
                  s(:sym, :value),
                  s(:str, "question")),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@msg), :ref,
                    s(:str, "icon"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Warning")),
                s(:pair,
                  s(:sym, :value),
                  s(:str, "warning")),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@msg), :ref,
                    s(:str, "icon"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:send,
              s(:const, nil, :TkRadiobutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Error")),
                s(:pair,
                  s(:sym, :value),
                  s(:str, "error")),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@msg), :ref,
                    s(:str, "icon"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)))),
            s(:hash,
              s(:pair,
                s(:sym, :fill),
                s(:sym, :x)),
              s(:pair,
                s(:sym, :anchor),
                s(:sym, :w)))),
          s(:lvasgn, :sep,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :Separator), :new,
              s(:lvar, :parent),
              s(:hash,
                s(:pair,
                  s(:sym, :orient),
                  s(:sym, :horizontal))))),
          s(:lvasgn, :button,
            s(:send,
              s(:const, nil, :TkButton), :new,
              s(:lvar, :parent),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Show")),
                s(:pair,
                  s(:sym, :command),
                  s(:block,
                    s(:send, nil, :proc),
                    s(:args),
                    s(:send, nil, :_show_msgdlg)))))),
          s(:send,
            s(:lvar, :button), :pack,
            s(:hash,
              s(:pair,
                s(:sym, :side),
                s(:sym, :bottom)))),
          s(:send,
            s(:lvar, :sep), :pack,
            s(:hash,
              s(:pair,
                s(:sym, :side),
                s(:sym, :bottom)),
              s(:pair,
                s(:sym, :fill),
                s(:sym, :x)),
              s(:pair,
                s(:sym, :pady),
                s(:int, 10)))),
          s(:send,
            s(:const, nil, :Tk), :pack,
            s(:lvar, :labf1),
            s(:lvar, :labf2),
            s(:hash,
              s(:pair,
                s(:sym, :side),
                s(:sym, :left)),
              s(:pair,
                s(:sym, :padx),
                s(:int, 4)),
              s(:pair,
                s(:sym, :anchor),
                s(:sym, :n)))))),
      s(:defs,
        s(:self), :_stddlg,
        s(:args,
          s(:arg, :parent)),
        s(:send,
          s(:const, nil, :Tk), :pack,
          s(:block,
            s(:send,
              s(:const, nil, :TkButton), :new,
              s(:lvar, :parent),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Select a color ")))),
            s(:args,
              s(:arg, :w)),
            s(:send, nil, :command,
              s(:block,
                s(:send, nil, :proc),
                s(:args),
                s(:send,
                  s(:const, nil, :DemoDialog), :_show_color,
                  s(:lvar, :w))))),
          s(:send,
            s(:const, nil, :TkButton), :new,
            s(:lvar, :parent),
            s(:hash,
              s(:pair,
                s(:sym, :text),
                s(:str, "Font selector dialog")),
              s(:pair,
                s(:sym, :command),
                s(:block,
                  s(:send, nil, :proc),
                  s(:args),
                  s(:send, nil, :_show_fontdlg))))),
          s(:send,
            s(:const, nil, :TkButton), :new,
            s(:lvar, :parent),
            s(:hash,
              s(:pair,
                s(:sym, :text),
                s(:str, "Progression dialog")),
              s(:pair,
                s(:sym, :command),
                s(:block,
                  s(:send, nil, :proc),
                  s(:args),
                  s(:send, nil, :_show_progdlg))))),
          s(:send,
            s(:const, nil, :TkButton), :new,
            s(:lvar, :parent),
            s(:hash,
              s(:pair,
                s(:sym, :text),
                s(:str, "Password dialog")),
              s(:pair,
                s(:sym, :command),
                s(:block,
                  s(:send, nil, :proc),
                  s(:args),
                  s(:send, nil, :_show_passdlg))))),
          s(:hash,
            s(:pair,
              s(:sym, :side),
              s(:sym, :left)),
            s(:pair,
              s(:sym, :padx),
              s(:int, 5)),
            s(:pair,
              s(:sym, :anchor),
              s(:sym, :w))))),
      s(:defs,
        s(:self), :_show_color,
        s(:args,
          s(:arg, :w)),
        s(:begin,
          s(:lvasgn, :dlg,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :SelectColor), :new,
              s(:lvar, :w),
              s(:hash,
                s(:pair,
                  s(:sym, :color),
                  s(:send,
                    s(:lvar, :w), :background))))),
          s(:lvasgn, :color,
            s(:send,
              s(:lvar, :dlg), :menu,
              s(:array,
                s(:sym, :below),
                s(:lvar, :w)))),
          s(:if,
            s(:send,
              s(:lvar, :color), :empty?), nil,
            s(:send,
              s(:lvar, :w), :background,
              s(:lvar, :color))))),
      s(:defs,
        s(:self), :_show_tmpldlg,
        s(:args),
        s(:begin,
          s(:lvasgn, :dlg,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :Dialog), :new,
              s(:hash,
                s(:pair,
                  s(:sym, :relative),
                  s(:send,
                    s(:const, nil, :Tk), :root)),
                s(:pair,
                  s(:sym, :modal),
                  s(:sym, :local)),
                s(:pair,
                  s(:sym, :separator),
                  s(:true)),
                s(:pair,
                  s(:sym, :title),
                  s(:str, "Template dialog")),
                s(:pair,
                  s(:sym, :side),
                  s(:send,
                    s(:cvar, :@@tmpl), :[],
                    s(:str, "side"))),
                s(:pair,
                  s(:sym, :anchor),
                  s(:send,
                    s(:cvar, :@@tmpl), :[],
                    s(:str, "anchor"))),
                s(:pair,
                  s(:sym, :default),
                  s(:int, 0)),
                s(:pair,
                  s(:sym, :cancel),
                  s(:int, 1))))),
          s(:send,
            s(:lvar, :dlg), :add,
            s(:hash,
              s(:pair,
                s(:str, "name"),
                s(:str, "ok")))),
          s(:send,
            s(:lvar, :dlg), :add,
            s(:hash,
              s(:pair,
                s(:str, "name"),
                s(:str, "cancel")))),
          s(:send,
            s(:send,
              s(:const, nil, :TkMessage), :new,
              s(:send,
                s(:lvar, :dlg), :get_frame),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Template\nDialog")),
                s(:pair,
                  s(:sym, :justify),
                  s(:sym, :center)),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :c)),
                s(:pair,
                  s(:sym, :width),
                  s(:int, 80)))), :pack,
            s(:hash,
              s(:pair,
                s(:sym, :fill),
                s(:sym, :both)),
              s(:pair,
                s(:sym, :expand),
                s(:true)),
              s(:pair,
                s(:sym, :padx),
                s(:int, 100)),
              s(:pair,
                s(:sym, :pady),
                s(:int, 100)))),
          s(:send,
            s(:lvar, :dlg), :draw),
          s(:send,
            s(:lvar, :dlg), :destroy))),
      s(:defs,
        s(:self), :_show_msgdlg,
        s(:args),
        s(:begin,
          s(:if,
            s(:cvar, :@@msgdlg),
            s(:send,
              s(:cvar, :@@msgdlg), :destroy), nil),
          s(:cvasgn, :@@msgdlg,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :MessageDlg), :new,
              s(:hash,
                s(:pair,
                  s(:sym, :relative),
                  s(:send,
                    s(:const, nil, :Tk), :root)),
                s(:pair,
                  s(:sym, :message),
                  s(:str, "Message for MessageBox")),
                s(:pair,
                  s(:sym, :type),
                  s(:send,
                    s(:cvar, :@@msg), :[],
                    s(:str, "type"))),
                s(:pair,
                  s(:sym, :icon),
                  s(:send,
                    s(:cvar, :@@msg), :[],
                    s(:str, "icon"))),
                s(:pair,
                  s(:sym, :buttons),
                  s(:send,
                    s(:cvar, :@@msg), :[],
                    s(:str, "buttons")))))),
          s(:send,
            s(:cvar, :@@msgdlg), :create))),
      s(:defs,
        s(:self), :_show_fontdlg,
        s(:args),
        s(:begin,
          s(:lvasgn, :font,
            s(:send,
              s(:send,
                s(:const,
                  s(:const,
                    s(:const, nil, :Tk), :BWidget), :SelectFont), :new,
                s(:hash,
                  s(:pair,
                    s(:sym, :relative),
                    s(:send,
                      s(:const, nil, :Tk), :root)),
                  s(:pair,
                    s(:sym, :font),
                    s(:send,
                      s(:const, nil, :DemoVar), :font)))), :create)),
          s(:send,
            s(:const,
              s(:const, nil, :DemoVar), :Demo), :update_font,
            s(:lvar, :font)))),
      s(:defs,
        s(:self), :_show_progdlg,
        s(:args),
        s(:begin,
          s(:send,
            s(:cvar, :@@progmsg), :value=,
            s(:str, "Compute in progress...")),
          s(:send,
            s(:cvar, :@@progval), :value=,
            s(:int, 0)),
          s(:cvasgn, :@@progdlg,
            s(:block,
              s(:send,
                s(:const,
                  s(:const,
                    s(:const, nil, :Tk), :BWidget), :ProgressDlg), :new,
                s(:hash,
                  s(:pair,
                    s(:sym, :relative),
                    s(:send,
                      s(:const, nil, :Tk), :root)),
                  s(:pair,
                    s(:sym, :title),
                    s(:str, "Wait...")),
                  s(:pair,
                    s(:sym, :type),
                    s(:str, "infinite")),
                  s(:pair,
                    s(:sym, :width),
                    s(:int, 20)),
                  s(:pair,
                    s(:sym, :textvariable),
                    s(:cvar, :@@progmsg)),
                  s(:pair,
                    s(:sym, :variable),
                    s(:cvar, :@@progval)),
                  s(:pair,
                    s(:sym, :stop),
                    s(:str, "Stop")))),
              s(:args),
              s(:begin,
                s(:send, nil, :command,
                  s(:block,
                    s(:send, nil, :proc),
                    s(:args),
                    s(:send,
                      s(:self), :destroy))),
                s(:send, nil, :create)))),
          s(:send, nil, :_update_progdlg))),
      s(:defs,
        s(:self), :_update_progdlg,
        s(:args),
        s(:send,
          s(:send,
            s(:const, nil, :TkTimer), :new,
            s(:int, 20),
            s(:int, -1),
            s(:block,
              s(:send, nil, :proc),
              s(:args),
              s(:if,
                s(:and,
                  s(:cvar, :@@progdlg),
                  s(:send,
                    s(:cvar, :@@progdlg), :winfo_exist?)),
                s(:send,
                  s(:cvar, :@@progval), :value=,
                  s(:int, 2)),
                s(:send, nil, :stop)))), :start)),
      s(:defs,
        s(:self), :_show_passdlg,
        s(:args),
        s(:send,
          s(:send,
            s(:const,
              s(:const,
                s(:const, nil, :Tk), :BWidget), :PasswdDlg), :new,
            s(:hash,
              s(:pair,
                s(:sym, :relative),
                s(:send,
                  s(:const, nil, :Tk), :root)))), :create)))))
