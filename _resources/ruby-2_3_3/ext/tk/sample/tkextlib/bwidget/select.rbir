s(:begin,
  s(:if,
    s(:send,
      s(:const, nil, :Object), :const_defined?,
      s(:str, "DemoVar")), nil,
    s(:send, nil, :fail,
      s(:const, nil, :RuntimeError),
      s(:str, "This is NOT a stand alone script. This script is called from 'demo.rb'. "))),
  s(:module,
    s(:const, nil, :DemoSelect),
    s(:begin,
      s(:cvasgn, :@@var,
        s(:send,
          s(:const, nil, :TkVariable), :new_hash)),
      s(:defs,
        s(:self), :create,
        s(:args,
          s(:arg, :nb)),
        s(:begin,
          s(:lvasgn, :frame,
            s(:send,
              s(:lvar, :nb), :insert,
              s(:str, "end"),
              s(:str, "demoSelect"),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Spin & Combo"))))),
          s(:lvasgn, :titf1,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :TitleFrame), :new,
              s(:lvar, :frame),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "SpinBox"))))),
          s(:lvasgn, :subf,
            s(:send,
              s(:lvar, :titf1), :get_frame)),
          s(:lvasgn, :spin,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :SpinBox), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :range),
                  s(:array,
                    s(:int, 1),
                    s(:int, 100),
                    s(:int, 1))),
                s(:pair,
                  s(:sym, :textvariable),
                  s(:send,
                    s(:cvar, :@@var), :ref,
                    s(:str, "spin"),
                    s(:str, "var"))),
                s(:pair,
                  s(:sym, :helptext),
                  s(:str, "This is the SpinBox"))))),
          s(:lvasgn, :ent,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :LabelEntry), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :label),
                  s(:str, "Linked var")),
                s(:pair,
                  s(:sym, :labelwidth),
                  s(:int, 10)),
                s(:pair,
                  s(:sym, :labelanchor),
                  s(:sym, :w)),
                s(:pair,
                  s(:sym, :textvariable),
                  s(:send,
                    s(:cvar, :@@var), :ref,
                    s(:str, "spin"),
                    s(:str, "var"))),
                s(:pair,
                  s(:sym, :editable),
                  s(:int, 0)),
                s(:pair,
                  s(:sym, :helptext),
                  s(:str, "This is an Entry reflecting\nthe linked var of SpinBox"))))),
          s(:lvasgn, :labf,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :LabelFrame), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Options")),
                s(:pair,
                  s(:sym, :side),
                  s(:sym, :top)),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)),
                s(:pair,
                  s(:sym, :relief),
                  s(:sym, :sunken)),
                s(:pair,
                  s(:sym, :borderwidth),
                  s(:int, 1)),
                s(:pair,
                  s(:sym, :helptext),
                  s(:str, "Modify some options of SpinBox"))))),
          s(:lvasgn, :subf,
            s(:send,
              s(:lvar, :labf), :get_frame)),
          s(:lvasgn, :chk1,
            s(:send,
              s(:const, nil, :TkCheckbutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Non editable")),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@var), :ref,
                    s(:str, "spin"),
                    s(:str, "editable"))),
                s(:pair,
                  s(:sym, :onvalue),
                  s(:false)),
                s(:pair,
                  s(:sym, :offvalue),
                  s(:true)),
                s(:pair,
                  s(:sym, :command),
                  s(:block,
                    s(:send, nil, :proc),
                    s(:args),
                    s(:send,
                      s(:lvar, :spin), :editable,
                      s(:send,
                        s(:cvar, :@@var), :[],
                        s(:str, "spin"),
                        s(:str, "editable")))))))),
          s(:lvasgn, :chk2,
            s(:send,
              s(:const, nil, :TkCheckbutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Disabled")),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@var), :ref,
                    s(:str, "spin"),
                    s(:str, "state"))),
                s(:pair,
                  s(:sym, :onvalue),
                  s(:str, "disabled")),
                s(:pair,
                  s(:sym, :offvalue),
                  s(:str, "normal")),
                s(:pair,
                  s(:sym, :command),
                  s(:block,
                    s(:send, nil, :proc),
                    s(:args),
                    s(:send,
                      s(:lvar, :spin), :state,
                      s(:send,
                        s(:cvar, :@@var), :[],
                        s(:str, "spin"),
                        s(:str, "state")))))))),
          s(:send,
            s(:const, nil, :Tk), :pack,
            s(:lvar, :chk1),
            s(:lvar, :chk2),
            s(:hash,
              s(:pair,
                s(:sym, :side),
                s(:sym, :left)),
              s(:pair,
                s(:sym, :anchor),
                s(:sym, :w)))),
          s(:send,
            s(:const, nil, :Tk), :pack,
            s(:lvar, :spin),
            s(:lvar, :ent),
            s(:lvar, :labf),
            s(:hash,
              s(:pair,
                s(:sym, :pady),
                s(:int, 4)),
              s(:pair,
                s(:sym, :fill),
                s(:sym, :x)))),
          s(:send,
            s(:lvar, :titf1), :pack),
          s(:lvasgn, :titf2,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :TitleFrame), :new,
              s(:lvar, :frame),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "ComboBox"))))),
          s(:lvasgn, :subf,
            s(:send,
              s(:lvar, :titf2), :get_frame)),
          s(:lvasgn, :combo,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :ComboBox), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :textvariable),
                  s(:send,
                    s(:cvar, :@@var), :ref,
                    s(:str, "combo"),
                    s(:str, "var"))),
                s(:pair,
                  s(:sym, :values),
                  s(:array,
                    s(:str, "first value"),
                    s(:str, "second value"),
                    s(:str, "third value"),
                    s(:str, "fourth value"),
                    s(:str, "fifth value"))),
                s(:pair,
                  s(:sym, :helptext),
                  s(:str, "This is the ComboBox"))))),
          s(:lvasgn, :ent,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :LabelEntry), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :label),
                  s(:str, "Linked var")),
                s(:pair,
                  s(:sym, :labelwidth),
                  s(:int, 10)),
                s(:pair,
                  s(:sym, :labelanchor),
                  s(:sym, :w)),
                s(:pair,
                  s(:sym, :textvariable),
                  s(:send,
                    s(:cvar, :@@var), :ref,
                    s(:str, "combo"),
                    s(:str, "var"))),
                s(:pair,
                  s(:sym, :editable),
                  s(:int, 0)),
                s(:pair,
                  s(:sym, :helptext),
                  s(:str, "This is an Entry reflecting\nthe linked var of ComboBox"))))),
          s(:lvasgn, :labf,
            s(:send,
              s(:const,
                s(:const,
                  s(:const, nil, :Tk), :BWidget), :LabelFrame), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Options")),
                s(:pair,
                  s(:sym, :side),
                  s(:sym, :top)),
                s(:pair,
                  s(:sym, :anchor),
                  s(:sym, :w)),
                s(:pair,
                  s(:sym, :relief),
                  s(:sym, :sunken)),
                s(:pair,
                  s(:sym, :borderwidth),
                  s(:int, 1)),
                s(:pair,
                  s(:sym, :helptext),
                  s(:str, "Modify some options of ComboBox"))))),
          s(:lvasgn, :subf,
            s(:send,
              s(:lvar, :labf), :get_frame)),
          s(:lvasgn, :chk1,
            s(:send,
              s(:const, nil, :TkCheckbutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Non editable")),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@var), :ref,
                    s(:str, "combo"),
                    s(:str, "editable"))),
                s(:pair,
                  s(:sym, :onvalue),
                  s(:false)),
                s(:pair,
                  s(:sym, :offvalue),
                  s(:true)),
                s(:pair,
                  s(:sym, :command),
                  s(:block,
                    s(:send, nil, :proc),
                    s(:args),
                    s(:send,
                      s(:lvar, :combo), :editable,
                      s(:send,
                        s(:cvar, :@@var), :[],
                        s(:str, "combo"),
                        s(:str, "editable")))))))),
          s(:lvasgn, :chk2,
            s(:send,
              s(:const, nil, :TkCheckbutton), :new,
              s(:lvar, :subf),
              s(:hash,
                s(:pair,
                  s(:sym, :text),
                  s(:str, "Disabled")),
                s(:pair,
                  s(:sym, :variable),
                  s(:send,
                    s(:cvar, :@@var), :ref,
                    s(:str, "combo"),
                    s(:str, "state"))),
                s(:pair,
                  s(:sym, :onvalue),
                  s(:str, "disabled")),
                s(:pair,
                  s(:sym, :offvalue),
                  s(:str, "normal")),
                s(:pair,
                  s(:sym, :command),
                  s(:block,
                    s(:send, nil, :proc),
                    s(:args),
                    s(:send,
                      s(:lvar, :combo), :state,
                      s(:send,
                        s(:cvar, :@@var), :[],
                        s(:str, "combo"),
                        s(:str, "state")))))))),
          s(:send,
            s(:const, nil, :Tk), :pack,
            s(:lvar, :chk1),
            s(:lvar, :chk2),
            s(:hash,
              s(:pair,
                s(:sym, :side),
                s(:sym, :left)),
              s(:pair,
                s(:sym, :anchor),
                s(:sym, :w)))),
          s(:send,
            s(:const, nil, :Tk), :pack,
            s(:lvar, :combo),
            s(:lvar, :ent),
            s(:lvar, :labf),
            s(:hash,
              s(:pair,
                s(:sym, :pady),
                s(:int, 4)),
              s(:pair,
                s(:sym, :fill),
                s(:sym, :x)))),
          s(:send,
            s(:const, nil, :Tk), :pack,
            s(:lvar, :titf1),
            s(:lvar, :titf2),
            s(:hash,
              s(:pair,
                s(:sym, :pady),
                s(:int, 4)))),
          s(:lvar, :frame))))))
