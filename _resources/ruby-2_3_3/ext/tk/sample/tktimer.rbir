s(:begin,
  s(:send, nil, :require,
    s(:str, "tk")),
  s(:gvasgn, :$label,
    s(:block,
      s(:send,
        s(:const, nil, :TkLabel), :new),
      s(:args),
      s(:begin,
        s(:send, nil, :text,
          s(:str, "0.00")),
        s(:send, nil, :relief,
          s(:str, "raised")),
        s(:send, nil, :width,
          s(:int, 10)),
        s(:send, nil, :pack,
          s(:hash,
            s(:pair,
              s(:str, "side"),
              s(:str, "bottom")),
            s(:pair,
              s(:str, "fill"),
              s(:str, "both"))))))),
  s(:block,
    s(:send,
      s(:const, nil, :TkButton), :new),
    s(:args),
    s(:begin,
      s(:send, nil, :text,
        s(:str, "Start")),
      s(:send, nil, :command,
        s(:block,
          s(:send, nil, :proc),
          s(:args),
          s(:if,
            s(:gvar, :$stopped),
            s(:begin,
              s(:gvasgn, :$stopped,
                s(:const, nil, :FALSE)),
              s(:send, nil, :tick)), nil))),
      s(:send, nil, :pack,
        s(:hash,
          s(:pair,
            s(:str, "side"),
            s(:str, "left")),
          s(:pair,
            s(:str, "fill"),
            s(:str, "both")),
          s(:pair,
            s(:str, "expand"),
            s(:str, "yes")))))),
  s(:block,
    s(:send,
      s(:const, nil, :TkButton), :new),
    s(:args),
    s(:begin,
      s(:send, nil, :text,
        s(:str, "Stop")),
      s(:send, nil, :command,
        s(:block,
          s(:send, nil, :proc),
          s(:args),
          s(:begin,
            s(:if,
              s(:gvar, :$stopped),
              s(:send, nil, :exit), nil),
            s(:gvasgn, :$stopped,
              s(:const, nil, :TRUE))))),
      s(:send, nil, :pack,
        s(:hash,
          s(:pair,
            s(:str, "side"),
            s(:str, "right")),
          s(:pair,
            s(:str, "fill"),
            s(:str, "both")),
          s(:pair,
            s(:str, "expand"),
            s(:str, "yes")))))),
  s(:gvasgn, :$seconds,
    s(:int, 0)),
  s(:gvasgn, :$hundredths,
    s(:int, 0)),
  s(:gvasgn, :$stopped,
    s(:const, nil, :TRUE)),
  s(:def, :tick,
    s(:args),
    s(:begin,
      s(:if,
        s(:gvar, :$stopped),
        s(:return), nil),
      s(:send,
        s(:const, nil, :Tk), :after,
        s(:int, 50),
        s(:block,
          s(:send, nil, :proc),
          s(:args),
          s(:send, nil, :tick))),
      s(:op_asgn,
        s(:gvasgn, :$hundredths), :+,
        s(:int, 5)),
      s(:if,
        s(:send,
          s(:gvar, :$hundredths), :>=,
          s(:int, 100)),
        s(:begin,
          s(:gvasgn, :$hundredths,
            s(:int, 0)),
          s(:op_asgn,
            s(:gvasgn, :$seconds), :+,
            s(:int, 1))), nil),
      s(:send,
        s(:gvar, :$label), :text,
        s(:send, nil, :format,
          s(:str, "%d.%02d"),
          s(:gvar, :$seconds),
          s(:gvar, :$hundredths))))),
  s(:lvasgn, :root,
    s(:send,
      s(:const, nil, :Tk), :root)),
  s(:send,
    s(:lvar, :root), :bind,
    s(:str, "Control-c"),
    s(:block,
      s(:send, nil, :proc),
      s(:args),
      s(:send,
        s(:lvar, :root), :destroy))),
  s(:send,
    s(:lvar, :root), :bind,
    s(:str, "Control-q"),
    s(:block,
      s(:send, nil, :proc),
      s(:args),
      s(:send,
        s(:lvar, :root), :destroy))),
  s(:send,
    s(:send,
      s(:const, nil, :Tk), :root), :focus),
  s(:send,
    s(:const, nil, :Tk), :mainloop))
