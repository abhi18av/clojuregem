s(:begin,
  s(:send, nil, :require,
    s(:str, "tk")),
  s(:lvasgn, :root,
    s(:send,
      s(:const, nil, :TkFrame), :new)),
  s(:lvasgn, :top,
    s(:block,
      s(:send,
        s(:const, nil, :TkFrame), :new,
        s(:lvar, :root)),
      s(:args),
      s(:begin,
        s(:send, nil, :relief,
          s(:str, "raised")),
        s(:send, nil, :border,
          s(:int, 1))))),
  s(:lvasgn, :msg,
    s(:block,
      s(:send,
        s(:const, nil, :TkMessage), :new,
        s(:lvar, :top)),
      s(:args),
      s(:begin,
        s(:send, nil, :text,
          s(:str, "File main.c hasn't been saved to disk since \nit was last modified.  What should I do?")),
        s(:send, nil, :justify,
          s(:str, "center")),
        s(:send, nil, :aspect,
          s(:int, 200)),
        s(:send, nil, :font,
          s(:str, "-Adobe-helvetica-medium-r-normal--*-240*")),
        s(:send, nil, :pack,
          s(:hash,
            s(:pair,
              s(:str, "padx"),
              s(:int, 5)),
            s(:pair,
              s(:str, "pady"),
              s(:int, 5)),
            s(:pair,
              s(:str, "expand"),
              s(:str, "yes"))))))),
  s(:send,
    s(:lvar, :top), :pack,
    s(:hash,
      s(:pair,
        s(:str, "fill"),
        s(:str, "both")))),
  s(:send,
    s(:lvar, :root), :pack),
  s(:lvasgn, :bot,
    s(:block,
      s(:send,
        s(:const, nil, :TkFrame), :new,
        s(:lvar, :root)),
      s(:args),
      s(:begin,
        s(:send, nil, :relief,
          s(:str, "raised")),
        s(:send, nil, :border,
          s(:int, 1))))),
  s(:block,
    s(:send,
      s(:const, nil, :TkFrame), :new,
      s(:lvar, :bot)),
    s(:args,
      s(:arg, :left)),
    s(:begin,
      s(:send, nil, :relief,
        s(:str, "sunken")),
      s(:send, nil, :border,
        s(:int, 1)),
      s(:send, nil, :pack,
        s(:hash,
          s(:pair,
            s(:str, "side"),
            s(:str, "left")),
          s(:pair,
            s(:str, "expand"),
            s(:str, "yes")),
          s(:pair,
            s(:str, "padx"),
            s(:int, 10)),
          s(:pair,
            s(:str, "pady"),
            s(:int, 10)))),
      s(:block,
        s(:send,
          s(:const, nil, :TkButton), :new,
          s(:lvar, :left)),
        s(:args),
        s(:begin,
          s(:send, nil, :text,
            s(:str, "Save File")),
          s(:send, nil, :command,
            s(:str, "quit 'save'")),
          s(:send, nil, :pack,
            s(:hash,
              s(:pair,
                s(:str, "expand"),
                s(:str, "yes")),
              s(:pair,
                s(:str, "padx"),
                s(:int, 6)),
              s(:pair,
                s(:str, "pady"),
                s(:int, 6)))),
          s(:send,
            s(:lvar, :top), :bind,
            s(:str, "Enter"),
            s(:block,
              s(:send, nil, :proc),
              s(:args),
              s(:send, nil, :state,
                s(:str, "active")))),
          s(:send,
            s(:lvar, :msg), :bind,
            s(:str, "Enter"),
            s(:block,
              s(:send, nil, :proc),
              s(:args),
              s(:send, nil, :state,
                s(:str, "active")))),
          s(:send,
            s(:lvar, :bot), :bind,
            s(:str, "Enter"),
            s(:block,
              s(:send, nil, :proc),
              s(:args),
              s(:send, nil, :state,
                s(:str, "active")))),
          s(:send,
            s(:lvar, :top), :bind,
            s(:str, "Leave"),
            s(:block,
              s(:send, nil, :proc),
              s(:args),
              s(:send, nil, :state,
                s(:str, "normal")))),
          s(:send,
            s(:lvar, :msg), :bind,
            s(:str, "Leave"),
            s(:block,
              s(:send, nil, :proc),
              s(:args),
              s(:send, nil, :state,
                s(:str, "normal")))),
          s(:send,
            s(:lvar, :bot), :bind,
            s(:str, "Leave"),
            s(:block,
              s(:send, nil, :proc),
              s(:args),
              s(:send, nil, :state,
                s(:str, "normal")))),
          s(:send,
            s(:send,
              s(:const, nil, :Tk), :root), :bind,
            s(:str, "ButtonRelease-1"),
            s(:block,
              s(:send, nil, :proc),
              s(:args),
              s(:send, nil, :quit,
                s(:str, "save")))),
          s(:send,
            s(:send,
              s(:const, nil, :Tk), :root), :bind,
            s(:str, "Return"),
            s(:block,
              s(:send, nil, :proc),
              s(:args),
              s(:send, nil, :quit,
                s(:str, "save")))))))),
  s(:block,
    s(:send,
      s(:const, nil, :TkButton), :new,
      s(:lvar, :bot)),
    s(:args),
    s(:begin,
      s(:send, nil, :text,
        s(:str, "Quit Anyway")),
      s(:send, nil, :command,
        s(:str, "quit 'quit'")),
      s(:send, nil, :pack,
        s(:hash,
          s(:pair,
            s(:str, "side"),
            s(:str, "left")),
          s(:pair,
            s(:str, "expand"),
            s(:str, "yes")),
          s(:pair,
            s(:str, "padx"),
            s(:int, 10)))))),
  s(:block,
    s(:send,
      s(:const, nil, :TkButton), :new,
      s(:lvar, :bot)),
    s(:args),
    s(:begin,
      s(:send, nil, :text,
        s(:str, "Return To Editor")),
      s(:send, nil, :command,
        s(:str, "quit 'return'")),
      s(:send, nil, :pack,
        s(:hash,
          s(:pair,
            s(:str, "side"),
            s(:str, "left")),
          s(:pair,
            s(:str, "expand"),
            s(:str, "yes")),
          s(:pair,
            s(:str, "padx"),
            s(:int, 10)))))),
  s(:send,
    s(:lvar, :bot), :pack),
  s(:send,
    s(:lvar, :root), :pack,
    s(:hash,
      s(:pair,
        s(:str, "side"),
        s(:str, "top")),
      s(:pair,
        s(:str, "fill"),
        s(:str, "both")),
      s(:pair,
        s(:str, "expand"),
        s(:str, "yes")))),
  s(:def, :quit,
    s(:args,
      s(:arg, :button)),
    s(:begin,
      s(:send, nil, :print,
        s(:dstr,
          s(:str, "You pressed the \""),
          s(:begin,
            s(:lvar, :button)),
          s(:str, "\" button;  bye-bye!\n"))),
      s(:send, nil, :exit))),
  s(:send,
    s(:const, nil, :Tk), :mainloop))
